(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{378:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAjCAYAAAAAEIPqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA8dJREFUeNrMmG9ollUYxn973AoD3fozdOmms3LlH8qyDzNIWIYOlVhgoqBWUJGaZCKhsU99UUT8ZGCiOEmp0I/DD5GiFknMWLmJOM2WZepayjamNnuvvtyDw9nzF9+984Kb932ec5/zXM9z7nOf69xFkkiJUcDTwAzgeWAqMB54GLgL9ABdwFngNNAGnAdy5BlFKUhXAK8Dy4EXgZKUY+eM/NfAQeBKvkgXx7SNBdYBq414VvwFXAPGAZWFID0b2GVhkAXXgQNAM/AD0O/PrFku3+HxBvA5UJrxq+4A9llcA5QBMy2kZgCPAw8BAfAv8A/QAfxk1mlrIxmSXFslaUDZ0CSp3PoXS3pF0n5JXRnGuC3plKQ1kio8TkPMvZgjqTfDg3okven0ny/pe907rkv6RFJZEulHJbVmGPhvSXXWd6yk3co/2iTNjSO9OcNgNyXNs35VNq3DhVuS3g0jXS6pM8NAb1nnakntKgw+9Ek3ZOi8zzqOkfSdCosGl/RnGRZItXXcrsLjV0mTJBEAz6bMxU3AJcu7H1B4VAMbsESfZov+z/QDwHsZ9Ee+sRJ4KkjQH4NoAVqBcmARI4dS4NUAuJnC+QQgC6VxMX7dwI2Y9j7TJ1EYMEkQt53PD4ALKUi32+8LMT57gBpgOnAopP2krYcpQGNI+zXgNYvdpY6G8VGDpA0pVu5iyxpRmeaCpEecXFop6arn4+9u33jtG732LRHP+i0AvjXVlbQQAR6MaL/jjXHHzD0Q9IeEiouehOtBlAS2wJoTSI92pjAM04D37Uj2APARUOW0B8B6R+4uAeq9MdbZEQ7gOeDtyA/oKLxbMeGx1vxWxPjkJHXYJhCFK7b1D8Toml8S1OZpN4YaEzQzkmZK6tPIYqdLepSkgxGOlxx92zLCpOsDb7GtBn4OiaPJwEv2f+8Ibi4/AscC72avkyl8rLHfLyJerBDYCtz2TwUTJHXHTM1C81sg6W6Bw2Jv2BkRSS9HkBlc7RclTTTf9QUkfMqOhAxKUxdPWq51ccYqTLXAV8ACu78jYjvON64Cy0zXhJYQtjlv1y3pYzu4uj4lkoq8skPPMH7lPz2JMIT0l05efiKp/uDYdElHhon0gKRa93mBVxXttO11FXAxwxS2W78G4LinO9IiF5G5ii1sQ8tieamzOdphidUCn7GSmH/akYmmc1YWPmz3PwVmeb5bgE1hBUiZ5QOtZgBjgEnAROAxm9E+E1+XgT+8L3wUeMdIjnfKzZG1vPvJKiXtsrg+GhXT9xsu2yG6DvjdqrAA/D8AXcj2Az0x++wAAAAASUVORK5CYII="},419:function(e,t,a){e.exports=a(773)},43:function(e,t,a){(function(t){var a=function(e,a){if(!e)return!1;if(!e.roles&&!e.permissions)return!1;if("admin"!==e.name&&t&&Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_HTTP_ENDPOINT:"",REACT_APP_API_WS_ENDPOINT:"",REACT_APP_BUILDDATE:"2019-09-06T19:59:48+02:00",REACT_APP_BUILDTARGET:"basic",REACT_APP_GIT_BRANCH:"release/1.7.5",REACT_APP_GIT_REVISION:"2aedecaec6ded8bcb689ba8e4db67f7374467ffb"})&&Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_HTTP_ENDPOINT:"",REACT_APP_API_WS_ENDPOINT:"",REACT_APP_BUILDDATE:"2019-09-06T19:59:48+02:00",REACT_APP_BUILDTARGET:"basic",REACT_APP_GIT_BRANCH:"release/1.7.5",REACT_APP_GIT_REVISION:"2aedecaec6ded8bcb689ba8e4db67f7374467ffb"}).BOTIUMBOX_DISABLE_PERMISSIONS&&Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_HTTP_ENDPOINT:"",REACT_APP_API_WS_ENDPOINT:"",REACT_APP_BUILDDATE:"2019-09-06T19:59:48+02:00",REACT_APP_BUILDTARGET:"basic",REACT_APP_GIT_BRANCH:"release/1.7.5",REACT_APP_GIT_REVISION:"2aedecaec6ded8bcb689ba8e4db67f7374467ffb"}).BOTIUMBOX_DISABLE_PERMISSIONS.indexOf(a)>=0)return!1;var n=[];if(e.roles){var r=!0,s=!1,i=void 0;try{for(var o,l=e.roles[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var c=o.value;c.permissions&&c.permissions.forEach(function(e){return n.push(e)})}}catch(p){s=!0,i=p}finally{try{r||null==l.return||l.return()}finally{if(s)throw i}}}e.permissions&&e.permissions.forEach(function(e){return n.push(e)});for(var u=0,m=n;u<m.length;u++){var d=m[u];if("*"===d)return!0;if(d.endsWith("*")){if(a.startsWith(d.substr(0,d.length-1)))return!0}else if(d.startsWith("*")){if(a.endsWith(d.substr(1)))return!0}else if(d===a)return!0}return!1};e.exports={permissionTypes:{AGENTS_SELECT:"AGENTS_SELECT",AGENTS_CREATE:"AGENTS_CREATE",AGENTS_UPDATE:"AGENTS_UPDATE",AGENTS_DELETE:"AGENTS_DELETE",CHATBOTS_SELECT:"CHATBOTS_SELECT",CHATBOTS_CREATE:"CHATBOTS_CREATE",CHATBOTS_UPDATE:"CHATBOTS_UPDATE",CHATBOTS_DELETE:"CHATBOTS_DELETE",CHATBOTS_LIVECHAT:"CHATBOTS_LIVECHAT",DEVICESETS_SELECT:"DEVICESETS_SELECT",DEVICESETS_CREATE:"DEVICESETS_CREATE",DEVICESETS_UPDATE:"DEVICESETS_UPDATE",DEVICESETS_DELETE:"DEVICESETS_DELETE",TESTPROJECTS_SELECT:"TESTPROJECTS_SELECT",TESTPROJECTS_CREATE:"TESTPROJECTS_CREATE",TESTPROJECTS_UPDATE:"TESTPROJECTS_UPDATE",TESTPROJECTS_DELETE:"TESTPROJECTS_DELETE",TESTSETS_SELECT:"TESTSETS_SELECT",TESTSETS_CREATE:"TESTSETS_CREATE",TESTSETS_UPDATE:"TESTSETS_UPDATE",TESTSETS_DELETE:"TESTSETS_DELETE",TESTSESSIONS_SELECT:"TESTSESSIONS_SELECT",TESTSESSIONS_CREATE:"TESTSESSIONS_CREATE",TESTSESSIONS_DELETE:"TESTSESSIONS_DELETE",TESTSESSIONS_REPORTS:"TESTSESSIONS_REPORTS",APIKEYS_SELECT:"APIKEYS_SELECT",APIKEYS_MANAGE:"APIKEYS_MANAGE",DEVICEPROVIDERS_SELECT:"DEVICEPROVIDERS_SELECT",DEVICEPROVIDERS_MANAGE:"DEVICEPROVIDERS_MANAGE",REGISTEREDCOMPONENTS_SELECT:"REGISTEREDCOMPONENTS_SELECT",REGISTEREDCOMPONENTS_MANAGE:"REGISTEREDCOMPONENTS_MANAGE",USERS_MANAGE:"USERS_MANAGE",SYSTEMSETTINGS_MANAGE:"SYSTEMSETTINGS_MANAGE",IMPORT_PRISMA:"IMPORT_PRISMA"},hasPermission:a,hasAnyPermission:function(e,t){var n=!0,r=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;if(a(e,l))return!0}}catch(c){r=!0,s=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return!1},hasAllPermissions:function(e,t){var n=!0,r=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;if(!a(e,l))return!1}}catch(c){r=!0,s=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return!0}}}).call(this,a(63))},608:function(e,t){},610:function(e,t){},644:function(e,t){},645:function(e,t){},757:function(e,t,a){},763:function(e,t,a){},773:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getToken",function(){return B}),a.d(n,"getUser",function(){return U}),a.d(n,"getClient",function(){return W}),a.d(n,"setLogin",function(){return H}),a.d(n,"clearLogin",function(){return G}),a.d(n,"setClient",function(){return z}),a.d(n,"clearClient",function(){return $});var r={};a.r(r),a.d(r,"clearAlert",function(){return Rt}),a.d(r,"setAlert",function(){return jt}),a.d(r,"setAlertSuccessMessage",function(){return Nt}),a.d(r,"setAlertErrorMessage",function(){return _t});var s=a(0),i=a.n(s),o=a(64),l=a.n(o),c=a(19),u=a(258),m=a(112),d=a(257),p=a(382),E=a(47),b=a(21),h=a(4),g=a(8),f=a(9),S=a(13),v=a(11),T=a(12),y=a(62),x=a(779),O=a(780),C=a(523),A=a(103),k=a(340),I=a.n(k);function P(e){var t=function(e){var t=I()(e);if(!t.exp)return null;var a=new Date(0);return a.setUTCSeconds(t.exp),a}(e);return null!==t&&!(t.valueOf()>(new Date).valueOf()+0)}var w="SET_LOGIN",R="CLEAR_LOGIN",j="SET_CLIENT",N="CLEAR_CLIENT",_="SET_ALERT",D="CLEAR_ALERT",F="SET_TABLE_SETTINGS",L="CLEAR_TABLE_SETTINGS",V="SET_DASHBOARD_SETTINGS",M="CLEAR_DASHBOARD_SETTINGS";function B(){return function(e,t){return((a=t())&&a.token||{}).token;var a}}function U(){return function(e,t){return((a=t())&&a.token||{}).user;var a}}function W(){return function(e,t){return((a=t())&&a.token||{}).client;var a}}function H(e,t){return{type:w,payload:{token:e,user:t}}}function G(){return{type:R}}function z(e){return{type:j,payload:{client:e}}}function $(){return{type:N}}var q=a(89),K=a(40),J=a(776),X=a(27),Q=a(203),Y=a(56),Z=a.n(Y),ee=a(5),te=a.n(ee),ae=a(58),ne=a.n(ae),re=a(18),se=a(28),ie=a(16),oe=a.n(ie),le=a(185),ce=a.n(le),ue=a(34),me=a.n(ue),de=a(75),pe=a.n(de),Ee=a(10),be={transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},he={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},ge={boxShadow:"0 10px 30px -12px rgba(0, 0, 0, 0.42), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)"},fe={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"},Se={boxShadow:"0 12px 20px -10px rgba(156, 39, 176, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(156, 39, 176, 0.2)"},ve={boxShadow:"0 12px 20px -10px rgba(0, 188, 212, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(0, 188, 212, 0.2)"},Te={boxShadow:"0 12px 20px -10px rgba(76, 175, 80, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(76, 175, 80, 0.2)"},ye={boxShadow:"0 12px 20px -10px rgba(255, 152, 0, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(255, 152, 0, 0.2)"},xe={boxShadow:"0 12px 20px -10px rgba(244, 67, 54, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(244, 67, 54, 0.2)"},Oe={boxShadow:"0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(233, 30, 99, 0.4)"},Ce=Object(Ee.a)({background:"linear-gradient(60deg, #ffa726, #fb8c00)"},ye),Ae=Object(Ee.a)({background:"linear-gradient(60deg, #66bb6a, #43a047)"},Te),ke=Object(Ee.a)({background:"linear-gradient(60deg, #ef5350, #e53935)"},xe),Ie=Object(Ee.a)({background:"linear-gradient(60deg, #2A3F54, #00acc1)"},ve),Pe=Object(Ee.a)({background:"linear-gradient(60deg, #ab47bc, #8e24aa)"},Se),we=Object(Ee.a)({background:"linear-gradient(60deg, #ec407a, #d81b60)"},Oe),Re=(Object(Ee.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid #eeeeee",height:"auto"},fe),{border:"0",borderRadius:"3px",boxShadow:"0 10px 20px -12px rgba(0, 0, 0, 0.42), 0 3px 20px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)",padding:"10px 0",transition:"all 150ms ease 0s"}),je={color:"#3C4858",textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:"#777",fontWeight:"400",lineHeight:"1"}},Ne=(Object(Ee.a)({},je,{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(Ee.a)({},je,{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{root:Object(Ee.a)({},fe,{flexWrap:"unset",position:"relative",padding:"20px 15px",lineHeight:"20px",marginBottom:"20px",fontSize:"14px",backgroundColor:"white",color:"#555555",borderRadius:"3px",boxShadow:"0 12px 20px -10px rgba(255, 255, 255, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(255, 255, 255, 0.2)"}),top20:{top:"20px"},top40:{top:"40px"},info:Object(Ee.a)({backgroundColor:"#00d3ee",color:"#ffffff"},ve),success:Object(Ee.a)({backgroundColor:"#5cb860",color:"#ffffff"},Te),warning:Object(Ee.a)({backgroundColor:"#ffa21a",color:"#ffffff"},ye),danger:Object(Ee.a)({backgroundColor:"#f55a4e",color:"#ffffff"},xe),primary:Object(Ee.a)({backgroundColor:"#af2cc5",color:"#ffffff"},Se),rose:Object(Ee.a)({backgroundColor:"#eb3573",color:"#ffffff"},Oe),message:{padding:"0",display:"block",maxWidth:"89%"},close:{width:"11px",height:"11px"},iconButton:{width:"24px",height:"24px"},icon:{display:"block",left:"15px",position:"absolute",top:"50%",marginTop:"-15px",width:"30px",height:"30px"},infoIcon:{color:"#00d3ee"},successIcon:{color:"#5cb860"},warningIcon:{color:"#ffa21a"},dangerIcon:{color:"#f55a4e"},primaryIcon:{color:"#af2cc5"},roseIcon:{color:"#eb3573"},iconMessage:{paddingLeft:"50px",display:"block"}});var _e=te()(Ne)(function(e){var t=Object(se.a)({},e),a=t.classes,n=t.message,r=t.color,s=t.close,o=t.icon,l=t.place,c=t.open,u=t.autoHideDuration,m=[],d=oe()(Object(re.a)({},a.iconMessage,void 0!==o));return s&&(m=[i.a.createElement(me.a,{className:a.iconButton,key:"close","aria-label":"Close",color:"inherit",onClick:function(){return t.closeNotification&&t.closeNotification()}},i.a.createElement(pe.a,{className:a.close}))]),i.a.createElement(ce.a,{anchorOrigin:{vertical:-1===l.indexOf("t")?"bottom":"top",horizontal:-1!==l.indexOf("l")?"left":-1!==l.indexOf("c")?"center":"right"},open:c,message:i.a.createElement("div",null,void 0!==o?i.a.createElement(t.icon,{className:a.icon}):null,i.a.createElement("span",{className:d},n)),action:m,ContentProps:{classes:{root:a.root+" "+a[r],message:a.message}},onClose:function(){return s&&t.closeNotification&&t.closeNotification()},autoHideDuration:u})}),De=a(186),Fe=a.n(De),Le=a(92),Ve=a.n(Le),Me=a(342),Be=a.n(Me),Ue=a(778),We=a(777),He=a(14),Ge=a.n(He),ze=a(159),$e=a.n(ze),qe=a(125),Ke=a.n(qe),Je=a(70),Xe=a.n(Je),Qe=a(157),Ye=a.n(Qe),Ze=a(158),et=a.n(Ze),tt=a(50),at=a.n(tt),nt=a(207),rt=a.n(nt),st=a(261),it=a.n(st),ot=a(84),lt=a.n(ot),ct=a(98),ut=a.n(ct),mt=a(97),dt=a.n(mt),pt=a(341),Et=a.n(pt),bt=a(76),ht=a.n(bt),gt={disabled:{"&:before":{backgroundColor:"transparent !important"}},underline:{"&:hover:not($disabled):before,&:before":{borderColor:"#D2D2D2 !important",borderWidth:"1px !important"},"&:after":{borderColor:"#2A3F54"}},underlineError:{"&:after":{borderColor:"#f44336"}},underlineSuccess:{"&:after":{borderColor:"#4caf50"}},labelRoot:Object(Ee.a)({},fe,{color:"#AAAAAA !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857"}),labelRootError:{color:"#f44336"},labelRootSuccess:{color:"#4caf50"},feedback:{position:"absolute",top:"18px",right:"0",zIndex:"2",display:"block",width:"24px",height:"24px",textAlign:"center",pointerEvents:"none"},marginTop:{marginTop:"16px"},formControl:{paddingBottom:"10px",margin:"27px 0 0 0",position:"relative"}};var ft=te()(gt)(function(e){var t,a,n=Object(se.a)({},e),r=n.classes,s=n.formControlProps,o=n.labelText,l=n.id,c=n.labelProps,u=n.inputProps,m=n.error,d=n.success,p=oe()((t={},Object(re.a)(t," "+r.labelRootError,m),Object(re.a)(t," "+r.labelRootSuccess,d&&!m),t)),E=oe()((a={},Object(re.a)(a,r.underlineError,m),Object(re.a)(a,r.underlineSuccess,d&&!m),Object(re.a)(a,r.underline,!0),a)),b=oe()(Object(re.a)({},r.marginTop,void 0===o));return i.a.createElement(lt.a,Object.assign({},s,{className:s.className+" "+r.formControl}),void 0!==o?i.a.createElement(ut.a,Object.assign({className:r.labelRoot+p,htmlFor:l},c),o):null,i.a.createElement(dt.a,Object.assign({classes:{root:b,disabled:r.disabled,underline:E},id:l},u)),m?i.a.createElement(Et.a,{className:r.feedback+" "+r.labelRootError}):d?i.a.createElement(ht.a,{className:r.feedback+" "+r.labelRootSuccess}):null)}),St=a(99),vt=a.n(St),Tt={button:{minHeight:"auto",minWidth:"auto",backgroundColor:"#999999",color:"#FFFFFF",boxShadow:"0 2px 2px 0 rgba(153, 153, 153, 0.14), 0 3px 1px -2px rgba(153, 153, 153, 0.2), 0 1px 5px 0 rgba(153, 153, 153, 0.12)",border:"none",borderRadius:"3px",position:"relative",padding:"12px 30px",margin:".3125rem 1px",fontSize:"12px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0",willChange:"box-shadow, transform",transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:"#FFFFFF",backgroundColor:"#999999",boxShadow:"0 14px 26px -12px rgba(153, 153, 153, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(153, 153, 153, 0.2)"},"& .fab,& .fas,& .far,& .fal, &.material-icons":{position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",fontSize:"1.1rem",marginRight:"4px",verticalAlign:"middle"},"& svg":{position:"relative",display:"inline-block",top:"0",width:"18px",height:"18px",marginRight:"4px",verticalAlign:"middle"},"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& .material-icons":{marginTop:"0px",position:"absolute",width:"100%",transform:"none",left:"0px",top:"0px",height:"100%",lineHeight:"41px",fontSize:"20px"}}},white:{"&,&:focus,&:hover":{backgroundColor:"#FFFFFF",color:"#999999"}},rose:{backgroundColor:"#e91e63",boxShadow:"0 2px 2px 0 rgba(233, 30, 99, 0.14), 0 3px 1px -2px rgba(233, 30, 99, 0.2), 0 1px 5px 0 rgba(233, 30, 99, 0.12)","&:hover,&:focus":{backgroundColor:"#e91e63",boxShadow:"0 14px 26px -12px rgba(233, 30, 99, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(233, 30, 99, 0.2)"}},primary:{backgroundColor:"#2A3F54",boxShadow:"0 2px 2px 0 rgba(156, 39, 176, 0.14), 0 3px 1px -2px rgba(156, 39, 176, 0.2), 0 1px 5px 0 rgba(156, 39, 176, 0.12)","&:hover,&:focus":{backgroundColor:"#2A3F54",boxShadow:"0 14px 26px -12px rgba(156, 39, 176, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(156, 39, 176, 0.2)"}},info:{backgroundColor:"#00acc1",boxShadow:"0 2px 2px 0 rgba(0, 188, 212, 0.14), 0 3px 1px -2px rgba(0, 188, 212, 0.2), 0 1px 5px 0 rgba(0, 188, 212, 0.12)","&:hover,&:focus":{backgroundColor:"#00acc1",boxShadow:"0 14px 26px -12px rgba(0, 188, 212, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 188, 212, 0.2)"}},success:{backgroundColor:"#4caf50",boxShadow:"0 2px 2px 0 rgba(76, 175, 80, 0.14), 0 3px 1px -2px rgba(76, 175, 80, 0.2), 0 1px 5px 0 rgba(76, 175, 80, 0.12)","&:hover,&:focus":{backgroundColor:"#4caf50",boxShadow:"0 14px 26px -12px rgba(76, 175, 80, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(76, 175, 80, 0.2)"}},warning:{backgroundColor:"#ff9800",boxShadow:"0 2px 2px 0 rgba(255, 152, 0, 0.14), 0 3px 1px -2px rgba(255, 152, 0, 0.2), 0 1px 5px 0 rgba(255, 152, 0, 0.12)","&:hover,&:focus":{backgroundColor:"#ff9800",boxShadow:"0 14px 26px -12px rgba(255, 152, 0, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(255, 152, 0, 0.2)"}},danger:{backgroundColor:"#f44336",boxShadow:"0 2px 2px 0 rgba(244, 67, 54, 0.14), 0 3px 1px -2px rgba(244, 67, 54, 0.2), 0 1px 5px 0 rgba(244, 67, 54, 0.12)","&:hover,&:focus":{backgroundColor:"#f44336",boxShadow:"0 14px 26px -12px rgba(244, 67, 54, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(244, 67, 54, 0.2)"}},simple:{"&,&:focus,&:hover":{color:"#FFFFFF",background:"transparent",boxShadow:"none"},"&$rose":{"&,&:focus,&:hover,&:visited":{color:"#e91e63"}},"&$primary":{"&,&:focus,&:hover,&:visited":{color:"#2A3F54"}},"&$info":{"&,&:focus,&:hover,&:visited":{color:"#00acc1"}},"&$success":{"&,&:focus,&:hover,&:visited":{color:"#4caf50"}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:"#ff9800"}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:"#f44336"}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:"#999999",boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}};var yt=te()(Tt)(function(e){var t,a=Object(se.a)({},e),n=a.classes,r=a.color,s=a.round,o=a.children,l=a.disabled,c=a.simple,u=a.size,m=a.block,d=a.link,p=a.justIcon,E=a.className,b=a.muiClasses,h=Object(K.a)(a,["classes","color","round","children","disabled","simple","size","block","link","justIcon","className","muiClasses"]),g=oe()((t={},Object(re.a)(t,n.button,!0),Object(re.a)(t,n[u],u),Object(re.a)(t,n[r],r),Object(re.a)(t,n.round,s),Object(re.a)(t,n.disabled,l),Object(re.a)(t,n.simple,c),Object(re.a)(t,n.block,m),Object(re.a)(t,n.link,d),Object(re.a)(t,n.justIcon,p),Object(re.a)(t,E,E),t));return i.a.createElement(vt.a,Object.assign({},h,{classes:b,className:g}),o)}),xt=function(e){return{buttonLink:Object(re.a)({},e.breakpoints.down("md"),{display:"flex",marginLeft:"30px",width:"auto"}),links:Object(re.a)({width:"20px",height:"20px",zIndex:"4"},e.breakpoints.down("md"),{display:"block",width:"30px",height:"30px",color:"#a9afbb",marginRight:"15px"}),linkText:Object(Ee.a)({zIndex:"4"},fe,{fontSize:"14px"}),popperClose:{pointerEvents:"none"},pooperResponsive:Object(re.a)({},e.breakpoints.down("md"),{zIndex:"1640",position:"static",float:"none",width:"auto",marginTop:"0",backgroundColor:"transparent",border:"0",WebkitBoxShadow:"none",boxShadow:"none",color:"black"}),pooperNav:Object(re.a)({},e.breakpoints.down("sm"),{position:"static !important",left:"unset !important",top:"unset !important",transform:"none !important",willChange:"none !important","& > div":{boxShadow:"none !important",marginLeft:"0rem",marginRight:"0rem",transition:"none !important",marginTop:"0px !important",marginBottom:"0px !important",padding:"0px !important",backgroundColor:"transparent !important","& ul li":{color:"#FFF !important",margin:"10px 15px 0!important",padding:"10px 15px !important","&:hover":{backgroundColor:"hsla(0,0%,78%,.2)",boxShadow:"none"}}}}),dropdown:{borderRadius:"3px",border:"0",boxShadow:"0 2px 5px 0 rgba(0, 0, 0, 0.26)",top:"100%",zIndex:"1000",minWidth:"160px",padding:"5px 0",margin:"2px 0 0",fontSize:"14px",textAlign:"left",listStyle:"none",backgroundColor:"#fff",WebkitBackgroundClip:"padding-box",backgroundClip:"padding-box"},dropdownItem:Object(Ee.a)({},fe,{fontSize:"13px",padding:"10px 20px",margin:"0 5px",borderRadius:"2px",WebkitTransition:"all 150ms linear",MozTransition:"all 150ms linear",OTransition:"all 150ms linear",MsTransition:"all 150ms linear",transition:"all 150ms linear",display:"block",clear:"both",fontWeight:"400",lineHeight:"1.42857143",color:"#333",whiteSpace:"nowrap",height:"unset","&:hover":Object(Ee.a)({backgroundColor:"#2A3F54",color:"#FFFFFF"},Se)})}},Ot=function(e){var t,a,n;return Object(Ee.a)({},xt(e),{search:Object(re.a)({"& > div":{marginTop:"0"}},e.breakpoints.down("sm"),{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:"#FFFFFF"}}),linkText:Object(Ee.a)({zIndex:"4"},fe,{fontSize:"14px",margin:"0px"}),buttonLink:Object(re.a)({},e.breakpoints.down("sm"),{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"24px",lineHeight:"30px",width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start",width:"100%"}}),searchButton:Object(re.a)({},e.breakpoints.down("sm"),{top:"-50px !important",marginRight:"22px",float:"right"}),margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:(t={zIndex:"4"},Object(re.a)(t,e.breakpoints.up("md"),{position:"absolute",top:"2px",border:"1px solid #FFF",right:"4px",fontSize:"9px",background:"#f44336",color:"#FFFFFF",minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"}),Object(re.a)(t,e.breakpoints.down("sm"),Object(Ee.a)({},fe,{fontSize:"14px",marginRight:"8px"})),t),manager:(a={},Object(re.a)(a,e.breakpoints.down("sm"),{width:"100%"}),Object(re.a)(a,"display","inline-block"),a),searchWrapper:(n={},Object(re.a)(n,e.breakpoints.down("sm"),{width:"-webkit-fill-available",margin:"10px 15px 0"}),Object(re.a)(n,"display","inline-block"),n)})},Ct="/graphql",At=("https:"===window.location.protocol?"wss://":"ws://")+window.location.host+"/subscriptions",kt=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_HTTP_ENDPOINT:"",REACT_APP_API_WS_ENDPOINT:"",REACT_APP_BUILDDATE:"2019-09-06T19:59:48+02:00",REACT_APP_BUILDTARGET:"basic",REACT_APP_GIT_BRANCH:"release/1.7.5",REACT_APP_GIT_REVISION:"2aedecaec6ded8bcb689ba8e4db67f7374467ffb"}).REACT_APP_API_BASE||Ct.replace("/graphql","/api"),It={graphql:{uri:Ct,ws:At},api:{base:kt,ext:Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_HTTP_ENDPOINT:"",REACT_APP_API_WS_ENDPOINT:"",REACT_APP_BUILDDATE:"2019-09-06T19:59:48+02:00",REACT_APP_BUILDTARGET:"basic",REACT_APP_GIT_BRANCH:"release/1.7.5",REACT_APP_GIT_REVISION:"2aedecaec6ded8bcb689ba8e4db67f7374467ffb"}).REACT_APP_API_BASE||window.location.origin+"/api"},buildTarget:"basic",buildBranch:"release/1.7.5",buildRevision:"2aedecaec6ded8bcb689ba8e4db67f7374467ffb",buildDate:"2019-09-06T19:59:48+02:00"},Pt="production"===Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_HTTP_ENDPOINT:"",REACT_APP_API_WS_ENDPOINT:"",REACT_APP_BUILDDATE:"2019-09-06T19:59:48+02:00",REACT_APP_BUILDTARGET:"basic",REACT_APP_GIT_BRANCH:"release/1.7.5",REACT_APP_GIT_REVISION:"2aedecaec6ded8bcb689ba8e4db67f7374467ffb"}).REACT_APP_STAGE?Object.assign(It,{}):It,wt=Object(Ee.a)({},Pt);function Rt(){return{type:D}}function jt(e){var t=e.color,a=e.message,n=e.autoHideDuration,r=e.err;return{type:_,payload:{color:t,message:a,autoHideDuration:n,err:r}}}function Nt(e){return{type:_,payload:{color:"success",message:e,autoHideDuration:5e3}}}function _t(e,t){return{type:_,payload:{color:"danger",message:e,err:t}}}var Dt=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,searchText:""},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"handleToggle",value:function(){this.setState(function(e){return{open:!e.open}})}},{key:"handleClose",value:function(e){this.anchorEl.contains(e.target)||this.setState({open:!1})}},{key:"handleLogout",value:function(e){var t=this.props,a=t.clearLogin,n=t.setAlertSuccessMessage;a(),this.handleClose(e),n("Logged out."),window.location.reload()}},{key:"handleLogin",value:function(e){var t=this.props.history;this.handleClose(e),t.push("/login")}},{key:"handleClearClient",value:function(e){var t=this.props,a=t.clearClient,n=t.setAlertSuccessMessage;a(),this.handleClose(e),n("Showing data for all assigned clients."),window.location.reload()}},{key:"handleSelectClient",value:function(e,t){var a=this.props,n=a.setClient,r=a.setAlertSuccessMessage;n(t),this.handleClose(e),r("Showing data for client ".concat(t.name," only")),window.location.reload()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.user,r=t.client,s=t.history,o=this.state,l=o.open,c=o.searchText;return i.a.createElement("div",null,i.a.createElement("div",{className:a.searchWrapper},i.a.createElement(ft,{formControlProps:{className:a.margin+" "+a.search},inputProps:{placeholder:"Search",inputProps:{"aria-label":"Search"},onChange:function(t){return e.setState({searchText:t.target.value})},onKeyPress:function(e){n&&c&&c.length>2&&"Enter"===e.key&&(s.push("/quicksearch/".concat(c)),e.preventDefault())},disabled:!n,value:c}}),n&&c&&c.length>2&&i.a.createElement(Ue.a,{to:"/quicksearch/".concat(c)},i.a.createElement(yt,{color:"white","aria-label":"edit",justIcon:!0,round:!0},i.a.createElement(it.a,null))),(!n||!c||c.length<=2)&&i.a.createElement(yt,{color:"white","aria-label":"edit",justIcon:!0,round:!0,disabled:!0},i.a.createElement(it.a,null))),i.a.createElement("div",{className:a.manager},i.a.createElement(yt,{buttonRef:function(t){e.anchorEl=t},color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-owns":l?"menu-list-grow":null,"aria-haspopup":"true",onClick:function(t){return e.handleToggle(t)},className:a.buttonLink},i.a.createElement(rt.a,{className:a.icons}),i.a.createElement(Z.a,{mdUp:!0,implementation:"css"},i.a.createElement("p",{className:a.linkText},"User Profile"))),i.a.createElement(et.a,{open:l,anchorEl:this.anchorEl,transition:!0,disablePortal:!0,className:oe()(Object(re.a)({},a.popperClose,!l))+" "+a.pooperNav},function(t){var s=t.TransitionProps,o=t.placement;return i.a.createElement(Ke.a,Object.assign({},s,{id:"menu-list-grow",style:{transformOrigin:"bottom"===o?"center top":"center bottom"}}),i.a.createElement(Xe.a,null,i.a.createElement(Ye.a,{onClickAway:function(t){return e.handleClose(t)}},i.a.createElement($e.a,{role:"menu"},"premium"===wt.buildTarget&&i.a.createElement(i.a.Fragment,null,n&&i.a.createElement(Ge.a,{key:"noclient",onClick:function(t){return e.handleClearClient(t)},className:a.dropdownItem},!r&&"* ","All Clients"),n&&n.clients&&n.clients.map(function(t){return i.a.createElement(Ge.a,{key:t.id,onClick:function(a){return e.handleSelectClient(a,t)},className:a.dropdownItem},r&&r.id===t.id&&"* ",t.name)}),i.a.createElement(at.a,null)),n&&i.a.createElement(Ge.a,{key:"logout",onClick:function(t){return e.handleLogout(t)},className:a.dropdownItem},"Logout ",n.name),!n&&i.a.createElement(Ge.a,{key:"login",onClick:function(t){return e.handleLogin(t)},className:a.dropdownItem},"Login"),i.a.createElement(Ge.a,{key:"help",className:a.dropdownItem},i.a.createElement("a",{href:"https://botium.atlassian.net/wiki/spaces/BOTIUM/overview",target:"_blank",rel:"noopener noreferrer"},"Botium Wiki"))))))})))}}]),t}(i.a.Component),Ft=Object(We.a)(Object(c.b)(function(e){return{token:e.token.token,user:e.token.user,client:e.token.client}},function(e){return Object(y.b)({clearLogin:G,clearClient:$,setClient:z,setAlertSuccessMessage:Nt,setAlertErrorMessage:_t},e)})(te()(Ot)(Dt))),Lt=function(e){return{appBar:{backgroundColor:"transparent",boxShadow:"none",borderBottom:"0",marginBottom:"0",position:"absolute",width:"100%",paddingTop:"10px",zIndex:"1029",color:"#555555",border:"0",borderRadius:"3px",padding:"10px 0",transition:"all 150ms ease 0s",minHeight:"50px",display:"block"},container:Object(Ee.a)({},he,{minHeight:"50px"}),flex:{flex:1},title:Object(Ee.a)({},fe,{lineHeight:"30px",fontSize:"22px",fontWeight:"bold",borderRadius:"3px",textTransform:"none",color:"inherit",margin:"0","&:hover,&:focus":{background:"transparent"}}),appResponsive:{top:"8px"},primary:Object(Ee.a)({backgroundColor:"#2A3F54",color:"#FFFFFF"},Re),info:Object(Ee.a)({backgroundColor:"#00acc1",color:"#FFFFFF"},Re),success:Object(Ee.a)({backgroundColor:"#4caf50",color:"#FFFFFF"},Re),warning:Object(Ee.a)({backgroundColor:"#ff9800",color:"#FFFFFF"},Re),danger:Object(Ee.a)({backgroundColor:"#f44336",color:"#FFFFFF"},Re)}};var Vt=te()(Lt)(function(e){var t=Object(se.a)({},e),a=t.classes,n=t.color,r=t.navbarName,s=oe()(Object(re.a)({}," "+a[n],n));return i.a.createElement(Fe.a,{className:a.appBar+s},i.a.createElement(Ve.a,{className:a.container},i.a.createElement("div",{className:a.flex},i.a.createElement(yt,{color:"transparent",href:"#",className:a.title},r)),i.a.createElement(Z.a,{smDown:!0,implementation:"css"},i.a.createElement(Ft,null)),i.a.createElement(Z.a,{mdUp:!0,implementation:"css"},i.a.createElement(me.a,{color:"inherit","aria-label":"open drawer",onClick:t.handleDrawerToggle},i.a.createElement(Be.a,null)))))}),Mt={block:Object(Ee.a)({color:"inherit",padding:"15px",textTransform:"uppercase",borderRadius:"3px",textDecoration:"none",position:"relative",display:"block"},fe,{fontWeight:"500",fontSize:"12px"}),left:{float:"left!important",display:"block"},right:{padding:"15px 0",margin:"0",fontSize:"14px",float:"right!important"},footer:Object(Ee.a)({bottom:"0",borderTop:"1px solid #e7e7e7",padding:"15px 0"},fe),container:he,a:{color:"#2A3F54",textDecoration:"none",backgroundColor:"transparent"},list:{marginBottom:"0",padding:"0",marginTop:"0"},inlineBlock:{display:"inline-block",padding:"0px",width:"auto"}};var Bt=te()(Mt)(function(e){var t=Object(se.a)({},e).classes;return i.a.createElement("footer",{className:t.footer},i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.left}),i.a.createElement("p",{className:t.right},i.a.createElement("span",null,"\xa9 ",1900+(new Date).getYear()," ",i.a.createElement("a",{href:"https://www.botium.at",className:t.a},"Botium"),", new generation testing"))))}),Ut=a(161),Wt=a.n(Ut),Ht=a(67),Gt=a.n(Ht),zt=a(59),$t=a.n(zt),qt=a(87),Kt=a.n(qt),Jt=a(60),Xt=a.n(Jt),Qt=a(187),Yt=a.n(Qt),Zt=a(160),ea=a.n(Zt),ta=function(e){var t;return{drawerPaper:Object(Ee.a)({border:"none",position:"fixed",top:"0",bottom:"0",left:"0",zIndex:"1"},ge,(t={width:260,backgroundColor:"#2A3F54"},Object(re.a)(t,e.breakpoints.up("md"),{width:260,position:"fixed",height:"100%"}),Object(re.a)(t,e.breakpoints.down("sm"),Object(Ee.a)({width:260},ge,{position:"fixed",display:"block",top:"0",height:"100vh",right:"0",left:"auto",zIndex:"1032",visibility:"visible",overflowY:"visible",borderTop:"none",textAlign:"left",paddingRight:"0px",paddingLeft:"0",transform:"translate3d(".concat(260,"px, 0, 0)")},be)),t)),logo:{position:"relative",padding:"15px 15px",zIndex:"4","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba(180, 180, 180, 0.3)"}},logoLink:Object(Ee.a)({},fe,{textTransform:"uppercase",padding:"5px 0",display:"block",fontSize:"24px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:"#FFFFFF"}}),logoImage:{width:"30px",display:"inline-block",maxHeight:"30px",marginLeft:"10px",marginRight:"15px"},img:{width:"35px",top:"22px",position:"absolute",verticalAlign:"middle",border:"0"},background:{position:"absolute",zIndex:"1",height:"100%",width:"100%",display:"block",top:"0",left:"0",backgroundSize:"cover",backgroundPosition:"center center","&:after":{position:"absolute",zIndex:"3",width:"100%",height:"100%",content:'""',display:"block",background:"#000",opacity:".8"}},list:{marginTop:"20px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:"#FFFFFF"}},itemLink:Object(Ee.a)({width:"auto",transition:"all 300ms linear",margin:"10px 15px 0",borderRadius:"3px",position:"relative",display:"block",padding:"10px 15px",backgroundColor:"transparent"},fe),itemIcon:{width:"24px",height:"30px",fontSize:"24px",lineHeight:"30px",float:"left",marginRight:"15px",textAlign:"center",verticalAlign:"middle",color:"rgba(255, 255, 255, 0.8)"},itemText:Object(Ee.a)({},fe,{margin:"0",lineHeight:"30px",fontSize:"14px",color:"#FFFFFF"}),whiteFont:{color:"#FFFFFF"},purple:Object(Ee.a)({backgroundColor:"#2A3F54"},Se,{"&:hover":Object(Ee.a)({backgroundColor:"#2A3F54"},Se)}),blue:{backgroundColor:"#00acc1",boxShadow:"0 12px 20px -10px rgba(0,188,212,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(0,188,212,.2)","&:hover":{backgroundColor:"#00acc1",boxShadow:"0 12px 20px -10px rgba(0,188,212,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(0,188,212,.2)"}},green:{backgroundColor:"#4caf50",boxShadow:"0 12px 20px -10px rgba(76,175,80,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(76,175,80,.2)","&:hover":{backgroundColor:"#4caf50",boxShadow:"0 12px 20px -10px rgba(76,175,80,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(76,175,80,.2)"}},orange:{backgroundColor:"#ff9800",boxShadow:"0 12px 20px -10px rgba(255,152,0,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(255,152,0,.2)","&:hover":{backgroundColor:"#ff9800",boxShadow:"0 12px 20px -10px rgba(255,152,0,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(255,152,0,.2)"}},red:{backgroundColor:"#f44336",boxShadow:"0 12px 20px -10px rgba(244,67,54,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(244,67,54,.2)","&:hover":{backgroundColor:"#f44336",boxShadow:"0 12px 20px -10px rgba(244,67,54,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(244,67,54,.2)"}},sidebarWrapper:{position:"relative",height:"calc(100vh - 75px)",overflow:"auto",width:"260px",zIndex:"4",overflowScrolling:"touch"},activePro:Object(re.a)({},e.breakpoints.up("md"),{position:"absolute",width:"100%",bottom:"13px"})}},aa=a(43).hasPermission,na=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1}},{key:"componentDidMount",value:function(){navigator.platform.indexOf("Win")>-1&&new Q.a(this.refs.sidebarPanel)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.color,r=t.logo,s=t.logoText,o=t.routes,l=t.user,c=i.a.createElement(Gt.a,{className:a.list},o.map(function(t,r){if(t.redirect)return null;if(!t.sidebar)return null;if(t.checkPermission&&!aa(l,t.checkPermission))return null;var s=oe()(Object(re.a)({}," "+a[n],e.activeRoute(t.path))),o=oe()(Object(re.a)({}," "+a.whiteFont,e.activeRoute(t.path)));return t.path?i.a.createElement(Ue.a,{to:t.path,className:" "+a.item,activeClassName:"active",key:r},i.a.createElement($t.a,{button:!0,className:a.itemLink+s},i.a.createElement(Kt.a,{className:a.itemIcon+o},"string"===typeof t.icon?i.a.createElement(ea.a,null,t.icon):i.a.createElement(t.icon,null)),i.a.createElement(Xt.a,{primary:t.sidebarName,className:a.itemText+o,disableTypography:!0}),t.secondary&&i.a.createElement(Yt.a,null,t.secondary))):t.href?i.a.createElement("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",className:a.item,key:r},i.a.createElement($t.a,{button:!0,className:a.itemLink+s},i.a.createElement(Kt.a,{className:a.itemIcon+o},"string"===typeof t.icon?i.a.createElement(ea.a,null,t.icon):i.a.createElement(t.icon,null)),i.a.createElement(Xt.a,{primary:t.sidebarName,className:a.itemText+o,disableTypography:!0}))):null})),u=i.a.createElement("div",{className:a.logo},i.a.createElement("a",{href:"https://www.botium.at",className:a.logoLink},i.a.createElement("div",{className:a.logoImage},i.a.createElement("img",{src:r,alt:"logo",className:a.img})),s),"basic"===wt.buildTarget&&i.a.createElement(yt,{size:"sm",color:"danger",fullWidth:!0},"COMMUNITY EDITION"));return i.a.createElement("div",null,i.a.createElement(Z.a,{mdUp:!0,implementation:"css"},i.a.createElement(Wt.a,{variant:"temporary",anchor:"right",open:this.props.open,classes:{paper:a.drawerPaper},onClose:this.props.handleDrawerToggle,ModalProps:{keepMounted:!0}},u,i.a.createElement("div",{className:a.sidebarWrapper,ref:"sidebarPanel"},i.a.createElement(Ft,null),c))),i.a.createElement(Z.a,{smDown:!0,implementation:"css"},i.a.createElement(Wt.a,{anchor:"left",variant:"permanent",open:!0,classes:{paper:a.drawerPaper}},u,i.a.createElement("div",{className:a.sidebarWrapper,ref:"sidebarPanel"},c))))}}]),t}(i.a.Component),ra=Object(c.b)(function(e){return{user:e.token.user}})(te()(ta)(na)),sa=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.color,a=e.message,n=e.autoHideDuration,r=e.err,s=e.clearAlert,o=a||"";return r&&(r.graphQLErrors&&r.graphQLErrors.length>0?o+=" - "+r.graphQLErrors.map(function(e){return e.message}).join(". "):r.networkError&&r.networkError.result&&r.networkError.result.errors?o+=" - "+r.networkError.result.errors.map(function(e){return e.message}).join(". "):r.message&&(o+=" - "+r.message)),o&&console.log("ALERT MESSAGE: "+o),i.a.createElement(i.a.Fragment,null,i.a.createElement(_e,{place:"bc",color:t,icon:ne.a,message:o,open:!!o,closeNotification:function(){return s()},autoHideDuration:n||null,close:!0}))}}]),t}(i.a.Component),ia=Object(c.b)(function(e){return{color:e.alert.color,message:e.alert.message,autoHideDuration:e.alert.autoHideDuration,err:e.alert.err}},function(e){return Object(y.b)(r,e)})(sa),oa=a(7),la=a(26),ca=a.n(la),ua=a(343),ma=a.n(ua),da=a(6),pa=a(354),Ea=a.n(pa),ba=a(355),ha=a.n(ba),ga=a(356),fa=a.n(ga),Sa=a(49),va=a.n(Sa),Ta=a(164),ya=a.n(Ta),xa=a(127),Oa=a.n(xa);var Ca=te()({grid:{padding:"0 15px !important"}})(function(e){var t=Object(se.a)({},e),a=t.classes,n=t.children,r=Object(K.a)(t,["classes","children"]);return i.a.createElement(Oa.a,Object.assign({item:!0},r,{className:a.grid}),n)});var Aa=te()({grid:{margin:"0 -15px !important",width:"unset"}})(function(e){var t=e.classes,a=e.children,n=Object(K.a)(e,["classes","children"]);return i.a.createElement(Oa.a,Object.assign({container:!0},n,{className:t.grid}),a)}),ka={defaultFontStyle:Object(Ee.a)({},fe,{fontSize:"14px"}),defaultHeaderMargins:{marginTop:"20px",marginBottom:"10px"},quote:{padding:"10px 20px",margin:"0 0 20px",fontSize:"17.5px",borderLeft:"5px solid #eee"},quoteText:{margin:"0 0 10px",fontStyle:"italic"},quoteAuthor:{display:"block",fontSize:"80%",lineHeight:"1.42857143",color:"#777"},mutedText:{color:"#777","& a":{color:"#777",textDecoration:"underline"}},primaryText:{color:"#2A3F54","& a":{color:"#2A3F54",textDecoration:"underline"}},infoText:{color:"#00acc1","& a":{color:"#00acc1",textDecoration:"underline"}},successText:{color:"#4caf50","& a":{color:"#4caf50",textDecoration:"underline"}},warningText:{color:"#ff9800","& a":{color:"#ff9800",textDecoration:"underline"}},dangerText:{color:"#f44336","& a":{color:"#f44336",textDecoration:"underline"}}};var Ia=te()(ka)(function(e){var t=Object(se.a)({},e),a=t.classes,n=t.children;return t.isHtml?i.a.createElement("div",{className:a.defaultFontStyle+" "+a.infoText,dangerouslySetInnerHTML:{__html:n}}):i.a.createElement("div",{className:a.defaultFontStyle+" "+a.infoText},n)});var Pa=te()(ka)(function(e){var t=Object(se.a)({},e),a=t.classes,n=t.children;return i.a.createElement("div",{className:a.defaultFontStyle+" "+a.dangerText},n)});var wa=te()(ka)(function(e){var t=Object(se.a)({},e),a=t.classes,n=t.children;return i.a.createElement("div",{className:a.defaultFontStyle+" "+a.successText},n)}),Ra=a(35),ja=a.n(Ra),Na=a(44),_a=a.n(Na),Da=a(57),Fa=a.n(Da),La=a(188),Va=a.n(La),Ma=a(189),Ba=a.n(Ma),Ua=a(131),Wa=a.n(Ua),Ha=a(190),Ga=a.n(Ha),za=a(110),$a=a.n(za),qa=a(128),Ka=a.n(qa),Ja=a(208),Xa=a.n(Ja),Qa=a(209),Ya=a.n(Qa),Za=a(210),en=a.n(Za),tn=a(211),an=a.n(tn),nn=a(130),rn=a.n(nn),sn=function(e){return{warningTableHeader:{color:"#ff9800"},primaryTableHeader:{color:"#2A3F54"},dangerTableHeader:{color:"#f44336"},successTableHeader:{color:"#4caf50"},infoTableHeader:{color:"#00acc1"},roseTableHeader:{color:"#e91e63"},grayTableHeader:{color:"#999999"},table:{marginBottom:"0",width:"100%",maxWidth:"100%",backgroundColor:"transparent",borderSpacing:"0",borderCollapse:"collapse"},tableHeadCell:Object(Ee.a)({color:"inherit"},fe,{fontSize:"1em"}),tableCell:Object(Ee.a)({},fe,{lineHeight:"1.42857143",padding:"12px 8px",verticalAlign:"middle"}),tableResponsive:{width:"100%",marginTop:e.spacing.unit,overflowX:"auto"},tablePaginationActions:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit},tableToolbar:{paddingRight:e.spacing.unit},tableToolbarSpacer:{flex:1},tableToolbarActions:Object(Ee.a)({color:e.palette.text.secondary},Ot(e).searchWrapper),tableToolbarSearchBox:Object(Ee.a)({},Ot(e).margin,Ot(e).search)}};function on(e){return{type:L,payload:{table:e}}}function ln(e,t){return{type:F,payload:{table:e,settings:t}}}var cn=function(e){var t=e&&ja.a.isObject(e)&&!ja.a.isArray(e)&&!ja.a.isFunction(e)?e.value:e;return ja.a.isFunction(t)?t():ja.a.isBoolean(t)?t?i.a.createElement(ht.a,{color:"primary"}):null:ja.a.isArray(t)?t.map(function(e,t){return i.a.createElement(_a.a,{label:e,key:t})}):ja.a.isString(t)?ja.a.truncate(t,{length:100}):t},un={page:0,rowsPerPage:10},mn=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).handleFirstPageButtonClick=function(e){a.props.onChangePage(e,0)},a.handleBackButtonClick=function(e){a.props.onChangePage(e,a.props.page-1)},a.handleNextButtonClick=function(e){a.props.onChangePage(e,a.props.page+1)},a.handleLastPageButtonClick=function(e){a.props.onChangePage(e,Math.max(0,Math.ceil(a.props.count/a.props.rowsPerPage)-1))},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.count,n=e.hasMore,r=e.pageLoading,s=e.page;return i.a.createElement("div",{className:t.tablePaginationActions},i.a.createElement(me.a,{onClick:this.handleFirstPageButtonClick,disabled:r||0===s,"aria-label":"First Page"},i.a.createElement(Xa.a,null)),i.a.createElement(me.a,{onClick:this.handleBackButtonClick,disabled:r||0===s,"aria-label":"Previous Page"},i.a.createElement(Ya.a,null)),i.a.createElement(me.a,{onClick:this.handleNextButtonClick,disabled:r||!n,"aria-label":"Next Page"},i.a.createElement(en.a,null)),a>=0&&i.a.createElement(me.a,{onClick:this.handleLastPageButtonClick,disabled:r||!n,"aria-label":"Last Page"},i.a.createElement(an.a,null)))}}]),t}(i.a.Component),dn=te()(sn)(mn),pn=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"handleFilterChange",value:function(e){var t=this.props.onFilterChange;t&&t(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.filterText,r=t.onRefresh,s=t.onFilterChange;return i.a.createElement(Ve.a,{className:a.tableToolbar},i.a.createElement("div",{className:a.tableToolbarSpacer}),i.a.createElement("div",{className:a.tableToolbarActions},(s||r)&&i.a.createElement(i.a.Fragment,null,s&&i.a.createElement(Fa.a,{className:a.tableToolbarSearchBox,inputProps:{placeholder:"Filter"},defaultValue:n,onChange:function(t){e.handleFilterChange(t.target.value)}}),r&&i.a.createElement(me.a,{"aria-label":"Refresh",onClick:r},i.a.createElement(rn.a,null)))))}}]),t}(i.a.Component),En=te()(sn)(pn),bn=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).handleChangePage=function(e,t){var n=a.props,r=n.name,s=n.settings,i=n.setTableSettings,o=n.onPageChange;i(r||window.location.pathname,Object(Ee.a)({},s,{page:t})),o?o(t*s.rowsPerPage,s.rowsPerPage+1):a.getPageData(a.props,t)},a.handleChangeRowsPerPage=function(e){var t=a.props,n=t.name,r=t.settings,s=t.setTableSettings,i=t.onPageChange;s(n||window.location.pathname,Object(Ee.a)({},r,{rowsPerPage:e.target.value})),i?i(r.page*r.rowsPerPage,e.target.value+1):a.getPageData(a.props)},a.handleFilterChange=function(e){var t=a.props,n=t.name,r=t.settings,s=t.setTableSettings;t.onPageChange||(s(n||window.location.pathname,Object(Ee.a)({},r,{filterText:e})),a.getPageData(a.props))},a.state={pageData:[],totalCount:0,hasMore:!1},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.settings,a=e.onPageChange;a?a(t.page*t.rowsPerPage,t.rowsPerPage+1):this.getPageData(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.getPageData(e)}},{key:"getPageData",value:function(e,t){var a=e.settings,n=e.tableData,r=e.onPageChange,s=isNaN(t)?a.page:t;if(r)this.setState({pageData:(n||[]).slice(0,a.rowsPerPage),hasMore:(n||[]).length>a.rowsPerPage});else{var i=n||[];a.filterText&&(i=(n||[]).filter(function(e){return JSON.stringify(e).toLowerCase().indexOf(a.filterText.toLowerCase())>=0})),this.setState({pageData:i.slice(s*a.rowsPerPage,s*a.rowsPerPage+a.rowsPerPage),hasMore:i.length>(s+1)*a.rowsPerPage,totalCount:i.length})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageData,n=t.hasMore,r=t.totalCount,s=this.props,o=s.classes,l=s.settings,c=s.tableHead,u=s.tableHeaderColor,m=s.onRefresh,d=s.pageLoading,p=s.onPageChange,E=s.disableHeader,b=s.disableFooter;return i.a.createElement(i.a.Fragment,null,!E&&(!p||m)&&i.a.createElement(En,{onRefresh:m||void 0,filterText:p?void 0:l.filterText,onFilterChange:p?void 0:function(t){return e.handleFilterChange(t)}}),i.a.createElement("div",{className:o.tableResponsive},i.a.createElement(Va.a,{className:o.table},void 0!==c?i.a.createElement(Ba.a,{className:o[u+"TableHeader"]},i.a.createElement(Wa.a,null,c.map(function(e,t){return i.a.createElement($a.a,{className:o.tableCell+" "+o.tableHeadCell,key:t},e)}))):null,i.a.createElement(Ga.a,null,d&&i.a.createElement(Wa.a,null,i.a.createElement($a.a,{className:o.tableCell,colSpan:c&&c.length},i.a.createElement(ca.a,{size:50}))),!d&&a.map(function(e,t){return i.a.createElement(Wa.a,{key:t},e.map(function(e,t){return i.a.createElement($a.a,{className:o.tableCell,key:t},function(e){return e&&e.href?i.a.createElement(Ue.a,{to:e.href},cn(e)):cn(e)}(e))}))})))),!b&&i.a.createElement(Ka.a,{component:"div",count:p?-1:r,labelDisplayedRows:p?function(e){var t=e.from;e.to,e.count;return"".concat(t,"-").concat(t+a.length-1)}:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," of ").concat(n)},rowsPerPage:l.rowsPerPage,page:l.page,onChangePage:function(){return{}},onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:function(){return i.a.createElement(dn,{count:p?-1:r,rowsPerPage:l.rowsPerPage,hasMore:n,pageLoading:d,page:l.page,onChangePage:e.handleChangePage})}}))}}]),t}(i.a.Component);bn.defaultProps={tableHeaderColor:"gray"};var hn=Object(c.b)(function(e,t){return{settings:Object.assign({},un,e.table[t.name||window.location.pathname])}},{clearTableSettings:on,setTableSettings:ln})(te()(sn)(bn)),gn={card:{border:"0",marginBottom:"20px",marginTop:"20px",borderRadius:"6px",color:"rgba(0, 0, 0, 0.87)",background:"#fff",width:"100%",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}};var fn=te()(gn)(function(e){var t,a=Object(se.a)({},e),n=a.classes,r=a.className,s=a.children,o=a.plain,l=a.profile,c=a.chart,u=Object(K.a)(a,["classes","className","children","plain","profile","chart"]),m=oe()((t={},Object(re.a)(t,n.card,!0),Object(re.a)(t,n.cardPlain,o),Object(re.a)(t,n.cardProfile,l),Object(re.a)(t,n.cardChart,c),Object(re.a)(t,r,void 0!==r),t));return i.a.createElement("div",Object.assign({className:m},u),s)}),Sn={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:"#FFFFFF"},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"3px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i,&$cardHeaderStats .material-icons":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center",overflow:"unset",marginBottom:"1px"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"right"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i,& .material-icons":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(Ee.a)({},Ce)},successCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(Ee.a)({},Ae)},dangerCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(Ee.a)({},ke)},infoCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(Ee.a)({},Ie)},primaryCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(Ee.a)({},Pe)},roseCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object(Ee.a)({},we)}};var vn=te()(Sn)(function(e){var t,a=Object(se.a)({},e),n=a.classes,r=a.className,s=a.children,o=a.color,l=a.plain,c=a.stats,u=a.icon,m=Object(K.a)(a,["classes","className","children","color","plain","stats","icon"]),d=oe()((t={},Object(re.a)(t,n.cardHeader,!0),Object(re.a)(t,n[o+"CardHeader"],o),Object(re.a)(t,n.cardHeaderPlain,l),Object(re.a)(t,n.cardHeaderStats,c),Object(re.a)(t,n.cardHeaderIcon,u),Object(re.a)(t,r,void 0!==r),t));return i.a.createElement("div",Object.assign({className:d},m),s)}),Tn={cardBody:{padding:"0.9375rem 20px",flex:"1 1 auto",WebkitBoxFlex:"1",position:"relative"},cardBodyPlain:{paddingLeft:"5px",paddingRight:"5px"},cardBodyProfile:{marginTop:"15px"}};var yn=te()(Tn)(function(e){var t,a=Object(se.a)({},e),n=a.classes,r=a.className,s=a.children,o=a.plain,l=a.profile,c=Object(K.a)(a,["classes","className","children","plain","profile"]),u=oe()((t={},Object(re.a)(t,n.cardBody,!0),Object(re.a)(t,n.cardBodyPlain,o),Object(re.a)(t,n.cardBodyProfile,l),Object(re.a)(t,r,void 0!==r),t));return i.a.createElement("div",Object.assign({className:u},c),s)}),xn=a(113),On=a.n(xn),Cn=a(77),An=a.n(Cn),kn=(a(232),a(584),a(259)),In=a.n(kn);var Pn=function(e){var t=Object(se.a)({},e),a=t.data,n=t.options,r=t.refresh,s=t.axisTitleOptions,o=[An.a.plugins.legend()];s&&o.push(An.a.plugins.ctAxisTitle({axisX:Object.assign({axisTitle:"",offset:{x:0,y:30},textAnchor:"middle"},s.axisX||{}),axisY:Object.assign({axisTitle:"",offset:{x:0,y:-1},flipTitle:!1},s.axisY||{})}));var l=Object.assign({},{fullWidth:!0,chartPadding:{right:10},lineSmooth:An.a.Interpolation.simple({divisor:2,fillHoles:!0}),plugins:o,low:0},n||{});return r?i.a.createElement(On.a,{key:In()(),data:a,options:l,type:"Line"}):i.a.createElement(On.a,{data:a,options:l,type:"Line"})};var wn=function(e){var t=Object(se.a)({},e),a=t.data,n=t.options,r=Object(Ee.a)({fullWidth:!0},n||{}),s={draw:function(e){if("bar"===e.type){var t="";a.stroke&&(t+="stroke: "+a.stroke[e.seriesIndex]+";"),a.fill&&(t+="fill: "+a.fill[e.seriesIndex]+";"),t&&e.element.attr({style:t})}}};return i.a.createElement(On.a,{data:a,options:r,listener:s,type:"Bar"})};var Rn=function(e){var t=Object(se.a)({},e),a=t.data,n=t.options,r=t.onDraw,s=Object(Ee.a)({fullWidth:!0},n||{}),o={draw:function(e){if("slice"===e.type){var t="";a.stroke&&(t+="stroke: "+a.stroke[e.index]+";"),a.fill&&(t+="fill: "+a.fill[e.index]+";"),t&&e.element.attr({style:t}),r&&r(e)}}};return i.a.createElement(On.a,{data:a,options:s,listener:o,type:"Pie"})},jn=a(344),Nn=a.n(jn);var _n=function(e){var t=Object(se.a)({},e),a=t.format;return t.children?i.a.createElement(Nn.a,{format:a||"lll"},t.children):null},Dn=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.err;if(!e)return null;var t="Error :-(";return e&&(e.graphQLErrors&&e.graphQLErrors.length>0?t+=" - "+e.graphQLErrors.map(function(e){return e.message}).join(". "):e.networkError&&e.networkError.result&&e.networkError.result.errors?t+=" - "+e.networkError.result.errors.map(function(e){return e.message}).join(". "):e.message&&(t+=" - "+e.message)),t&&console.log("ALERT MESSAGE: "+t),i.a.createElement("p",null,t)}}]),t}(i.a.Component),Fn=a(111),Ln=a.n(Fn),Vn=a(345),Mn=a(346),Bn=a(1),Un=a(347),Wn=a(384),Hn=a(191),Gn=a.n(Hn),zn=a(192),$n=a.n(zn),qn=a(126),Kn=a.n(qn),Jn=a(88),Xn=a.n(Jn),Qn=a(78),Yn=a(349),Zn=a.n(Yn),er=a(83),tr=a.n(er),ar=a(385),nr=a(65),rr=function(e){return{root:{flexGrow:1,height:250},container:{flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},inputRoot:{flexWrap:"wrap"},divider:{height:2*e.spacing.unit}}};var sr=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:""},a.getSuggestions=function(e){var t=a.props,n=t.suggestions,r=t.numsuggestions,s=t.labelFunc,i=Zn()(e.trim()).toLowerCase(),o=i.length,l=i.split(" "),c=0;return 0===o?n.slice(0,r):n.filter(function(e){var t=c<(r||10)&&(s(e).slice(0,o).toLowerCase()===i||o>=2&&s(e).toLowerCase().indexOf(i)>=0||l.reduce(function(t,a){return!!t&&s(e).toLowerCase().indexOf(a)>=0},!0));return t&&(c+=1),t})},a.handleKeyDown=function(e){var t=a.props,n=t.onChange,r=t.value,s=t.addFunc,i=a.state.inputValue;r.length&&!i.length&&"backspace"===tr()(e)&&(n(r.slice(0,r.length-1)),e.preventDefault()),s&&i.trim().length&&"enter"===tr()(e)&&(n([].concat(Object(Qn.a)(r),[s(i.trim())])),a.setState({inputValue:""}),e.preventDefault()),"enter"===tr()(e)&&e.preventDefault()},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleChange=function(e){var t=a.props,n=t.onChange,r=t.value,s=t.labelFunc,i=t.keyFunc,o=t.suggestions.find(function(t){return s(t)===e});!o||r&&r.findIndex&&-1!==r.findIndex(function(e){return i(e)===i(o)})||n([].concat(Object(Qn.a)(r&&r.length>0?r:[]),[o])),a.setState({inputValue:""})},a.handleDelete=function(e){return function(){var t=a.props,n=t.onChange,r=t.value,s=t.keyFunc,i=Object(Qn.a)(r),o=i.findIndex(function(t){return s(t)===s(e)});return o>=0&&(i.splice(o,1),n(i)),{selectedItem:i}}},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.name,r=t.label,s=t.value,o=t.keyFunc,l=t.labelFunc,c=this.state.inputValue;return i.a.createElement(ar.a,{id:n,inputValue:c,onChange:this.handleChange,selectedItem:s},function(t){var n=t.getInputProps,c=t.getItemProps,u=t.isOpen,m=t.inputValue,d=t.selectedItem,p=t.highlightedIndex;return i.a.createElement("div",{className:a.container},function(e){var t=e.InputProps,a=e.classes,n=e.ref,r=Object(K.a)(e,["InputProps","classes","ref"]);return i.a.createElement(Fa.a,Object.assign({InputProps:Object(Ee.a)({inputRef:n,classes:{root:a.inputRoot}},t)},r))}({fullWidth:!0,classes:a,InputProps:n({startAdornment:s&&s.map&&s.map(function(t){return i.a.createElement(_a.a,{key:o(t),tabIndex:-1,label:l(t),className:a.chip,onDelete:e.handleDelete(t)})}),onChange:e.handleInputChange,onKeyDown:e.handleKeyDown}),label:r}),u?i.a.createElement(Xe.a,{className:a.paper,square:!0},e.getSuggestions(m).map(function(e,t){return function(e){var t=e.suggestion,a=e.keyFunc,n=e.labelFunc,r=e.index,s=e.itemProps,o=e.highlightedIndex===r,l=(e.selectedItem||[]).findIndex(function(e){return a(e)===a(t)})>-1;return i.a.createElement(Ge.a,Object.assign({},s,{key:a(t),selected:o,component:"div",style:{fontWeight:l?500:400}}),n(t))}({suggestion:e,keyFunc:o,labelFunc:l,index:t,itemProps:c({item:l(e)}),highlightedIndex:p,selectedItem:d})})):null)})}}]),t}(i.a.Component),ir=Object(nr.withStyles)(rr)(sr);var or=te()(ka)(function(e){var t=Object(se.a)({},e),a=t.classes,n=t.children;return i.a.createElement("div",{className:a.defaultFontStyle+" "+a.mutedText},n)}),lr=a(350),cr=a.n(lr),ur=a(351),mr=a.n(ur);function dr(){var e=Object(oa.a)(["\n  mutation ImportPrismaFromUrl($prismaUrl: String!) {\n    importPrismaFromUrl(prismaUrl: $prismaUrl)\n  }\n"]);return dr=function(){return e},e}function pr(){var e=Object(oa.a)(["\n  mutation ImportPrisma($prismaFile: String!) {\n    importPrisma(prismaFile: $prismaFile)\n  }\n"]);return pr=function(){return e},e}function Er(){var e=Object(oa.a)(["\n  query TagsQuery {\n    tags {\n      id\n      name\n    }\n  }\n"]);return Er=function(){return e},e}function br(){var e=Object(oa.a)(["\n  mutation UpdateSystemSettings($systemSettings: SystemSettingsUpdateInput!) {\n    updateSystemSettings(systemSettings: $systemSettings) {\n      ...FullSystemSettings\n    }\n  }\n  ","\n"]);return br=function(){return e},e}function hr(){var e=Object(oa.a)(["\n  query SystemSettingsQuery {\n    systemsettings {\n      ...FullSystemSettings\n    }\n  }\n  ","\n"]);return hr=function(){return e},e}function gr(){var e=Object(oa.a)(["\n  fragment FullSystemSettings on SystemSettings {\n    id\n    cleanupJobIntervalMinutes\n    keepTestCaseSuccessScreenshotsDays\n    keepTestCaseSuccessConversationDays\n    keepTestCaseFailedScreenshotsDays\n    keepTestCaseFailedConversationDays\n  }\n"]);return gr=function(){return e},e}function fr(){var e=Object(oa.a)(["\n  mutation DeleteRegisteredComponent($id: ID!) {\n    deleteRegisteredComponent(id: $id)\n  }\n"]);return fr=function(){return e},e}function Sr(){var e=Object(oa.a)(["\n  mutation UpdateRegisteredComponent($id: ID!, $registeredComponent: RegisteredComponentUpdateInput!) {\n    updateRegisteredComponent(id: $id, registeredComponent: $registeredComponent) {\n      ...ListRegisteredComponent\n    }\n  }\n  ","\n"]);return Sr=function(){return e},e}function vr(){var e=Object(oa.a)(["\n  mutation CreateRegisteredComponent($registeredComponent: RegisteredComponentCreateInput!) {\n    createRegisteredComponent(registeredComponent: $registeredComponent) {\n      ...ListRegisteredComponent\n    }\n  }\n  ","\n"]);return vr=function(){return e},e}function Tr(){var e=Object(oa.a)(["\n  query RegisteredComponentsQuery {\n    registeredcomponents {\n      ...ListRegisteredComponent\n    }\n  }\n  ","\n"]);return Tr=function(){return e},e}function yr(){var e=Object(oa.a)(["\n  query RegisteredComponentQuery($id: ID!) {\n    registeredcomponent(id: $id) {\n      ...ListRegisteredComponent\n    }\n  }\n  ","\n"]);return yr=function(){return e},e}function xr(){var e=Object(oa.a)(["\n  fragment ListRegisteredComponent on RegisteredComponent {\n    id\n    createdAt\n    updatedAt\n    name\n    description\n    type\n    default\n    src\n    ref\n    global\n    args\n  }\n"]);return xr=function(){return e},e}function Or(){var e=Object(oa.a)(["\n  mutation DeleteDeviceProvider($id: ID!) {\n    deleteDeviceProvider(id: $id)\n  }\n"]);return Or=function(){return e},e}function Cr(){var e=Object(oa.a)(["\n  mutation UpdateDeviceProvider($id: ID!, $deviceProvider: DeviceProviderUpdateInput!) {\n    updateDeviceProvider(id: $id, deviceProvider: $deviceProvider) {\n      ...ListDeviceProvider\n    }\n  }\n  ","\n"]);return Cr=function(){return e},e}function Ar(){var e=Object(oa.a)(["\n  mutation CreateDeviceProvider($deviceProvider: DeviceProviderCreateInput!) {\n    createDeviceProvider(deviceProvider: $deviceProvider) {\n      ...ListDeviceProvider\n    }\n  }\n  ","\n"]);return Ar=function(){return e},e}function kr(){var e=Object(oa.a)(["\n  query DeviceProvidersQuery {\n    deviceproviders {\n      ...ListDeviceProvider\n    }\n  }\n  ","\n"]);return kr=function(){return e},e}function Ir(){var e=Object(oa.a)(["\n  query DeviceProviderQuery($id: ID!) {\n    deviceprovider(id: $id) {\n      ...ListDeviceProvider\n    }\n  }\n  ","\n"]);return Ir=function(){return e},e}function Pr(){var e=Object(oa.a)(["\n  fragment ListDeviceProvider on DeviceProvider {\n    id\n    createdAt\n    name\n    type\n    url\n    username\n    password\n  }\n"]);return Pr=function(){return e},e}function wr(){var e=Object(oa.a)(["\n  mutation DeleteApiKey($id: ID!) {\n    deleteApiKey(id: $id)\n  }\n"]);return wr=function(){return e},e}function Rr(){var e=Object(oa.a)(["\n  mutation UpdateApiKey($id: ID!, $apiKey: ApiKeyUpdateInput!) {\n    updateApiKey(id: $id, apiKey: $apiKey) {\n      ...ListApiKey\n    }\n  }\n  ","\n"]);return Rr=function(){return e},e}function jr(){var e=Object(oa.a)(["\n  mutation CreateApiKey($apiKey: ApiKeyCreateInput!) {\n    createApiKey(apiKey: $apiKey) {\n      ...ListApiKey\n    }\n  }\n  ","\n"]);return jr=function(){return e},e}function Nr(){var e=Object(oa.a)(["\n  query ApiKeysQuery {\n    apikeys {\n      ...ListApiKey\n    }\n  }\n  ","\n"]);return Nr=function(){return e},e}function _r(){var e=Object(oa.a)(["\n  query ApiKeyQuery($id: ID!) {\n    apikey(id: $id) {\n      ...ListApiKey\n    }\n  }\n  ","\n"]);return _r=function(){return e},e}function Dr(){var e=Object(oa.a)(["\n  fragment ListApiKey on ApiKey {\n    id\n    createdAt\n    name\n    key\n    validFrom\n    validTo\n    clients { id name }\n    permissions\n  }\n"]);return Dr=function(){return e},e}function Fr(){var e=Object(oa.a)(["\n  mutation DeleteUser($id: ID!) {\n    deleteUser(id: $id)\n  }\n"]);return Fr=function(){return e},e}function Lr(){var e=Object(oa.a)(["\n  mutation UpdateUser($id: ID!, $user: UserUpdateInput!) {\n    updateUser(id: $id, user: $user) {\n      ...ListUser\n    }\n  }\n  ","\n"]);return Lr=function(){return e},e}function Vr(){var e=Object(oa.a)(["\n  mutation CreateUser($user: UserCreateInput!) {\n    createUser(user: $user) {\n      ...ListUser\n    }\n  }\n  ","\n"]);return Vr=function(){return e},e}function Mr(){var e=Object(oa.a)(["\n  query LicenseQuery {\n    license {\n      edition\n      isValid\n      isOperable\n      validity\n      operability\n    }\n  }\n"]);return Mr=function(){return e},e}function Br(){var e=Object(oa.a)(["\n  query ClientsQuery {\n    clients {\n      id\n      name\n    }\n  }\n"]);return Br=function(){return e},e}function Ur(){var e=Object(oa.a)(["\n  query UserRolesQuery {\n    userroles {\n      id\n      name\n      description\n      permissions\n    }\n  }\n"]);return Ur=function(){return e},e}function Wr(){var e=Object(oa.a)(["\n  query UsersQuery {\n    users {\n      ...ListUser\n    }\n  }\n  ","\n"]);return Wr=function(){return e},e}function Hr(){var e=Object(oa.a)(["\n  query UserQuery($id: ID!) {\n    user(id: $id) {\n      ...ListUser\n    }\n  }\n  ","\n"]);return Hr=function(){return e},e}function Gr(){var e=Object(oa.a)(["\n  fragment ListUser on User {\n    id\n    createdAt\n    name\n    email\n    roles { id name permissions }\n    clients { id name }\n  }\n"]);return Gr=function(){return e},e}var zr=Object(da.a)(Gr()),$r=Object(da.a)(Hr(),zr),qr=Object(da.a)(Wr(),zr),Kr=Object(da.a)(Ur()),Jr=Object(da.a)(Br()),Xr=Object(da.a)(Mr()),Qr=Object(da.a)(Vr(),zr),Yr=Object(da.a)(Lr(),zr),Zr=Object(da.a)(Fr()),es=Object(da.a)(Dr()),ts=Object(da.a)(_r(),es),as=Object(da.a)(Nr(),es),ns=Object(da.a)(jr(),es),rs=Object(da.a)(Rr(),es),ss=Object(da.a)(wr()),is=Object(da.a)(Pr()),os=Object(da.a)(Ir(),is),ls=Object(da.a)(kr(),is),cs=Object(da.a)(Ar(),is),us=Object(da.a)(Cr(),is),ms=Object(da.a)(Or()),ds=Object(da.a)(xr()),ps=Object(da.a)(yr(),ds),Es=Object(da.a)(Tr(),ds),bs=Object(da.a)(vr(),ds),hs=Object(da.a)(Sr(),ds),gs=Object(da.a)(fr()),fs=Object(da.a)(gr()),Ss=Object(da.a)(hr(),fs),vs=Object(da.a)(br(),fs),Ts=Object(da.a)(Er()),ys=Object(da.a)(pr()),xs=Object(da.a)(dr()),Os=function(e){return i.a.createElement(h.d,{query:Ts},function(t){t.loading,t.error;var a=t.data;t.refetch;return Ds(Object(Ee.a)({},e,{suggestions:a&&a.tags&&a.tags.map(function(e){return e.name})||[],keyFunc:function(e){return e},labelFunc:function(e){return e},addFunc:function(e){return e}}))})},Cs=function(e){if(e){var t=Fn(e);if(t.isValid())return t.format("YYYY-MM-DD")}return""},As=function(e){return e},ks=function(e){var t=e.input,a=t.name,n=t.onChange,r=t.value,s=Object(K.a)(t,["name","onChange","value"]),o=e.label,l=e.meta,c=e.helperText,u=Object(K.a)(e,["input","label","meta","helperText"]),m=l&&(l.submitError&&!l.dirtySinceLastSubmit||l.error)&&l.touched;return i.a.createElement(Fa.a,Object.assign({},u,{name:a,helperText:m?l.error||l.submitError:c,error:m,inputProps:Object(Ee.a)({style:{height:"auto"}},s),onChange:n,value:r,label:o,type:"password",margin:"normal",InputLabelProps:{shrink:!0},fullWidth:!0}))},Is=function(e){var t=e.input,a=t.name,n=t.onChange,r=t.value,s=Object(K.a)(t,["name","onChange","value"]),o=e.label,l=e.meta,c=e.helperText,u=Object(K.a)(e,["input","label","meta","helperText"]),m=l&&(l.submitError&&!l.dirtySinceLastSubmit||l.error)&&l.touched;return i.a.createElement(Fa.a,Object.assign({},u,{name:a,helperText:m?l.error||l.submitError:c,error:m,inputProps:s,onChange:n,value:r,label:o,margin:"normal",InputLabelProps:{shrink:!0},fullWidth:!0}))},Ps=function(e){var t=e.input,a=t.name,n=t.onChange,r=t.value,s=Object(K.a)(t,["name","onChange","value"]),o=e.label,l=e.meta,c=e.helperText,u=Object(K.a)(e,["input","label","meta","helperText"]),m=l&&(l.submitError&&!l.dirtySinceLastSubmit||l.error)&&l.touched;return i.a.createElement(Fa.a,Object.assign({},u,{name:a,helperText:m?l.error||l.submitError:c,error:m,inputProps:Object(Ee.a)({style:{height:"auto"}},s),onChange:n,value:r,label:o,InputLabelProps:{shrink:!0},type:"number",margin:"normal",fullWidth:!0}))},ws=function(e){var t=e.input,a=t.name,n=t.onChange,r=t.value,s=Object(K.a)(t,["name","onChange","value"]),o=e.label,l=e.meta,c=e.helperText,u=Object(K.a)(e,["input","label","meta","helperText"]),m=l&&(l.submitError&&!l.dirtySinceLastSubmit||l.error)&&l.touched;return i.a.createElement(Fa.a,Object.assign({},u,{name:a,helperText:m?l.error||l.submitError:c,error:m,inputProps:s,onChange:n,value:r,label:o,margin:"normal",InputLabelProps:{shrink:!0},fullWidth:!0,multiline:!0}))},Rs=function(e){var t=e.input,a=t.name,n=t.onChange,r=t.value,s=(Object(K.a)(t,["name","onChange","value"]),e.label,e.meta),o=(e.helperText,e.formControlProps),l=Object(K.a)(e,["input","label","meta","helperText","formControlProps"]),c=s&&(s.submitError&&!s.dirtySinceLastSubmit||s.error)&&s.touched;return i.a.createElement(lt.a,Object.assign({},o,{error:c,fullWidth:!0,margin:"normal"}),i.a.createElement(cr.a,Object.assign({},l,{name:a,onChange:n,value:r,options:{lineNumbers:!0,cursorHeight:.8}})),s&&s.error&&i.a.createElement(Xn.a,null,s.error))},js=function(e){var t=e.input,a=t.checked,n=t.name,r=t.onChange,s=Object(K.a)(t,["checked","name","onChange"]),o=e.label,l=(e.meta,Object(K.a)(e,["input","label","meta"]));return i.a.createElement(Gn.a,{control:i.a.createElement($n.a,Object.assign({},l,{name:n,inputProps:s,onChange:r,checked:!!a})),label:o,margin:"normal"})},Ns=function(e){if(!e)return"";try{var t=JSON.parse(e);return JSON.stringify(t,void 0,4)}catch(a){return e}},_s=function(e){var t=e.input,a=t.name,n=t.value,r=t.onChange,s=Object(K.a)(t,["name","value","onChange"]),o=e.meta,l=e.helperText,c=e.label,u=e.formControlProps,m=e.multiple,d=e.keyValueMap,p=Object(K.a)(e,["input","meta","helperText","label","formControlProps","multiple","keyValueMap"]),E=o&&(o.submitError&&!o.dirtySinceLastSubmit||o.error)&&o.touched,b=null;return m&&(b=function(e){return e.map(function(e){return i.a.createElement(_a.a,{key:e,label:d[e]})})}),i.a.createElement(lt.a,Object.assign({},u,{error:E,fullWidth:!0,margin:"normal"}),i.a.createElement(ut.a,{htmlFor:a,shrink:!0},c),i.a.createElement(Kn.a,Object.assign({},p,{name:a,onChange:r,inputProps:s,value:n,multiple:m,renderValue:b||null})),o&&o.error&&i.a.createElement(Xn.a,null,o.error),l&&i.a.createElement(Xn.a,null,l))},Ds=function(e){var t=e.input,a=t.name,n=t.value,r=t.onChange,s=e.meta,o=e.label,l=e.suggestions,c=e.keyFunc,u=e.labelFunc,m=e.addFunc,d=e.formControlProps,p=e.disabled,E=Object(K.a)(e,["input","meta","label","suggestions","keyFunc","labelFunc","addFunc","formControlProps","disabled"]);if(p)return Fs({input:{name:a},label:o,formControlProps:d,meta:s,children:i.a.createElement(i.a.Fragment,null,n&&n.map(function(e){return i.a.createElement(_a.a,{key:c(e),label:u(e)})}))});var b=s&&(s.submitError&&!s.dirtySinceLastSubmit||s.error)&&s.touched;return i.a.createElement(lt.a,Object.assign({},d,{error:b,fullWidth:!0,margin:"normal"}),i.a.createElement(ir,Object.assign({},E,{name:a,label:o,onChange:r,value:n,suggestions:l,keyFunc:c,labelFunc:u,addFunc:m})),s&&s.error&&i.a.createElement(Xn.a,null,s.error))},Fs=function(e){var t=e.input.name,a=e.children,n=e.meta,r=e.helperText,s=e.label,o=e.formControlProps,l=n&&(n.submitError&&!n.dirtySinceLastSubmit||n.error)&&n.touched;return i.a.createElement(lt.a,Object.assign({},o,{error:l,fullWidth:!0,margin:"normal"}),s&&i.a.createElement(ut.a,{htmlFor:t,shrink:!0},s),i.a.createElement("div",{style:gt.marginTop},a),n&&n.error&&i.a.createElement(Xn.a,null,n.error),r&&i.a.createElement(Xn.a,null,r))},Ls=function(e){var t=e.change,a=e.onFileLoaded,n=e.values,r=e.input,s=(e.children,e.meta),o=e.helperText,l=e.label,c=e.formControlProps;return Fs({input:r,meta:s,formControlProps:c,label:l,helperText:o,children:i.a.createElement(Wn.a,{name:r.name,multiple:!1,onDrop:function(e,n){var s=new FileReader;s.onload=function(){var t=s.result.split(",").pop();a(e[0].name,t)},s.readAsDataURL(e[0]),t(r.name,e[0])},style:{position:"relative",width:300,height:60,marginTop:30,padding:2,borderWidth:2,borderColor:[102,102,102],borderStyle:"dashed",borderRadius:5}},n[r.name]&&i.a.createElement(or,null,n[r.name].name," - ",n[r.name].size," bytes"),!n[r.name]&&"Drop file here or click for open selection dialog")})},Vs=function(){function e(t){Object(g.a)(this,e),this.fieldName=t}return Object(f.a)(e,[{key:"decorateValidator",value:function(e,t){var a=this;return function(n,r){if(r[a.fieldName]===t)return e(n)}}}]),e}(),Ms=function(e){return ja.a.isArray(e)?e.length>0?void 0:"Required":e?void 0:"Required"},Bs=function(e){return ja.a.isArray(e)?e.length>0?"Must be empty":void 0:e?"Must be empty":void 0},Us=function(e){if(ja.a.isArray(e)){var t=!0,a=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;try{new RegExp(i)}catch(o){return"Not valid regex: ".concat(i)}}}catch(l){a=!0,n=l}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}}try{new RegExp(e)}catch(o){return"Not valid regex"}},Ws=function(e){return isNaN(e)?"Must be a number":void 0},Hs=function(e){return function(t){return!t||isNaN(t)||t>=e?void 0:"Should be equal or larger than ".concat(e)}},Gs=function(e){if(e)try{JSON.parse(e)}catch(t){return"No valid JSON"}},zs=function(e){if(e)try{Vn.parseScript(e)}catch(t){return"No valid Javascript"}},$s=function(e){try{if(new mr.a(e.replace(/\\n/g,"\n")).isPrivate())return}catch(t){return"Not valid private key"}return"Not valid private key"},qs=function(e){if(!Object(Mn.isWebUri)(e))return"Not a valid URL"},Ks=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduce(function(t,a){return t||a(e)},void 0)}},Js=function(e){var t=e.when,a=e.is,n=e.isnot,r=e.children;return i.a.createElement(Bn.a,{name:t,subscription:{value:!0}},function(e){var t=e.input.value;return a?t===a?r:null:n?t!==n?r:null:r})},Xs=function(e,t,a,n){return Object(Un.a)({field:e,updates:Object(re.a)({},t,function(e,t){var r=a(e,t);if(r)return r[n]})})},Qs=a(133),Ys=a.n(Qs),Zs=a(85),ei=a.n(Zs);var ti=te()(ka)(function(e){var t=Object(se.a)({},e),a=t.classes,n=t.children;return i.a.createElement("div",{className:a.defaultFontStyle+" "+a.warningText},n)}),ai={cardCategory:{color:"#999999",margin:"0",fontSize:"14px",marginTop:"0",paddingTop:"10px",marginBottom:"0"},cardCategoryWhite:{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitle:{color:"#3C4858",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontWeight:"400",lineHeight:"1"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontWeight:"400",lineHeight:"1"}}},ni=function(e){return Object(Ee.a)({},sn,ai,ka,{testcaselistitem:{padding:0,margin:0},testcaselistnested:{paddingLeft:e.spacing.unit}})};function ri(){var e=Object(oa.a)(["\n  mutation CancelTestSession($id: ID!) {\n    cancelTestSession(id: $id)\n  }\n"]);return ri=function(){return e},e}function si(){var e=Object(oa.a)(["\n  mutation DeleteTestSession($id: ID!) {\n    deleteTestSession(id: $id)\n  }\n"]);return si=function(){return e},e}function ii(){var e=Object(oa.a)(["\n  mutation CreateTestSession($testSession: TestSessionCreateInput!) {\n    createTestSession(testSession: $testSession) {\n      ...FullTestSession\n    }\n  }\n  ","\n"]);return ii=function(){return e},e}function oi(){var e=Object(oa.a)(["\n  subscription TestSessionProgressSubscription($testSessionId: ID!) {\n    testSessionProgress(testSessionId: $testSessionId) {\n      ...FullTestSessionProgress\n    }\n  }\n  ","\n"]);return oi=function(){return e},e}function li(){var e=Object(oa.a)(["\n  query TestSessionProgressQuery($id: ID!) {\n    testsession(id: $id) {\n      ...FullTestSessionProgress\n    }\n  }\n  ","\n"]);return li=function(){return e},e}function ci(){var e=Object(oa.a)(["\n  subscription TestSessionResultsProgressSubscription($testSessionId: ID!) {\n    testSessionProgress(testSessionId: $testSessionId) {\n      ...FullTestSessionResults\n    }\n  }\n  ","\n"]);return ci=function(){return e},e}function ui(){var e=Object(oa.a)(["\n  query TestSessionResultsProgressQuery($id: ID!) {\n    testsession(id: $id) {\n      ...FullTestSessionResults\n    }\n  }\n  ","\n"]);return ui=function(){return e},e}function mi(){var e=Object(oa.a)(["\n  query TestSessionsQuery($where: TestSessionWhereInput, $orderBy: TestSessionOrderByInput, $skip: Int, $first: Int) {\n    testsessions(where: $where, orderBy: $orderBy, skip: $skip, first: $first) {\n      ...FullTestSession\n    }\n  }\n  ","\n"]);return mi=function(){return e},e}function di(){var e=Object(oa.a)(["\n  query TestSessionQuery($id: ID!) {\n    testsession(id: $id) {\n      ...FullTestSession\n    }\n  }\n  ","\n"]);return di=function(){return e},e}function pi(){var e=Object(oa.a)(["\n  fragment FullTestSessionResults on TestSession {\n    id\n    results {\n      id\n      createdAt\n      testcaseName\n      success\n      err\n      errDetails\n      duration\n      testSet {\n        name\n      }\n      deviceSet {\n        name\n        tags\n        provider {\n          name\n        }\n        devices {\n          name\n          type\n        }\n      }\n    }\n  }\n"]);return pi=function(){return e},e}function Ei(){var e=Object(oa.a)(["\n  fragment FullTestSessionProgress on TestSession {\n    id\n    status\n    chartData\n    jobs {\n      id\n      createdAt\n      jobId\n      progressPercent\n      totalCount\n      failedCount\n      successCount\n      status\n      err\n      started\n      finished\n    }\n  }\n"]);return Ei=function(){return e},e}function bi(){var e=Object(oa.a)(["\n  fragment CreatedTestSession on TestSessionCreated {\n    id\n    testSets {\n      id\n    }\n  }\n"]);return bi=function(){return e},e}function hi(){var e=Object(oa.a)(["\n  fragment FullTestSession on TestSession {\n    id\n    createdAt\n    name\n    description\n    tags\n    testProject {\n      id\n      name\n    }\n    chatbot {\n      id\n      name\n    }\n    testSets {\n      id\n      name\n    }\n    deviceSets {\n      id\n      name\n    }\n    registeredComponents {\n      id\n      name\n      ref\n    }\n    agent {\n      id\n      name\n    }\n    batchCount\n    status\n    chartData\n    jobs {\n      id\n      createdAt\n      jobId\n      progressPercent\n      totalCount\n      failedCount\n      successCount\n      status\n      err\n      started\n      finished\n    }\n    client { id name }\n  }\n"]);return hi=function(){return e},e}function gi(){var e=Object(oa.a)(["\n  query TestSessionJobLogsQuery($jobId: ID!) {\n    testsessionjoblogs(\n      jobId: $jobId\n      orderBy: order_DESC\n      skip: 0\n      first: 50\n    ) {\n      id\n      order\n      createdAt\n      log\n    }\n  }\n"]);return gi=function(){return e},e}function fi(){var e=Object(oa.a)(["\n  query TestCaseResultDetailsQuery($id: ID!) {\n    testsessiontestcaseresult(id: $id) {\n      id\n      testcaseSource\n      testSet {\n        id\n        name\n      }\n      testSetScript {\n        id\n        name\n      }\n      testSetRepository {\n        id\n        name\n      }\n      testSetFolder {\n        id\n        name\n      }\n      testSetExcel {\n        id\n        name\n      }\n      testSetFilename\n      deviceSet {\n        id\n        name\n      }\n      deviceName\n      steps {\n        id\n        step\n        sender\n        expected\n        not\n        actual\n        stepDuration\n        botDuration\n        err\n        errDetails\n      }\n      attachments {\n        id\n        name\n        mimeType\n      }\n    }\n  }\n"]);return fi=function(){return e},e}var Si=Object(da.a)(fi()),vi=Object(da.a)(gi()),Ti=Object(da.a)(hi()),yi=Object(da.a)(bi()),xi=Object(da.a)(Ei()),Oi=Object(da.a)(pi()),Ci=Object(da.a)(di(),Ti),Ai=Object(da.a)(mi(),Ti),ki=Object(da.a)(ui(),Oi),Ii=Object(da.a)(ci(),Oi),Pi=Object(da.a)(li(),xi),wi=Object(da.a)(oi(),xi),Ri=Object(da.a)(ii(),Ti),ji=Object(da.a)(si()),Ni=Object(da.a)(ri()),_i=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={subscription:null,testSessionProgress:null},a.UNSAFE_componentWillReceiveProps=function(e){e.testSession&&e.testSession.id===a.props.testSession.id||(a.unsubscribe(),a.subscribe(e))},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.unsubscribe()}},{key:"subscribe",value:function(e){var t=this,a=e.client,n=e.testSession,r=e.query,s=e.subscription;if(n&&n.id){var i=this.setState.bind(this);a.query({query:r||Pi,variables:{id:n.id}}).then(function(e){if(e.data.testsession){t.setState({testSessionProgress:e.data.testsession});var r=a.subscribe({query:s||wi,variables:{testSessionId:n.id}}).subscribe({next:function(e){e&&e.data&&e.data.testSessionProgress&&i({testSessionProgress:e.data.testSessionProgress})},error:function(e){console.error("err",e)}});t.setState({subscription:r})}})}}},{key:"unsubscribe",value:function(){this.state.subscription&&(this.state.subscription.unsubscribe(),this._isMounted&&this.setState({subscription:null}))}},{key:"render",value:function(){var e=this.state.testSessionProgress,t=this.props.testSession;return this.props.children({testSessionProgress:e||t})}}]),t}(i.a.Component),Di=Object(h.h)(_i),Fi=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return i.a.createElement(Di,this.props,function(e){var t=e.testSessionProgress;if(t&&"READY"===t.status)return i.a.createElement(Ue.a,{to:"/testsessions/view/".concat(t.id)},i.a.createElement(me.a,null,i.a.createElement(wa,null,i.a.createElement(ht.a,null))));if(t&&"FAILED"===t.status)return i.a.createElement(Ue.a,{to:"/testsessions/view/".concat(t.id)},i.a.createElement(me.a,null,i.a.createElement(Pa,null,i.a.createElement(pe.a,null))));if(t){var a=Math.max(t.jobs.reduce(function(e,t){return e+(t.progressPercent||0)},0)/t.jobs.length,0),n="".concat(Math.round(a),"%");return t.jobs.length>1&&(n=n+" ("+t.jobs.map(function(e){return"".concat(e.progressPercent||0,"%")}).join("|")+")"),i.a.createElement(Ue.a,{to:"/testsessions/view/".concat(t.id)},i.a.createElement(ei.a,{title:n},i.a.createElement(me.a,null,i.a.createElement(ti,null,i.a.createElement(ca.a,{size:20,variant:"static",color:"inherit",value:a})))))}return i.a.createElement(Ue.a,{to:"/testsessions/view/".concat(t.id)},i.a.createElement(me.a,null,i.a.createElement(ti,null,i.a.createElement(Ys.a,null))))})}}]),t}(i.a.Component),Li=te()(ni)(Fi),Vi=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Di,this.props,function(t){var a=t.testSessionProgress;if(a&&a.chartData){var n=JSON.parse(a.chartData);return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:e.infoText},n.totalCount),"/",i.a.createElement("span",{className:e.successText},n.successCount),"/",i.a.createElement("span",{className:e.dangerText},n.failedCount))}return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:e.infoText},"?"),"/",i.a.createElement("span",{className:e.successText},"?"),"/",i.a.createElement("span",{className:e.dangerText},"?"))})}}]),t}(i.a.Component),Mi=te()(ni)(Vi),Bi=function(e){return Object(Ee.a)({successText:{color:"#4caf50"},moreButton:{float:"right",marginBottom:"15px"},upArrowCardCategory:{width:"16px",height:"16px"},denseCard:{marginTop:"5px"},dashboardToolbar:{paddingRight:e.spacing.unit},dashboardToolbarSpacer:{flex:.6},dashboardToolbarActions:Object(Ee.a)({flex:.4,color:e.palette.text.secondary},Ot(e).searchWrapper),stats:{color:"#999999",display:"inline-flex",fontSize:"12px",lineHeight:"22px","& svg":{top:"4px",width:"16px",height:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{top:"4px",fontSize:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"}}},ai)};function Ui(){var e=Object(oa.a)(["\n  mutation StartPerformanceTestProject($testProjectId: ID!, $options: PerformanceTestSessionCreate!) {\n    createPerformanceTestSession(testProjectId: $testProjectId, options: $options)\n  }\n"]);return Ui=function(){return e},e}function Wi(){var e=Object(oa.a)(["\n  mutation StartTestProject($id: ID!) {\n    startTestProject(id: $id) {\n      ...CreatedTestSession\n    }\n  }\n  ","\n"]);return Wi=function(){return e},e}function Hi(){var e=Object(oa.a)(["\n  mutation DeleteTestProject($id: ID!) {\n    deleteTestProject(id: $id)\n  }\n"]);return Hi=function(){return e},e}function Gi(){var e=Object(oa.a)(["\n  mutation UpdateTestProject($id: ID!, $testProject: TestProjectUpdateInput!) {\n    updateTestProject(id: $id, testProject: $testProject) {\n      ...FullTestProject\n    }\n  }\n  ","\n"]);return Gi=function(){return e},e}function zi(){var e=Object(oa.a)(["\n  mutation CreateTestProject($testProject: TestProjectCreateInput!) {\n    createTestProject(testProject: $testProject) {\n      ...FullTestProject\n    }\n  }\n  ","\n"]);return zi=function(){return e},e}function $i(){var e=Object(oa.a)(["\n  query TestProjectQuery($id: ID!) {\n    testproject(id: $id) {\n      ...FullTestProject\n    }\n  }\n  ","\n"]);return $i=function(){return e},e}function qi(){var e=Object(oa.a)(["\n  fragment FullTestProject on TestProject {\n    id\n    createdAt\n    updatedAt\n    name\n    code\n    description\n    tags\n    securityCheck\n    chatbot {\n      id\n      name\n    }\n    testSets {\n      id\n      name\n    }\n    deviceSets {\n      id\n      name\n    }\n    registeredComponents {\n      id\n      name\n      ref\n    }\n    agent {\n      id\n      name\n    }\n    batchCount\n    bail\n    capabilities {\n      id\n      createdAt\n      updatedAt\n      name\n      type\n      stringValue\n      intValue\n      booleanValue\n      jsonValue\n    }\n    client { id name }\n  }\n"]);return qi=function(){return e},e}function Ki(){var e=Object(oa.a)(["\n  query TestProjectsQuery {\n    testprojects {\n      id\n      name\n      code\n      description\n      tags\n      securityCheck\n      chatbot {\n        id\n        name\n      }\n      testSets {\n        id\n        name\n      }\n      deviceSets {\n        id\n        name\n      }\n      registeredComponents {\n        id\n        name\n        ref\n      }\n      agent {\n        id\n        name\n      }\n      batchCount\n      bail\n    }\n  }\n"]);return Ki=function(){return e},e}var Ji=Object(da.a)(Ki()),Xi=Object(da.a)(qi()),Qi=Object(da.a)($i(),Xi),Yi=Object(da.a)(zi(),Xi),Zi=Object(da.a)(Gi(),Xi),eo=Object(da.a)(Hi()),to=Object(da.a)(Wi(),yi),ao=Object(da.a)(Ui());function no(){var e=Object(oa.a)(["\n  mutation DeletePrformanceTestSession($id: ID!) {\n    deletePerformanceTestSession(id: $id)\n  }\n"]);return no=function(){return e},e}function ro(){var e=Object(oa.a)(["\n  query PerformanceTestSessionStatusQuery($id: ID!) {\n    performancetestsessionstatus(id: $id) {\n      id status\n    }\n  }\n"]);return ro=function(){return e},e}function so(){var e=Object(oa.a)(["\n  query PerformanceTestSessionQuery($id: ID!) {\n    performancetestsession(id: $id) {\n      ...DeepPerformanceTestSession\n    }\n  }\n  ","\n"]);return so=function(){return e},e}function io(){var e=Object(oa.a)(["\n  query PerformanceTestSessionsSimplifiedWithStatusQuery($where: PerformanceTestSessionWhereInput, $orderBy: PerformanceTestSessionOrderByInput, $skip: Int, $first: Int) {\n    performancetestsessionssimplifiedwithstatus(where: $where, orderBy: $orderBy, skip: $skip, first: $first) {\n      id createdAt updatedAt name description tags parallelConvoCount parallelJobCount tickRepeatInitial tickRepeatPerTick tickMaxTime tickTime dataDensity status\n    }\n  }\n"]);return io=function(){return e},e}function oo(){var e=Object(oa.a)(["\n  query PerformanceTestSessionsQuery($where: PerformanceTestSessionWhereInput, $orderBy: PerformanceTestSessionOrderByInput, $skip: Int, $first: Int) {\n    performancetestsessions(where: $where, orderBy: $orderBy, skip: $skip, first: $first) {\n      ...FullPerformanceTestSession\n    }\n  }\n  ","\n"]);return oo=function(){return e},e}function lo(){var e=Object(oa.a)(["\n  fragment DeepPerformanceTestSession on PerformanceTestSession {\n    id\n    createdAt\n    name\n    description\n    tags\n    testProject {\n      id\n      name\n    }\n    chatbot {\n      id\n      name\n    }\n    testSets {\n      id\n      name\n    }\n    registeredComponents {\n      id\n      name\n      ref\n    }\n    jobs {\n      id\n      status\n      err\n      started\n      finished\n      agentName      \n    }\n    results {\n      id\n      stepIndex\n      convo\n      execCount\n      execDurationMin\n      execDurationMax\n      execDurationSum\n      waitCount\n      waitDurationMin\n      waitDurationMax\n      waitDurationSum\n      stepStartAt\n    }\n    parallelConvoCount\n    parallelJobCount\n    tickRepeatInitial\n    tickRepeatPerTick\n    tickMaxTime\n    tickTime\n    dataDensity\n    jobs {\n      id\n      createdAt\n      jobId\n      status\n      err\n      started\n      finished\n      agentName\n    }\n  }\n"]);return lo=function(){return e},e}function co(){var e=Object(oa.a)(["\n  fragment FullPerformanceTestSession on PerformanceTestSession {\n    id\n    createdAt\n    name\n    description\n    tags\n    testProject {\n      id\n      name\n    }\n    chatbot {\n      id\n      name\n    }\n    testSets {\n      id\n      name\n    }\n    registeredComponents {\n      id\n      name\n      ref\n    }\n    parallelConvoCount\n    parallelJobCount\n    tickRepeatInitial\n    tickRepeatPerTick\n    tickMaxTime\n    tickTime\n    dataDensity\n    jobs {\n      id\n      createdAt\n      jobId\n      status\n      err\n      started\n      finished\n      agentName\n    }\n  }\n"]);return co=function(){return e},e}var uo=Object(da.a)(co()),mo=Object(da.a)(lo()),po=(Object(da.a)(oo(),uo),Object(da.a)(io())),Eo=Object(da.a)(so(),mo),bo=Object(da.a)(ro()),ho=Object(da.a)(no()),go=a(262);function fo(e){if(!e.url)throw new Error("Recent list entry ".concat(JSON.stringify(e)," has no url"));if(!e.name)throw new Error("Recent list entry ".concat(JSON.stringify(e)," has no name"));if(!e.type)throw new Error("Recent list entry ".concat(JSON.stringify(e)," has no type"));var t=localStorage.getItem("recent");(t=(t=t?JSON.parse(t):[]).filter(function(t){return!(t.url===e.url)})).unshift(e),t.length>50&&(t=t.slice(0,50)),localStorage.setItem("recent",JSON.stringify(t))}function So(){var e=localStorage.getItem("recent");return e=e?JSON.parse(e):[]}function vo(){var e=Object(oa.a)(["\n  query chartTestProjectTrainingStatusByDeviceSet($testProjectId: ID!) {\n    chartTestProjectTrainingStatusByDeviceSet(testProjectId: $testProjectId) {\n      id\n      name\n      totalCount\n      successCount\n      failedCount\n    }\n  }\n"]);return vo=function(){return e},e}function To(){var e=Object(oa.a)(["\n  query chartTestProjectTrainingStatusByTestSet($testProjectId: ID!) {\n    chartTestProjectTrainingStatusByTestSet(testProjectId: $testProjectId) {\n      id\n      name\n      totalCount\n      successCount\n      failedCount\n    }\n  }\n"]);return To=function(){return e},e}function yo(){var e=Object(oa.a)(["\n  query ChartFailedCountByChatbotByDay($timeFrame: ChartTimeFrame!) {\n    chartFailedCountByChatbotByDay(timeFrame: $timeFrame) {\n      id\n      name\n      data\n    }\n  }\n"]);return yo=function(){return e},e}function xo(){var e=Object(oa.a)(["\n  query ChartFailedCountByTestSetByDay(\n    $testProjectId: ID\n    $timeFrame: ChartTimeFrame!\n  ) {\n    chartFailedCountByTestSetByDay(\n      testProjectId: $testProjectId\n      timeFrame: $timeFrame\n    ) {\n      id\n      name\n      data\n    }\n  }\n"]);return xo=function(){return e},e}function Oo(){var e=Object(oa.a)(["\n  query ChartTestSetResultCount($testProjectId: ID) {\n    chartTestSetResultCount(testProjectId: $testProjectId) {\n      id\n      name\n      lastRun\n      lastTestSessionId\n      testCaseLastTotalCount\n      testCaseLastSuccessCount\n      testCaseLastSuccessRate\n      previousRun\n      previousTestSessionId\n      testCasePreviousTotalCount\n      testCasePreviousSuccessCount\n      testCasePreviousSuccessRate\n      testCaseTrend\n    }\n  }\n"]);return Oo=function(){return e},e}var Co=Object(da.a)(Oo()),Ao=Object(da.a)(xo()),ko=Object(da.a)(yo()),Io=Object(da.a)(To()),Po=Object(da.a)(vo()),wo=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={testResultsExpanded:!1,recent:So()},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderToolBar",value:function(){var e=this.props.classes,t=this.props,a=t.selectedTestProject.testProjectId,n=t.setDashboardSettings;return i.a.createElement(Ve.a,{className:e.dashboardToolbar},i.a.createElement("div",{className:e.dashboardToolbarSpacer}),i.a.createElement("div",{className:e.dashboardToolbarActions},i.a.createElement(h.d,{query:Ji},function(e){e.loading,e.error;var t=e.data;return _s({input:{name:"testProjectId",value:a,onChange:function(e,a){var r=e.target.value;if(r){var s=t&&t.testprojects&&t.testprojects.find(function(e){return e.id===r});if(s)return n("selectedTestProject",{testProjectId:s.id,testProjectName:s.name})}return n("selectedTestProject",{testProjectId:r,testProjectName:null})},displayEmpty:!0},multiple:!1,children:[{id:"",name:"All Projects"}].concat(t&&t.testprojects||[]).map(function(e){return i.a.createElement(Ge.a,{key:e.id,value:e.id},0===e.id.length&&i.a.createElement("em",null,e.name),e.id.length>0&&e.name)})})})))}},{key:"renderTestSetResultCountCell",value:function(e){var t=this.props.classes,a=e.name.length>30?e.name.substr(0,27)+"...":e.name;return i.a.createElement(Ca,{xs:12,sm:4,md:3,key:e.id},i.a.createElement(fn,{className:t.denseCard},i.a.createElement(yn,null,i.a.createElement(Ue.a,{to:"/testsets/view/".concat(e.id)},a),i.a.createElement("h2",{className:t.cardTitle},e.testCaseLastTotalCount),i.a.createElement("div",{className:t.stats},"GOOD"===e.testCaseTrend&&i.a.createElement(wa,null,i.a.createElement(Ea.a,null)),"BAD"===e.testCaseTrend&&i.a.createElement(Pa,null,i.a.createElement(ha.a,null)),"CONSTANT"===e.testCaseTrend&&i.a.createElement(Ia,null,i.a.createElement(fa.a,null)),100===e.testCaseLastSuccessRate?i.a.createElement(wa,null,"100% passed"):i.a.createElement(Pa,null,i.a.createElement(ma.a,{value:100-e.testCaseLastSuccessRate,displayType:"text",decimalScale:1}),"% failed"),"\xa0|\xa0",i.a.createElement(Ue.a,{to:"/testsessions/view/".concat(e.lastTestSessionId)},i.a.createElement(_n,{format:"L"},e.lastRun))))))}},{key:"renderTestSetResultCount",value:function(){var e=this,t=this.props.classes,a=this.state.testResultsExpanded,n=this.props.selectedTestProject.testProjectId;return i.a.createElement(h.d,{query:Co,variables:{testProjectId:n},fetchPolicy:"network-only"},function(n){var r=n.loading,s=n.error,o=n.data;if(r)return i.a.createElement(ca.a,{size:50});if(s)return i.a.createElement(Dn,{err:s});if(!o||!o.chartTestSetResultCount)return null;var l=o.chartTestSetResultCount.slice(0,8),c=o.chartTestSetResultCount.slice(8);return i.a.createElement(i.a.Fragment,null,l.map(function(t){return e.renderTestSetResultCountCell(t)}),i.a.createElement(Ca,{xs:12,key:"more"},!a&&i.a.createElement(go.a,{className:t.moreButton,"aria-label":"More",onClick:function(){return e.setState({testResultsExpanded:!0})}},"Show More",i.a.createElement(va.a,null)),a&&i.a.createElement(go.a,{className:t.moreButton,"aria-label":"Less",onClick:function(){return e.setState({testResultsExpanded:!1})}},"Hide",i.a.createElement(ya.a,null))),a&&c.map(function(t){return e.renderTestSetResultCountCell(t)}))})}},{key:"renderTestSetErrorChart",value:function(){var e=this.props.classes,t=this.props.selectedTestProject,a=t.testProjectId,n=t.testProjectName;return i.a.createElement(Ca,{xs:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Regression by Test Set"),i.a.createElement("p",{className:e.cardCategoryWhite},n?"".concat(n," - "):"","Last 14 days")),i.a.createElement(yn,null,i.a.createElement(h.d,{query:Ao,variables:{testProjectId:a,timeFrame:"LAST2WEEKS"},fetchPolicy:"network-only"},function(e){var t=e.loading,a=e.error,n=e.data;if(t)return i.a.createElement(ca.a,{size:50});if(a)return i.a.createElement(Dn,{err:a});if(n.chartFailedCountByTestSetByDay&&n.chartFailedCountByTestSetByDay.length>0){var r={series:n&&n.chartFailedCountByTestSetByDay};return i.a.createElement(Pn,{data:r})}return"No data available"}))))}},{key:"renderTotalErrorChart",value:function(){var e=this.props.classes;return i.a.createElement(Ca,{xs:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Regression by Chatbot"),i.a.createElement("p",{className:e.cardCategoryWhite},"Last 14 days")),i.a.createElement(yn,null,i.a.createElement(h.d,{query:ko,variables:{timeFrame:"LAST2WEEKS"},fetchPolicy:"network-only"},function(e){var t=e.loading,a=e.error,n=e.data;if(t)return i.a.createElement(ca.a,{size:50});if(a)return i.a.createElement(Dn,{err:a});var r={series:n&&n.chartFailedCountByChatbotByDay};return i.a.createElement(Pn,{data:r})}))))}},{key:"renderTrainingStatusCharts",value:function(){var e=this.props.classes,t=this.props.selectedTestProject,a=t.testProjectId,n=t.testProjectName;return a?i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Training Status"),i.a.createElement("p",{className:e.cardCategoryWhite},n," - by Device Set")),i.a.createElement(yn,null,i.a.createElement(h.d,{query:Po,variables:{testProjectId:a},fetchPolicy:"network-only"},function(e){var t=e.loading,a=e.error,n=e.data;if(t)return i.a.createElement(ca.a,{size:50});if(a)return i.a.createElement(Dn,{err:a});var r={labels:n&&n.chartTestProjectTrainingStatusByDeviceSet.map(function(e){return e.name}),stroke:["#4caf50","#f44336"],series:[n&&n.chartTestProjectTrainingStatusByDeviceSet.map(function(e){return e.successCount/e.totalCount*100}),n&&n.chartTestProjectTrainingStatusByDeviceSet.map(function(e){return e.failedCount/e.totalCount*100})]};return i.a.createElement(wn,{data:r,options:{stackBars:!0,horizontalBars:!0,seriesBarDistance:15,chartPadding:{top:15,right:30,bottom:15,left:10},axisY:{offset:100},axisX:{offset:10,labelOffset:{x:-15,y:0},labelInterpolationFnc:function(e){return e.toFixed(1)+"%"}}}})})))),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Training Status"),i.a.createElement("p",{className:e.cardCategoryWhite},n)),i.a.createElement(yn,null,i.a.createElement(h.d,{query:Io,variables:{testProjectId:a},fetchPolicy:"network-only"},function(e){var t=e.loading,a=e.error,n=e.data;if(t)return i.a.createElement(ca.a,{size:50});if(a)return i.a.createElement(Dn,{err:a});if(!n||!n.chartTestProjectTrainingStatusByTestSet||0===n.chartTestProjectTrainingStatusByTestSet.length)return null;var r={fill:["#4caf50","#f44336"],series:n&&n.chartTestProjectTrainingStatusByTestSet.reduce(function(e,t){return e[0]+=t.successCount,e[1]+=t.failedCount,e},[0,0])},s={donut:!0,donutWidth:60,donutSolid:!0,startAngle:270,height:"300px",total:2*(r.series[0]+r.series[1]),showLabel:!0,labelInterpolationFnc:function(e,t){return"".concat(e,0===t?" OK":" Failed")}};return i.a.createElement("div",{style:{marginBottom:-150}},i.a.createElement(Rn,{data:r,options:s}))})))),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Training Status"),i.a.createElement("p",{className:e.cardCategoryWhite},n," - by Test Set")),i.a.createElement(yn,null,i.a.createElement(h.d,{query:Io,variables:{testProjectId:a},fetchPolicy:"network-only"},function(e){var t=e.loading,a=e.error,n=e.data;if(t)return i.a.createElement(ca.a,{size:50});if(a)return i.a.createElement(Dn,{err:a});var r={labels:n&&n.chartTestProjectTrainingStatusByTestSet.map(function(e){return e.name}),stroke:["#4caf50","#f44336"],series:[n&&n.chartTestProjectTrainingStatusByTestSet.map(function(e){return e.successCount/e.totalCount*100}),n&&n.chartTestProjectTrainingStatusByTestSet.map(function(e){return e.failedCount/e.totalCount*100})]};return i.a.createElement(wn,{data:r,options:{stackBars:!0,horizontalBars:!0,seriesBarDistance:15,chartPadding:{top:15,right:30,bottom:15,left:10},axisY:{offset:100},axisX:{offset:10,labelOffset:{x:-15,y:0},labelInterpolationFnc:function(e){return e.toFixed(1)+"%"}}}})}))))):null}},{key:"renderRecent",value:function(){var e=this.props.classes;return i.a.createElement(Ca,{xs:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Recent activity"),i.a.createElement("p",{className:e.cardCategoryWhite},"Records recently opened by you")),i.a.createElement(yn,null,i.a.createElement(hn,{disableHeader:!0,disableFooter:!1,tableHeaderColor:"primary",tableHead:["Name","Type"],tableData:this.state.recent.map(function(e){return[{value:e.name,href:e.url},e.type]})}))))}},{key:"renderLastTestSessions",value:function(){var e=this.props.classes,t=this.props.selectedTestProject,a=t.testProjectId,n=t.testProjectName,r={skip:0,first:5};return a&&(r.where={testProject:{id:a}}),i.a.createElement(Ca,{xs:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Last 5 Test Sessions"),i.a.createElement("p",{className:e.cardCategoryWhite},n," - Running or recently finished")),i.a.createElement(yn,null,i.a.createElement(h.d,{query:Ai,variables:r,fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0},function(e){var t=e.loading,a=e.error,n=e.data;return a?i.a.createElement(Dn,{err:a}):i.a.createElement(hn,{disableHeader:!0,disableFooter:!0,tableHeaderColor:"primary",tableHead:["","","Name","Date","Tags","Chatbot","Test Sets"],pageLoading:t,tableData:n&&n.testsessions&&n.testsessions.map(function(e){return[function(){return i.a.createElement(Li,{testSession:e})},function(){return i.a.createElement(Mi,{testSession:e})},{value:e.name,href:"/testsessions/view/"+e.id},function(){return i.a.createElement(_n,null,e.createdAt)},e.tags,{value:e.chatbot.name,href:"/chatbots/view/"+e.chatbot.id},e.testSets.map(function(e){return e.name})]})})}))))}},{key:"renderLastPerformanceTestSessions",value:function(){var e=this.props.classes,t=this.props.selectedTestProject,a=t.testProjectId,n=t.testProjectName,r={skip:0,first:5};return a&&(r.where={testProject:{id:a}}),i.a.createElement(Ca,{xs:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Last 5 Performance Tests"),i.a.createElement("p",{className:e.cardCategoryWhite},n," - Running or recently finished")),i.a.createElement(yn,null,i.a.createElement(h.d,{query:po,variables:r,fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0},function(e){var t=e.loading,a=e.error,n=e.data;return a?i.a.createElement(Dn,{err:a}):i.a.createElement(hn,{disableHeader:!0,disableFooter:!0,tableHeaderColor:"primary",tableHead:["Name","Date","Tags","Status"],pageLoading:t,tableData:n&&n.performancetestsessionssimplifiedwithstatus&&n.performancetestsessionssimplifiedwithstatus.map(function(e){return[{value:e.name,href:"/performancetestsessions/view/"+e.id},function(){return i.a.createElement(_n,null,e.createdAt)},e.tags,e.status]})})}))))}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,this.renderToolBar(),i.a.createElement(Aa,null,this.renderTestSetResultCount()),i.a.createElement(Aa,null,this.renderTrainingStatusCharts()),i.a.createElement(Aa,null,this.renderTestSetErrorChart()),i.a.createElement(Aa,null,this.renderTotalErrorChart()),i.a.createElement(Aa,null,this.renderLastTestSessions()),i.a.createElement(Aa,null,this.renderLastPerformanceTestSessions()),i.a.createElement(Aa,null,this.renderRecent()))}}]),t}(i.a.Component),Ro=Object(c.b)(function(e){return{selectedTestProject:Object.assign({testProjectId:"",testProjectName:""},e.dashboard.selectedTestProject),recent:e.recent}},{clearDashboardSettings:function(e){return{type:M,payload:{section:e}}},setDashboardSettings:function(e,t){return{type:V,payload:{section:e,settings:t}}}})(te()(Bi)(wo)),jo=a(357),No=a.n(jo),_o=a(193),Do=a.n(_o),Fo=a(194),Lo=a.n(Fo),Vo=a(195),Mo=a.n(Vo),Bo=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).next=function(e){return a.setState(function(t){return{page:Math.min(t.page+1,a.props.children.length-1),values:e}})},a.previous=function(e){return a.setState(function(t){return{page:Math.max(t.page-1,0),values:e}})},a.validate=function(e){var t=i.a.Children.toArray(a.props.children)[a.state.page];return t.props.validate?t.props.validate(e):{}},a.handleSubmit=function(e){var t=a.props,n=t.children,r=t.onSubmit;if(a.state.page===i.a.Children.count(n)-1)return r(e);a.next(e)},a.state={page:0,values:e.initialValues||{}},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.steps,r=t.submitText,s=t.renderSubmitButtons,o=t.formProps,l=this.state,c=l.page,u=l.values,m=i.a.Children.toArray(a)[c],d=c===i.a.Children.count(a)-1;return i.a.createElement(Bn.b,Object.assign({initialValues:u,validate:this.validate,onSubmit:this.handleSubmit},o||{}),function(t){var a=t.handleSubmit,o=t.submitting,l=t.values,u=t.pristine,p=t.hasValidationErrors;return n[c].error=p,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Do.a,{activeStep:c},n.map(function(e,t){var a={},n={};return e.disabled&&(a.disabled=!0),e.sublabel&&(n.optional=e.sublabel),e.error&&(n.error=!0,n.optional=i.a.createElement(Pa,null,e.sublabel)),i.a.createElement(Lo.a,Object.assign({key:t},a),i.a.createElement(Mo.a,n,e.label))}))),i.a.createElement(Ca,{xs:12},i.a.createElement("form",{onSubmit:a},i.a.createElement("div",{style:{minHeight:"300px"}},m),i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{disabled:0===c,onClick:function(){return e.previous(l)},size:"lg"},"\xab Previous"),!d&&i.a.createElement(yt,{color:"primary",size:"lg",onClick:function(){return e.next(l)},disabled:n[c].blocked},"Next \xbb"),d&&s&&s({handleSubmit:a,steps:n,submitting:o,values:l,pristine:u,page:c,hasValidationErrors:p}),d&&!s&&i.a.createElement(yt,{color:"primary",size:"lg",type:"submit",disabled:n.filter(function(e){return e.error}).length>0||o},r||"Submit")))))})}}]),t}(i.a.Component);Bo.Page=function(e){return e.children};var Uo=a(358),Wo=a.n(Uo),Ho=a(361),Go=a.n(Ho),zo=a(360),$o=a.n(zo),qo=a(359),Ko=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.field,n=t.disabled,r="Capability";return"sources"===a?r="Source Setting":"envs"===a&&(r="Environment Variable"),i.a.createElement(Aa,null,i.a.createElement(qo.a,{name:a},function(e){var t=e.fields;return t.map(function(e,a){return i.a.createElement(Ca,{xs:12,key:a},i.a.createElement(Aa,null,i.a.createElement(Ca,{sm:3},i.a.createElement(Bn.a,{name:"".concat(e,".name"),component:Is,label:"".concat(r," #").concat(a+1),validate:Ms,disabled:n})),i.a.createElement(Ca,{sm:2},i.a.createElement(Bn.a,{name:"".concat(e,".type"),component:_s,label:"Type",disabled:n},i.a.createElement(Ge.a,{key:"STRING",value:"STRING"},"Text"),i.a.createElement(Ge.a,{key:"TEXT",value:"TEXT"},"Multiline Text"),i.a.createElement(Ge.a,{key:"INT",value:"INT"},"Number"),i.a.createElement(Ge.a,{key:"BOOLEAN",value:"BOOLEAN"},"Checkbox"),i.a.createElement(Ge.a,{key:"JSON",value:"JSON"},"JSON Structure"),i.a.createElement(Ge.a,{key:"JS",value:"JS"},"Javascript Code"))),i.a.createElement(Ca,{sm:6},i.a.createElement(Js,{when:"".concat(e,".type"),is:"STRING"},i.a.createElement(Bn.a,{name:"".concat(e,".stringValue"),component:Is,label:"".concat(r," Value"),disabled:n})),i.a.createElement(Js,{when:"".concat(e,".type"),is:"TEXT"},i.a.createElement(Bn.a,{name:"".concat(e,".stringValue"),component:ws,rows:5,label:"".concat(r," Value"),parse:function(e){return e&&Wo()(e)},disabled:n})),i.a.createElement(Js,{when:"".concat(e,".type"),is:"INT"},i.a.createElement(Bn.a,{name:"".concat(e,".intValue"),component:Ps,label:"".concat(r," Value"),parse:parseInt,validate:Ks(Ms,Ws),disabled:n})),i.a.createElement(Js,{when:"".concat(e,".type"),is:"BOOLEAN"},i.a.createElement(Bn.a,{name:"".concat(e,".booleanValue"),component:js,label:"".concat(r," Value"),type:"checkbox",disabled:n})),i.a.createElement(Js,{when:"".concat(e,".type"),is:"JSON"},i.a.createElement(Bn.a,{name:"".concat(e,".jsonValue"),component:ws,rows:7,label:"".concat(r," Value"),validate:Ks(Ms,Gs),disabled:n})),i.a.createElement(Js,{when:"".concat(e,".type"),is:"JS"},i.a.createElement(Bn.a,{name:"".concat(e,".stringValue"),component:ws,rows:7,label:"".concat(r," Value"),validate:Ks(Ms,zs),disabled:n}))),!n&&i.a.createElement(Ca,{sm:1},i.a.createElement(yt,{color:"info",onClick:function(){return t.remove(a)},justIcon:!0},i.a.createElement($o.a,null)))))})}),!n&&i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{color:"info",onClick:function(){return e.props.push(a,{type:"STRING"})}},i.a.createElement(Go.a,null),"Register new ",r)))}}]),t}(i.a.Component);var Jo=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return"Nothing to configure."}}]),t}(i.a.Component),Xo=a(197),Qo=a.n(Xo),Yo=a(196),Zo=a.n(Yo),el=a(198),tl=a.n(el),al=a(199),nl=a.n(al),rl=a(82),sl=a.n(rl),il={},ol=Object(nr.withStyles)(function(e){return{root:{margin:0,padding:2*e.spacing.unit},closeButton:{position:"absolute",right:e.spacing.unit,top:e.spacing.unit,color:e.palette.grey[500]}}})(function(e){var t=e.children,a=e.classes,n=e.onClose;return i.a.createElement(Zo.a,{disableTypography:!0,className:a.root},i.a.createElement(sl.a,{variant:"subheading"},t),n?i.a.createElement(me.a,{"aria-label":"Close",className:a.closeButton,onClick:n},i.a.createElement(pe.a,null)):null)}),ll=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.open,n=e.title,r=e.cancelText,s=e.okText,o=e.isWorking,l=e.onCancel,c=e.onOk;return i.a.createElement(Qo.a,{onClose:this.handleCancel,disableEscapeKeyDown:!0,maxWidth:"md",fullWidth:!0,"aria-labelledby":"confirmation-dialog-title",open:a},i.a.createElement(ol,{id:"confirmation-dialog-title",onClose:function(){return l&&l()}},n),i.a.createElement(tl.a,null,t),(l||c)&&i.a.createElement(nl.a,null,l&&i.a.createElement(vt.a,{onClick:l,disabled:o},r||"Cancel"),c&&i.a.createElement(vt.a,{onClick:c,color:"primary",disabled:o},o&&i.a.createElement(ca.a,{size:12}),s||"Ok")))}}]),t}(i.a.Component),cl=Object(nr.withStyles)(il)(ll);function ul(){var e=Object(oa.a)(["\n  mutation ImportTestSetFromZip($id: ID!, $options: ImportTestSetFromZipOptionsChoosen!) {\n    importTestSetFromZip(id: $id, options: $options)\n  }\n"]);return ul=function(){return e},e}function ml(){var e=Object(oa.a)(["\n  mutation ExportTestSetToFolder($id: ID!, $options: ExportTestSetToFolderOptionsChoosen!) {\n    exportTestSetToFolder(id: $id, options: $options)\n  }\n"]);return ml=function(){return e},e}function dl(){var e=Object(oa.a)(["\n  mutation ExportTestSetToGit($id: ID!, $options: ExportTestSetToGitOptionsChoosen!) {\n    exportTestSetToGit(id: $id, options: $options)\n  }\n"]);return dl=function(){return e},e}function pl(){var e=Object(oa.a)(["\n  mutation CloneTestSet($id: ID!, $options: CloneTestSetOptionsChoosen!) {\n    cloneTestSet(id: $id, options: $options) {\n      id\n      name\n    }\n  }\n"]);return pl=function(){return e},e}function El(){var e=Object(oa.a)(["\n  query CloneTestSetOptionsQuery {\n    clonetestsetoptions {\n      humanifiers\n    }\n  }\n"]);return El=function(){return e},e}function bl(){var e=Object(oa.a)(["\n  query TestSetTestProjectsQuery($testSetId: ID!, $skip: Int, $first: Int) {\n    testsessions(where: { testSets_some: { id: $testSetId } }, skip: $skip, first: $first) {\n      ...FullTestSession\n    }\n  }\n  ","  \n"]);return bl=function(){return e},e}function hl(){var e=Object(oa.a)(["\n  query TestSetTestProjectsQuery($testSetId: ID!, $skip: Int, $first: Int) {\n    testprojects(where: { testSets_some: { id: $testSetId } }, skip: $skip, first: $first) {\n      id\n      name\n      tags\n      chatbot {\n        id\n        name\n      }\n      testSets {\n        id\n        name\n      }\n      deviceSets {\n        id\n        name\n      }\n    }\n  }\n"]);return hl=function(){return e},e}function gl(){var e=Object(oa.a)(["\n  query TestSetComponentsQuery($testSetId: ID!, $skip: Int, $first: Int) {\n    testsetscripts(testSetId: $testSetId, skip: $skip, first: $first) {\n      id\n      createdAt\n      updatedAt\n      name\n      description\n      scriptType\n    }\n    testsetrepositories(testSetId: $testSetId, skip: $skip, first: $first) {\n      id\n      createdAt\n      updatedAt\n      name\n      giturl\n      gitbranch\n      gitdir\n      gituser\n      globFilter\n    }\n    testsetfolders(testSetId: $testSetId, skip: $skip, first: $first) {\n      id\n      createdAt\n      updatedAt\n      name\n      path\n      globFilter\n    }\n    testsetexcels(testSetId: $testSetId, skip: $skip, first: $first) {\n      id\n      createdAt\n      updatedAt\n      name\n      filename\n    }\n  }\n"]);return gl=function(){return e},e}function fl(){var e=Object(oa.a)(["\n  mutation UpdateTestSetStats($id: ID!) {\n    updateTestSetStats(id: $id) {\n      ...FullTestSet\n    }\n  }\n  ","\n"]);return fl=function(){return e},e}function Sl(){var e=Object(oa.a)(["\n  mutation DeleteTestSet($id: ID!) {\n    deleteTestSet(id: $id)\n  }\n"]);return Sl=function(){return e},e}function vl(){var e=Object(oa.a)(["\n  mutation UpdateTestSet($id: ID!, $testSet: TestSetUpdateInput!) {\n    updateTestSet(id: $id, testSet: $testSet) {\n      ...FullTestSet\n    }\n  }\n  ","\n"]);return vl=function(){return e},e}function Tl(){var e=Object(oa.a)(["\n  mutation CreateTestSet($testSet: TestSetCreateInput!) {\n    createTestSet(testSet: $testSet) {\n      ...FullTestSet\n    }\n  }\n  ","\n"]);return Tl=function(){return e},e}function yl(){var e=Object(oa.a)(["\n  query TestSetStatsQuery($id: ID!) {\n    testset(id: $id) {\n      ...TestSetStats\n    }\n  }\n  ","\n"]);return yl=function(){return e},e}function xl(){var e=Object(oa.a)(["\n  query TestSetQuery($id: ID!) {\n    testset(id: $id) {\n      ...FullTestSet\n    }\n  }\n  ","\n"]);return xl=function(){return e},e}function Ol(){var e=Object(oa.a)(["\n  fragment TestSetStats on TestSet {\n    id\n    statsUpdatedAt\n    statsConvoCount\n    statsPartialConvoCount\n    statsUtterancesCount\n    statsScriptingMemoryCount\n    statsCompiledConvos {\n      name\n      order\n      description\n      sourceTag\n      stepCount\n    }\n  }\n"]);return Ol=function(){return e},e}function Cl(){var e=Object(oa.a)(["\n  fragment FullTestSet on TestSet {\n    id\n    createdAt\n    updatedAt\n    name\n    description\n    tags\n    useMatchingMode\n    expandConvos\n    expandConvosMode\n    expandConvosModeRandomCount\n    expandUtterancesToConvos\n    expandUtterancesIncomprehension\n    useScriptingMemory\n    useScriptingMemoryMatchingMode\n    expandScriptingMemory\n    normalizeText\n    excelHasConvos\n    excelHasPartialConvos\n    excelHasUtterances\n    excelWorksheetsConvos\n    excelWorksheetsPartialConvos\n    excelWorksheetsUtterances\n    excelStartRow\n    excelStartCol\n    selectionType\n    client { id name }\n    dependencies { id name }\n}\n"]);return Cl=function(){return e},e}function Al(){var e=Object(oa.a)(["\n  query TestSetsQuery {\n    testsets {\n      id\n      name\n      description\n      tags\n      statsUpdatedAt\n      statsConvoCount\n      statsUtterancesCount\n      statsScriptingMemoryCount\n      dependencies { id name }\n    }\n  }\n"]);return Al=function(){return e},e}var kl=Object(da.a)(Al()),Il=Object(da.a)(Cl()),Pl=Object(da.a)(Ol()),wl=Object(da.a)(xl(),Il),Rl=Object(da.a)(yl(),Pl),jl=Object(da.a)(Tl(),Il),Nl=Object(da.a)(vl(),Il),_l=Object(da.a)(Sl()),Dl=Object(da.a)(fl(),Il),Fl=Object(da.a)(gl()),Ll=Object(da.a)(hl()),Vl=Object(da.a)(bl(),Ti),Ml=Object(da.a)(El()),Bl=Object(da.a)(pl()),Ul=Object(da.a)(dl()),Wl=Object(da.a)(ml()),Hl=Object(da.a)(ul());function Gl(){var e=Object(oa.a)(["\n  query WatsonWorkspacesDropdownQuery(\n    $url: String!\n    $version: String!\n    $apikey: String\n    $username: String\n    $password: String\n  ) {\n    availablewatsonworkspaces(\n      url: $url\n      version: $version\n      apikey: $apikey\n      username: $username\n      password: $password\n    ) {\n      name\n      description\n      value\n    }\n  }\n"]);return Gl=function(){return e},e}function zl(){var e=Object(oa.a)(["\n  mutation ImportFromWatson(\n    $chatbotId: ID!\n    $testSetId: ID\n    $newTestSetName: String,\n    $buildconvos: Boolean,\n  ) {\n    importFromWatson(\n      chatbotId: $chatbotId\n      testSetId: $testSetId\n      newTestSetName: $newTestSetName,\n      buildconvos: $buildconvos\n    )\n  }\n"]);return zl=function(){return e},e}var $l=a(43),ql=$l.hasPermission,Kl=$l.hasAnyPermission,Jl=Object(da.a)(zl()),Xl=Object(da.a)(Gl()),Ql=[{name:"Dallas, US South / United Kingdom",value:"https://gateway.watsonplatform.net/assistant/api"},{name:"Washington, DC, US East",value:"https://gateway-wdc.watsonplatform.net/assistant/api"},{name:"Frankfurt, Germany",value:"https://gateway-fra.watsonplatform.net/assistant/api"},{name:"Sydney",value:"https://gateway-syd.watsonplatform.net/assistant/api"},{name:"Tokyo",value:"https://gateway-tok.watsonplatform.net/assistant/api"},{name:"London",value:"https://gateway-lon.watsonplatform.net/assistant/api"}];var Yl=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={showImportDialog:!1},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderImportDialog",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=a.user,o=a.history;return i.a.createElement(h.c,{mutation:Jl,onCompleted:function(e){t.setState({showImportDialog:!1}),n("Test Cases imported"),o.push("/testsets/view/".concat(e.importFromWatson))},onError:function(e){r("Test Case import failed",e)},refetchQueries:function(e){var t=e.data;return[{query:kl},{query:Fl,variables:{testSetId:t.importFromWatson}}]},awaitRefetchQueries:!0},function(a,n){var r=n.loading;n.error;return i.a.createElement(Bn.b,{onSubmit:function(t){a({variables:{chatbotId:e,testSetId:t.testSetId,newTestSetName:t.newTestSetName,buildconvos:t.buildconvos}})},validate:function(e){var t={};return e.testSetId||e.newTestSetName||(t.testSetId=t.newTestSetName="Select Test Set or create a new one"),t},initialValues:{buildconvos:!0},render:function(e){var a=e.handleSubmit;e.reset,e.submitting,e.pristine,e.values;return i.a.createElement(cl,{open:t.state.showImportDialog,isWorking:r,onCancel:function(){return t.setState({showImportDialog:!1})},onOk:function(){return a()},title:"Import Watson Intents as Test Cases"},i.a.createElement("form",{onSubmit:a},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"buildconvos",component:js,label:"Build convo files for intent assertions (otherwise, just write utterances files)",type:"checkbox"})),i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:kl},function(e){var t=e.loading,a=e.error,n=e.data;return t?i.a.createElement(ca.a,{size:50}):a?i.a.createElement(Dn,{err:a}):i.a.createElement(Bn.a,{name:"testSetId",component:_s,label:"Select Test Set"},n.testsets.map(function(e){return i.a.createElement(Ge.a,{key:e.id,value:e.id},e.name)}))})),ql(s,"TESTSETS_CREATE")&&i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"newTestSetName",component:Is,label:"... or create new Test Set"})))))}})})}},{key:"renderWorkspaceSelector",value:function(){var e=this.props,t=e.advanced,a=e.disabled;return i.a.createElement(Bn.c,{subscription:{values:!0},render:function(e){var n=e.values;return"V2"===n.watson.sdk?i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"watson.assistantId",component:Is,label:"Watson Assistant Id",validate:Ms,disabled:a})):"V1"===n.watson.sdk?i.a.createElement(i.a.Fragment,null,i.a.createElement(h.d,{fetchPolicy:"network-only",query:Xl,variables:{url:n.watson.url,version:n.watson.versionDate,apikey:n.watson.apikey,username:n.watson.user,password:n.watson.pwd}},function(e){var t,r=e.loading,s=e.error,o=e.data;return r?i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"watson.workspaceId",component:Is,label:"Loading workspaces ...",disabled:!0,validate:Ms})):s&&(n.watson.user||n.watson.apikey)?i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"watson.workspaceId",component:Is,label:"Loading workspaces failed",disabled:!0,validate:Ms}),i.a.createElement(Pa,null,"Loading workspaces failed: ",(t=s)?ja.a.isString(t)?t:t.graphQLErrors&&t.graphQLErrors.length>0?t.graphQLErrors.map(function(e){return e.message}).join(". "):t.networkError&&t.networkError.result&&t.networkError.result.errors?t.networkError.result.errors.map(function(e){return e.message}).join(". "):t.message?t.message:JSON.stringify:"")):o&&o.availablewatsonworkspaces?i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"watson.workspaceId",component:_s,label:"Workspace",validate:Ms,disabled:a},o.availablewatsonworkspaces.map(function(e){return i.a.createElement(Ge.a,{key:e.value,value:e.value},e.name)}))):i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"watson.workspaceId",component:Is,label:"No workspace found",disabled:!0,validate:Ms}))}),t&&i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"watson.copyWorkspace",component:js,label:"Copy Workspace before running tests",type:"checkbox",disabled:a}))):null}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.advanced,n=t.disabled,r=t.user;return i.a.createElement(Bn.c,{subscription:{values:!0,form:!0},render:function(t){var s=t.values;t.form.change;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:3},i.a.createElement(Bn.a,{name:"watson.user",component:Is,label:"Service Username",disabled:n})),i.a.createElement(Ca,{xs:12,sm:3},i.a.createElement(Bn.a,{name:"watson.pwd",component:Is,label:"Service Password",disabled:n})),i.a.createElement(Ca,{xs:12,sm:6}),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"The Service credentials are different from your IBM Cloud account (see"," ",i.a.createElement("a",{href:"https://www.ibm.com/watson/developercloud/assistant/api/v1/node.html?node#authentication",target:"_blank",rel:"noopener noreferrer"},"IBM Watson Assistant documentation"),")")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"watson.apikey",component:Is,label:"IAM API Key",disabled:n})),i.a.createElement(Ca,{xs:12,sm:6}),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"IAM API Key for IBM Watson (see"," ",i.a.createElement("a",{href:"https://cloud.ibm.com/docs/services/watson/getting-started-iam.html",target:"_blank",rel:"noopener noreferrer"},"here")," how to create it for your IBM Watson account). Either the IAM API Key or the Service credentials are required.")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"watson.url",component:_s,label:"IBM Watson Assistant Url",validate:Ms,disabled:n},Ql.map(function(e){return i.a.createElement(Ge.a,{key:e.value,value:e.value},e.name,a&&" (".concat(e.value,")"))}))),i.a.createElement(Ca,{xs:12,sm:3},a&&i.a.createElement(Bn.a,{name:"watson.versionDate",component:Is,label:"Version Date",validate:Ms,disabled:n})),i.a.createElement(Ca,{xs:12,sm:3}),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"watson.sdk",component:_s,label:"IBM Watson Assistant SDK Version",validate:Ms,disabled:n},i.a.createElement(Ge.a,{key:"V1",value:"V1"},"Assistant V1"),i.a.createElement(Ge.a,{key:"V2",value:"V2"},"Assistant V2"))),i.a.createElement(Ca,{xs:12,sm:6}),e.renderWorkspaceSelector(),a&&s.id&&Kl(r,["TESTSETS_CREATE","TESTSETS_UPDATE"])&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:12,sm:6},e.renderImportDialog(s.id),i.a.createElement(yt,{onClick:function(){return e.setState({showImportDialog:!0})},disabled:n||"V1"!==s.watson.sdk,fullWidth:!0},"Import Test Cases from Watson Assistant"))))}})}}]),t}(i.a.Component),Zl=Object(We.a)(Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(Yl));var ec=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.advanced,a=e.disabled;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"webdriver.url",component:Is,label:"Start Url",validate:Ms,disabled:a})),i.a.createElement(Ca,{xs:12,sm:6}),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"webdriver.profile",component:_s,label:"Webdriver Script",disabled:a},i.a.createElement(Ge.a,{key:"messenger_com",value:"messenger_com"},"Facebook Messenger (experimental)"),i.a.createElement(Ge.a,{key:"dialogflow_com",value:"dialogflow_com"},"Google Dialogflow"),i.a.createElement(Ge.a,{key:"botbuilder_webchat_v3",value:"botbuilder_webchat_v3"},"MS BotBuilder Webchat (v3)"),i.a.createElement(Ge.a,{key:"botbuilder_webchat_v4",value:"botbuilder_webchat_v4"},"MS BotBuilder Webchat (v4)"),t&&i.a.createElement(Ge.a,{key:"other",value:"other"},"Other (Specify Selenium Selectors)"))),i.a.createElement(Ca,{xs:!1,sm:6}),i.a.createElement(Js,{when:"webdriver.profile",is:"messenger_com"},i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"webdriver.user",component:Is,label:"Facebook Username",validate:Ms,disabled:a})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"webdriver.pwd",component:ks,label:"Facebook Password",validate:Ms,disabled:a}))),i.a.createElement(Js,{when:"webdriver.profile",is:"other"},i.a.createElement(Ca,{xs:12},i.a.createElement(Pa,null,"Please be aware the very good knowledge of ",i.a.createElement("a",{href:"https://webdriver.io/docs/selectors.html",target:"_blank",rel:"noopener noreferrer"},"Selenium/Webdriver selectors")," is required to complete this section."),i.a.createElement(Pa,null,"You can find some guidelines and instructions in the ",i.a.createElement("a",{href:"https://github.com/codeforequity-at/botium-connector-webdriverio",target:"_blank",rel:"noopener noreferrer"},"connector documentation"))),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"webdriver.inputElement",component:Is,label:"Input Element Selector",validate:Ms,helperText:"Webdriver selector for the input text field",disabled:a})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"webdriver.inputElementVisibleTimeout",component:Ps,label:"Input Element Visibility Timeout",parse:parseInt,helperText:"Wait for the input element to become visible. If not visible within this amount of milliseconds, test fails.",disabled:a})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"webdriver.outputElement",component:Is,label:"Chatbot Output Element Selector",validate:Ms,helperText:"Webdriver selector for the chatbot output elements",disabled:a})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"webdriver.ignoreUpfrontMessages",component:js,label:"Ignore Bot Messages before first input",type:"checkbox",disabled:a}),i.a.createElement(or,null,"If set, all chatbot responses received before first message is sent are ignored. This is for ignoring welcome messages and other things sent upfront from the chatbot (usage instructions, welcome back, ...)"))),t&&i.a.createElement(Ca,{xs:4},i.a.createElement(Bn.a,{name:"webdriver.screenshots",component:_s,label:"Screenshots",disabled:a},i.a.createElement(Ge.a,{key:"none",value:"none"},"No Screenshots"),i.a.createElement(Ge.a,{key:"onbotsays",value:"onbotsays"},"On Bot Message"),i.a.createElement(Ge.a,{key:"onstop",value:"onstop"},"On End Session"))))}}]),t}(i.a.Component);function tc(){var e=Object(oa.a)(["\n  mutation ImportFromDialogflow(\n    $chatbotId: ID!\n    $testSetId: ID\n    $newTestSetName: String,\n    $importer: String\n  ) {\n    importFromDialogflow(\n      chatbotId: $chatbotId\n      testSetId: $testSetId\n      newTestSetName: $newTestSetName,\n      importer: $importer\n    )\n  }\n"]);return tc=function(){return e},e}var ac=a(43),nc=ac.hasPermission,rc=ac.hasAnyPermission,sc=Object(da.a)(tc()),ic=["da","de","en","en-AU","en-CA","en-GB","en-IN","en-US","es","es-419","es-ES","fr","fr-CA","fr-FR","hi","id","it","ja","ko","nl","no","pt","pt-BR","ru","sv","th","uk","zh-CN","zh-HK","zh-TW"],oc=["PLATFORM_UNSPECIFIED","FACEBOOK","SLACK","TELEGRAM","KIK","SKYPE","LINE","VIBER","ACTIONS_ON_GOOGLE"];var lc=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={parseError:null,parseOk:null,showImportDialog:!1},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderImportDialog",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=a.user,o=a.history;return i.a.createElement(h.c,{mutation:sc,onCompleted:function(e){t.setState({showImportDialog:!1}),n("Test Cases imported"),o.push("/testsets/view/".concat(e.importFromDialogflow))},onError:function(e){r("Test Case import failed",e)},refetchQueries:function(e){var t=e.data;return[{query:kl},{query:Fl,variables:{testSetId:t.importFromDialogflow}}]},awaitRefetchQueries:!0},function(a,n){var r=n.loading;n.error;return i.a.createElement(Bn.b,{onSubmit:function(t){a({variables:{chatbotId:e,testSetId:t.testSetId,newTestSetName:t.newTestSetName,importer:t.importer}})},validate:function(e){var t={};return e.testSetId||e.newTestSetName||(t.testSetId=t.newTestSetName="Select Test Set or create a new one"),t},render:function(e){var a=e.handleSubmit;e.reset,e.submitting,e.pristine,e.values;return i.a.createElement(cl,{open:t.state.showImportDialog,isWorking:r,onCancel:function(){return t.setState({showImportDialog:!1})},onOk:function(){return a()},title:"Import Dialogflow Intents as Test Cases"},i.a.createElement("form",{onSubmit:a},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"importer",component:_s,label:"What Test Cases do you want to import ?",validate:Ms},i.a.createElement(Ge.a,{key:"importDialogflowIntents",value:"importDialogflowIntents"},"Import Utterances for intent resolution only"),i.a.createElement(Ge.a,{key:"importDialogflowConversations",value:"importDialogflowConversations"},"Map Dialogflow agent to convos and utterances"))),i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:kl},function(e){var t=e.loading,a=e.error,n=e.data;return t?i.a.createElement(ca.a,{size:50}):a?i.a.createElement(Dn,{err:a}):i.a.createElement(Bn.a,{name:"testSetId",component:_s,label:"Select Test Set"},n.testsets.map(function(e){return i.a.createElement(Ge.a,{key:e.id,value:e.id},e.name)}))})),nc(s,"TESTSETS_CREATE")&&i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"newTestSetName",component:Is,label:"... or create new Test Set"})))))}})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.advanced,n=t.disabled,r=t.user;return i.a.createElement(Bn.c,{subscription:{values:!0,form:!0},render:function(t){var s=t.values,o=t.form.change;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:3},i.a.createElement(Bn.a,{name:"dialogFlow.projectId",component:Is,label:"Project Id",validate:Ms,disabled:n})),i.a.createElement(Ca,{xs:12,sm:5},i.a.createElement(Bn.a,{name:"dialogFlow.clientEmail",component:Is,label:"Client Email",validate:Ms,disabled:n})),i.a.createElement(Ca,{xs:12,sm:2},i.a.createElement(Bn.a,{name:"dialogFlow.languageCode",component:_s,label:"Language",disabled:n},i.a.createElement(Ge.a,{key:"",value:""}),ic.map(function(e){return i.a.createElement(Ge.a,{key:e,value:e},e)}))),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(Bn.a,{name:"dialogFlow.privateKey",component:Is,label:"Private Key",validate:Ks(Ms,$s),disabled:n})),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"There is a blog post how to get the required credentials to connect to dialogflow (see"," ",i.a.createElement("a",{href:"https://chatbotsmagazine.com/3-steps-setup-automated-testing-for-google-assistant-and-dialogflow-de42937e57c6",target:"_blank",rel:"noopener noreferrer"},"How to Setup dialogflow in botium"),")")),!n&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"dialogFlow.fileupload",component:Ls,values:s,change:o,label:"Select/Drop Service Account Credentials JSON File",onFileLoaded:function(t,a){try{var n=JSON.parse(atob(a));o("dialogFlow.projectId",n.project_id),o("dialogFlow.clientEmail",n.client_email),o("dialogFlow.privateKey",n.private_key),e.setState({parseError:null,parseOk:"Read credentials from file ".concat(t)})}catch(r){e.setState({parseError:"Reading credentials from file ".concat(t," failed: ").concat(r),parseOk:null})}o("dialogFlow.fileupload",null)}})),i.a.createElement(Ca,{xs:12},e.state.parseError&&i.a.createElement(Pa,null,e.state.parseError),e.state.parseOk&&i.a.createElement(wa,null,e.state.parseOk))),i.a.createElement(Ca,{xs:12,sm:3},i.a.createElement(Bn.a,{name:"dialogFlow.outputPlatform",component:_s,label:"Output Platform",disabled:n},i.a.createElement(Ge.a,{key:"",value:""}),oc.map(function(e){return i.a.createElement(Ge.a,{key:e,value:e},e)}))),i.a.createElement(Ca,{xs:12,sm:9}),a&&s.id&&rc(r,["TESTSETS_CREATE","TESTSETS_UPDATE"])&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:12,sm:6},e.renderImportDialog(s.id),i.a.createElement(yt,{onClick:function(){return e.setState({showImportDialog:!0})},disabled:n,fullWidth:!0},"Import Test Cases from Dialogflow Agent"))))}})}}]),t}(i.a.Component),cc=Object(We.a)(Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(lc)),uc=["GET","POST","PUT"];var mc=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.disabled;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(or,null,i.a.createElement("p",null,"For each conversation, this connector holds state which can be used in constructing a request and updated after each response:",i.a.createElement("br",null),i.a.createElement("b",null,"msg")," holds the current user input to send",i.a.createElement("br",null),i.a.createElement("b",null,"context")," holds the current session variables (may or may not apply to your chatbot)",i.a.createElement("br",null),i.a.createElement("b",null,"botium"),' holds a "conversationId" (generated guid for each conversation) and a "stepId" (generated guid for each conversation step)'),i.a.createElement("p",null,"All of them are available in the ",i.a.createElement("a",{href:"https://mustache.github.io/",target:"_blank",rel:"noopener noreferrer"},"Moustache templates")," below."),i.a.createElement("p",null,"All of them are updated by defining ",i.a.createElement("a",{href:"http://goessner.net/articles/JsonPath/",target:"_blank",rel:"noopener noreferrer"},"JSON Path expressions")," on the response body."),i.a.createElement("p",null,"More information available in the ",i.a.createElement("a",{href:"https://botium.atlassian.net/wiki/spaces/BOTIUM/pages/24510469/Generic+HTTP+S+JSON+Connector",target:"_blank",rel:"noopener noreferrer"},"Botium Wiki"),"."))),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"HTTP(S) Endpoint Configuration")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"simpleRestConnector.url",component:Is,label:"HTTP(S) endpoint of your chatbot",validate:Ms,disabled:e}),i.a.createElement(or,null,"Moustache template variables supported")),i.a.createElement(Ca,{xs:12,sm:2},i.a.createElement(Bn.a,{name:"simpleRestConnector.method",component:_s,label:"HTTP method",disabled:e},uc.map(function(e){return i.a.createElement(Ge.a,{key:e,value:e},e)}))),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"simpleRestConnector.pingUrl",component:Is,label:"HTTP(S) endpoint to ping before start",disabled:e})),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"State Initialization")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"simpleRestConnector.initContext",component:ws,multiline:!0,rows:3,label:"Initial conversation context",validate:Gs,disabled:e})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"simpleRestConnector.initText",component:Is,label:"Initial conversation text",disabled:e}),i.a.createElement(or,null,"User input sent before actual conversation starts")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"HTTP(S) request builder")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"simpleRestConnector.headersTemplate",component:ws,multiline:!0,rows:5,label:"Header Template",validate:Gs,disabled:e}),i.a.createElement(or,null,"Moustache template variables supported")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"simpleRestConnector.bodyTemplate",component:ws,multiline:!0,rows:5,label:"Body Template",validate:Gs,disabled:e}),i.a.createElement(or,null,"Moustache template variables supported")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(Bn.a,{name:"simpleRestConnector.requestHook",component:ws,multiline:!0,rows:5,label:"Request hook",disabled:e})),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"HTTP(S) response evaluation")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"simpleRestConnector.contextJsonPath",component:Is,label:"JSON-Path for conversation context",disabled:e}),i.a.createElement(or,null,"Should return JSON struct with attributes")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"simpleRestConnector.responseJsonPath",component:Is,label:"JSON-Path for bot response",validate:Ms,disabled:e}),i.a.createElement(or,null,"Should return string or array of strings")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"simpleRestConnector.mediaJsonPath",component:Is,label:"JSON-Path for media",disabled:e}),i.a.createElement(or,null,"Should return string or array of strings")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"simpleRestConnector.buttonJsonPath",component:Is,label:"JSON-Path for Quick-Reply Recognition",disabled:e}),i.a.createElement(or,null,"Should return string or array of strings")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(Bn.a,{name:"simpleRestConnector.responseHook",component:ws,multiline:!0,rows:5,label:"Response hook",disabled:e})))}}]),t}(i.a.Component);var dc=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.advanced,a=e.disabled;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"directLine.secret",component:ks,label:"Direct Line secret",validate:Ms,disabled:a}),i.a.createElement(or,null,"Documentation how authentication works in directline : (see"," ",i.a.createElement("a",{href:"https://docs.microsoft.com/en-us/azure/bot-service/rest-api/bot-framework-rest-direct-line-3-0-authentication?view=azure-bot-service-4.0",target:"_blank",rel:"noopener noreferrer"},"Direct line authentication"),")")),i.a.createElement(Ca,{xs:12,sm:6})),t&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"directLine.generateUsername",component:js,label:"Generate unique username for each conversation",type:"checkbox",disabled:a})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"directLine.webSocket",component:js,label:"Enable Websocket Transport",type:"checkbox",disabled:a})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"directLine.pollingInterval",component:Ps,label:"Polling interval (if not using Websocket Transport)",parse:parseInt,validate:Ws,disabled:a}))),t&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"directLine.buttonType",component:Is,label:"Button Activity Type",disabled:a}),i.a.createElement(or,null,"Activity type to use for simulating button clicks by the user. Depending on your implementation most likely ",i.a.createElement("em",null,"event")," or ",i.a.createElement("em",null,"message"))),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"directLine.buttonValueField",component:Is,label:"Button Activity Value Field",disabled:a}),i.a.createElement(or,null,"Activity field to use for payload when simulating button clicks by the user. Depending on your implementation most likely ",i.a.createElement("em",null,"name")," or ",i.a.createElement("em",null,"value")))))}}]),t}(i.a.Component);var pc=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.advanced,a=e.disabled;return i.a.createElement(Bn.c,{subscription:{values:!0},render:function(e){var n=e.values;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"docker.dockerimage",component:Is,label:"Docker Image",validate:Ms,disabled:a}),i.a.createElement(or,null,"This docker image is used as base image for hosting your chatbot code. Choose one from"," ",i.a.createElement("a",{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"},"Docker Hub")," ","or another docker image registry.")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"docker.startcmd",component:Is,label:"Chatbot Start Command",validate:Ms,disabled:a}),i.a.createElement(or,null,'This command is used to start your chatbot. For Node.js projects, this is typically similar to "npm start", for C# it might be something like "dotnet run".'))),t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"docker.healthcheckpath",component:Is,label:"Health Check URL Path",disabled:a})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"docker.healthcheckverb",component:_s,label:"Health Check HTTP Verb",disabled:a},i.a.createElement(Ge.a,{key:"",value:""}),i.a.createElement(Ge.a,{key:"GET",value:"GET"},"GET"),i.a.createElement(Ge.a,{key:"POST",value:"POST"},"POST"),i.a.createElement(Ge.a,{key:"PUT",value:"PUT"},"PUT"))),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"docker.healthstatus",component:Ps,parse:parseInt,label:"Health Check HTTP Status",validate:Hs(1),disabled:a}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"Optionally configure how the health check of your chatbot code is performed (Botium will only start after your chatbot is active).")))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"docker.facebookapi",component:js,label:"Enable Facebook Messenger API Mocker",type:"checkbox",disabled:a}))),t&&n.docker.facebookapi&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"docker.facebookwebhookpath",component:Is,label:"Facebook Webhook URL Path",disabled:a})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"docker.facebookwebhookport",component:Ps,parse:parseInt,label:"Facebook Webhook Port",validate:Hs(1),disabled:a}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"docker.slackapi",component:js,label:"Enable Slack API Mocker",type:"checkbox",disabled:a}))),t&&n.docker.slackapi&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"docker.slackeventpath",component:Is,label:"Slack Event URL Path",disabled:a})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"docker.slackeventport",component:Ps,parse:parseInt,label:"Slack Event Port",validate:Hs(1),disabled:a}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"docker.slackoauthpath",component:Is,label:"Slack OAuth URL Path",disabled:a})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"docker.slackoauthport",component:Ps,parse:parseInt,label:"Slack OAuth Port",validate:Hs(1),disabled:a})))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"docker.botframeworkapi",component:js,label:"Enable Bot Framework API Mocker",type:"checkbox",disabled:a}))),t&&n.docker.botframeworkapi&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"docker.botframeworkwebhookpath",component:Is,label:"Bot Framework Webhook URL Path",disabled:a})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"docker.botframeworkwebhookport",component:Ps,parse:parseInt,label:"Bot Framework Webhook Port",validate:Hs(1),disabled:a}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"docker.botframeworkappid",component:Is,label:"Use Bot Framework App Id",disabled:a})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"docker.botframeworkchannelid",component:Is,label:"Use Bot Framework Channel Id",disabled:a})))))}})}}]),t}(i.a.Component),Ec=a(52),bc=a.n(Ec),hc=a(54),gc=a.n(hc),fc=a(53),Sc=a.n(fc),vc=["GET","POST","PUT"];var Tc=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={advancedExpanded:!1},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.disabled,a=this.state.advancedExpanded;return i.a.createElement(Bn.c,{subscription:{values:!0},render:function(n){var r=n.values;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"botkit.version",component:_s,label:"Botkit stack",validate:Ms,disabled:t},i.a.createElement(Ge.a,{key:"ANYWHERE_AND_BOTKIT_0_7_AND_BELOW",value:"ANYWHERE_AND_BOTKIT_0_7_AND_BELOW"},"Botkit Anywhere & Botkit Core 0.7"),i.a.createElement(Ge.a,{key:"BOTKIT_4_0",value:"BOTKIT_4_0"},"Botkit Server with Yeoman template & Botkit 4.0"))),"BOTKIT_4_0"===r.botkit.version&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"HTTP(S) Endpoint Configuration")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"botkit.url",component:Is,label:"HTTP(S) endpoint of your chatbot",validate:Ms,disabled:t}),i.a.createElement(or,null,"Moustache template variables supported")),i.a.createElement(bc.a,{expanded:a,onChange:function(){return e.setState({advancedExpanded:!a})}},i.a.createElement(Sc.a,{expandIcon:i.a.createElement(va.a,null)},a?"Hide":"Show"," Advanced Settings"),i.a.createElement(gc.a,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(or,null,i.a.createElement("p",null,"For each conversation, this connector holds state which can be used in constructing a request and updated after each response:",i.a.createElement("br",null),i.a.createElement("b",null,"msg")," holds the current user input to send",i.a.createElement("br",null),i.a.createElement("b",null,"context")," holds the current session variables (may or may not apply to your chatbot)",i.a.createElement("br",null),i.a.createElement("b",null,"botium"),' holds a "conversationId" (generated guid for each conversation) and a "stepId" (generated guid for each conversation step)'),i.a.createElement("p",null,"All of them are available in the ",i.a.createElement("a",{href:"https://mustache.github.io/",target:"_blank",rel:"noopener noreferrer"},"Moustache templates")," below."),i.a.createElement("p",null,"All of them are updated by defining ",i.a.createElement("a",{href:"http://goessner.net/articles/JsonPath/",target:"_blank",rel:"noopener noreferrer"},"JSON Path expressions")," on the response body."),i.a.createElement("p",null,"More information available in the ",i.a.createElement("a",{href:"https://github.com/codeforequity-at/botium-connector-botkit",target:"_blank",rel:"noopener noreferrer"},"Botium Wiki"),"."))),i.a.createElement(Ca,{xs:12,sm:2},i.a.createElement(Bn.a,{name:"botkit.method",component:_s,label:"HTTP method",disabled:t},vc.map(function(e){return i.a.createElement(Ge.a,{key:e,value:e},e)}))),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"botkit.pingUrl",component:Is,label:"HTTP(S) endpoint to ping before start",disabled:t})),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"State Initialization")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"botkit.initContext",component:ws,multiline:!0,rows:3,label:"Initial conversation context",validate:Gs,disabled:t})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"botkit.initText",component:Is,label:"Initial conversation text",disabled:t}),i.a.createElement(or,null,"User input sent before actual conversation starts")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"HTTP(S) request builder")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"botkit.headersTemplate",component:ws,multiline:!0,rows:5,label:"Header Template",validate:Gs,disabled:t}),i.a.createElement(or,null,"Moustache template variables supported")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"botkit.bodyTemplate",component:ws,multiline:!0,rows:5,label:"Body Template",validate:Gs,disabled:t}),i.a.createElement(or,null,"Moustache template variables supported")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(Bn.a,{name:"botkit.requestHook",component:ws,multiline:!0,rows:5,label:"Request hook",disabled:t})),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"HTTP(S) response evaluation")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"botkit.contextJsonPath",component:Is,label:"JSON-Path for conversation context",disabled:t}),i.a.createElement(or,null,"Should return JSON struct with attributes")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"botkit.responseJsonPath",component:Is,label:"JSON-Path for bot response",validate:Ms,disabled:t}),i.a.createElement(or,null,"Should return string or array of strings")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"botkit.mediaJsonPath",component:Is,label:"JSON-Path for media",disabled:t}),i.a.createElement(or,null,"Should return string or array of strings")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"botkit.buttonJsonPath",component:Is,label:"JSON-Path for Quick-Reply Recognition",disabled:t}),i.a.createElement(or,null,"Should return string or array of strings")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(Bn.a,{name:"botkit.responseHook",component:ws,multiline:!0,rows:5,label:"Response hook",disabled:t})))))),"ANYWHERE_AND_BOTKIT_0_7_AND_BELOW"===r.botkit.version&&i.a.createElement(Ca,{xs:12,sm:7},i.a.createElement(Bn.a,{name:"botkit.serverUrl",component:Is,label:"Botkit Server Url",validate:Ks(Ms,qs),disabled:t}),i.a.createElement(or,null,"The Botkit Server Url (without any path, just http/https, servername, port)")))}})}}]),t}(i.a.Component);var yc=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.disabled;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:7},i.a.createElement(Bn.a,{name:"botkitWebsocket.serverUrl",component:Is,label:"Botkit Server Url",validate:Ks(Ms,qs),disabled:e}),i.a.createElement(or,null,"The Botkit Server Url (without any path, just http/https, servername, port)")))}}]),t}(i.a.Component);var xc=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.disabled;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:7},i.a.createElement(Bn.a,{name:"botpress.serverUrl",component:Is,label:"Botpress Server Url",validate:Ks(Ms,qs),disabled:e}),i.a.createElement(or,null,"The Botpress Server Url (without any path, just http/https, servername, port)")),i.a.createElement(Ca,{xs:12,sm:7},i.a.createElement(Bn.a,{name:"botpress.botId",component:Is,label:"Botpress Bot Id",validate:Ms,disabled:e}),i.a.createElement(or,null,"The Botpress Bot Id - you can find it in the Botpress Studio on the bottom left, or in the address bar of your browser (f.e. http://my-botpress-server/studio/*here-is-the-bot-id*/flows/main)")))}}]),t}(i.a.Component);var Oc=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.disabled;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement("h3",null,"Secondary Receiver Setup"),i.a.createElement(or,null,'You have to register Botium Box as a "Secondary Receiver" at Facebook - you find instructions ',i.a.createElement("a",{href:"https://github.com/codeforequity-at/botium-connector-fbpagereceiver#register-botium-webhook-service-as-secondary-receiver",target:"_blank",rel:"noopener noreferrer"},"here"),' (the "Botium webhook service" is integrated into Botium Box already).'),i.a.createElement(Bn.c,{subscription:{values:!0},render:function(e){var t=e.values;return i.a.createElement(or,null,"The Webhook Url to register is: ",i.a.createElement("em",null,wt.api.base+"/fbproxy/"+t.facebook.endpoint)," (change below). Make sure that this Url is accessible for Facebook (Firewall, Port-Forwarding, ngrok, ...).")}}),i.a.createElement(Pa,null,"When doing any changes here, you have to restart your Botium Box server so the Webhooks get started/updated!")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"facebook.verifyToken",component:Is,label:"Facebook Verification Token",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"facebook.accessToken",component:Is,label:"Facebook Page Access Token",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"facebook.endpoint",component:Is,label:"Webhook endpoint",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"facebook.appSecret",component:Is,label:"Facebook App Secret",disabled:e}),i.a.createElement(or,null,"The App Secret is used for request verification. It is optional, but recommended.")),i.a.createElement(Ca,{xs:12},i.a.createElement("h3",null,"Facebook Page Setup")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"facebook.pageId",component:Ps,label:"Facebook Page ID",validate:Ks(Ms,Ws,Hs(0)),disabled:e}),i.a.createElement(or,null,"Facebook Page ID the chatbot is linked to (Facebook Page -> About -> More Info -> Page ID).")),i.a.createElement(Ca,{xs:12,sm:6}),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"facebook.testUser",component:Is,label:"Facebook Test User",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"facebook.testPassword",component:ks,label:"Facebook Password",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"facebook.testUserFullName",component:Is,label:"Full name of the Test User",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"Botium will use this Facebook user to run the conversations.")))}}]),t}(i.a.Component),Cc=a(90),Ac=a.n(Cc),kc=a(139),Ic=a(362),Pc=a.n(Ic),wc=a(363),Rc=a(735);function jc(e,t){return new Promise(function(a,n){var r=Object(wc.v1)(),s={response_type:"device_code",client_id:e,scope:"alexa:all",scope_data:{"alexa:all":{productID:t,productInstanceAttributes:{deviceSerialNumber:r}}}};s.scope_data=JSON.stringify(s.scope_data),Rc({method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},uri:"https://api.amazon.com/auth/O2/create/codepair",form:s},function(s,i,o){return s?n(new Error("_deviceAuthorizationRequest failed: ".concat(JSON.stringify(s)))):i&&200!==i.statusCode?n(new Error("_deviceAuthorizationRequest failed with status code ".concat(i.statusCode,": ").concat(JSON.stringify(o)))):(o=JSON.parse(o),a(Object.assign(o,{client_id:e,product_id:t,device_serial_number:r})))})})}function Nc(e,t){return new Promise(function(a,n){Rc({method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},uri:"https://api.amazon.com/auth/O2/token",form:{grant_type:"device_code",device_code:e,user_code:t}},function(e,t,r){return e?n(new Error("_deviceTokenRequest failed: ".concat(JSON.stringify(e)))):t&&200!==t.statusCode?n(new Error("_deviceTokenRequest failed with status code ".concat(t.statusCode,": ").concat(JSON.stringify(r)))):(r=JSON.parse(r),void a(r))})})}function _c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return new Promise(function(a,n){Rc({method:"PUT",uri:"https://api.amazonalexa.com/v1/devices/@self/capabilities",headers:{authorization:"Bearer ".concat(e)},body:{envelopeVersion:"20160207",capabilities:[{type:"AlexaInterface",interface:"SpeechRecognizer",version:"2.0"}]},json:!0},function(r,s,i){if(r)return n(r);if(204===s.statusCode)return a();if(500===s.statusCode){if((t*=2)>256)return n(new Error("Too mutch retry, giving up!"));setTimeout(function(){return _c(e,t)},1e3*t)}return n(s)})})}var Dc=["de-DE","en-AU","en-CA","en-GB","en-IN","en-US","es-ES","es-MX","es-US","fr-CA","fr-FR","it-IT","ja-JP","pt-BR"],Fc=[{text:"US East (Ohio)",key:"us-east-2"},{text:"US East (N. Virginia)",key:"us-east-1"},{text:"US West (N. California)",key:"us-west-1"},{text:"US West (Oregon)",key:"us-west-2"},{text:"Asia Pacific (Mumbai)",key:"ap-south-1"},{text:"Asia Pacific (Seoul)",key:"ap-northeast-2"},{text:"Asia Pacific (Singapore)",key:"ap-southeast-1"},{text:"Asia Pacific (Sydney)",key:"ap-southeast-2"},{text:"Asia Pacific (Tokyo)",key:"ap-northeast-1"},{text:"Canada (Central)",key:"ca-central-1"},{text:"China (Ningxia)",key:"cn-northwest-1"},{text:"EU (Frankfurt)",key:"eu-central-1"},{text:"EU (Ireland)",key:"eu-west-1"},{text:"EU (London)",key:"eu-west-2"},{text:"EU (Paris)",key:"eu-west-3"},{text:"EU (Stockholm)",key:"eu-north-1"},{text:"South America (S\xe3o Paulo)",key:"sa-east-1"},{text:"AWS GovCloud (US)",key:"us-gov-west-1"}],Lc=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(e.find(function(e){return e.name===t})||{stringValue:a}).stringValue},Vc=function(e,t,a,n){e.push({name:t,type:"STRING",stringValue:a.alexaAvs[n]})};var Mc=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={parseErrorAmazon:null,parseOkAmazon:null,parseErrorGoogle:null,parseOkGoogle:null,deviceCode:null,verifycationUri:null},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"deviceAuthorizationRequest",value:function(){var e=Object(kc.a)(Ac.a.mark(function e(){var t,a,n,r,s,i;return Ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.setAlertSuccessMessage,n=t.setAlertErrorMessage,r=t.values,s=t.change,e.prev=1,e.next=4,jc(r.alexaAvs.avsClientId,r.alexaAvs.avsProductId);case 4:i=e.sent,a("Device Authorized"),this.userCode=i.user_code,this.verifycationUri=i.verification_uri,this.deviceCode=i.device_code,s("alexaAvs.avsRefreshToken",null),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n("Failed to authorize device",e.t0);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"openRegisterYourDeviceWindow",value:function(){var e=this.props.setAlertSuccessMessage;window.open(this.verifycationUri,"_blank"),e("Opening Register Your Device window")}},{key:"refreshTokenRequestAndSendCapabilities",value:function(){var e=Object(kc.a)(Ac.a.mark(function e(){var t,a,n,r,s;return Ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.setAlertSuccessMessage,n=t.setAlertErrorMessage,r=t.change,e.prev=1,e.next=4,Nc(this.deviceCode,this.userCode);case 4:s=e.sent,r("alexaAvs.avsRefreshToken",s.refresh_token),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),n("Failed to acquire request token",e.t0),e.abrupt("return");case 12:try{_c(s.access_token),a("Request Token acquired")}catch(i){n("Failed to send Capabilities",i)}case 13:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderTTS",value:function(){var e=this.props.disabled;return i.a.createElement(Bn.c,{subscription:{values:!0},render:function(t){var a=t.values;return"GOOGLE_CLOUD_TEXT_TO_SPEECH"===a.alexaAvs.tts?i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"alexaAvs.ttsGoogleCloudTextToSpeechPrivateKey",component:Is,label:"Private Key",validate:Ks(Ms,$s),disabled:e})),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"alexaAvs.ttsGoogleCloudTextToSpeechClientEmail",component:Is,label:"Client Email",validate:Ms,disabled:e}))):"AMAZON_POLLY"===a.alexaAvs.tts?i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:6},i.a.createElement(Bn.a,{name:"alexaAvs.ttsAmazonPollyRegion",component:_s,label:"Region",disabled:e},Fc.map(function(e){return i.a.createElement(Ge.a,{key:e.key,value:e.key},e.text)}))),i.a.createElement(Ca,{xs:6},i.a.createElement(Bn.a,{name:"alexaAvs.ttsAmazonPollyAccessKeyId",component:Is,label:"Access Key ID",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"alexaAvs.ttsAmazonPollySecretAccessKey",component:Is,label:"Secret Access Key",validate:Ms,disabled:e}))):null}})}},{key:"renderSTT",value:function(){var e=this.props.disabled;return i.a.createElement(Bn.c,{subscription:{values:!0},render:function(t){var a=t.values;return"GOOGLE_CLOUD_SPEECH"===a.alexaAvs.stt?i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"alexaAvs.sttGoogleCloudSpeechPrivateKey",component:Is,label:"Private Key",validate:Ks(Ms,$s),disabled:e})),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"alexaAvs.sttGoogleCloudSpeechClientEmail",component:Is,label:"Client Email",validate:Ms,disabled:e}))):"AMAZON_TRANSCRIBE"===a.alexaAvs.stt?i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:6},i.a.createElement(Bn.a,{name:"alexaAvs.sttTranscribeRegion",component:_s,label:"Region",disabled:e},Fc.map(function(e){return i.a.createElement(Ge.a,{key:e.key,value:e.key},e.text)}))),i.a.createElement(Ca,{xs:6},i.a.createElement(Bn.a,{name:"alexaAvs.sttTranscribeAccessKeyId",component:Is,label:"Access Key ID",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:6},i.a.createElement(Bn.a,{name:"alexaAvs.sttTranscribeSecretAccessKey",component:Is,label:"Access Key ID",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:6},i.a.createElement(Bn.a,{name:"alexaAvs.sttTranscribeBucketName",component:Is,label:"Bucket name",disabled:e}))):null}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.setAlertSuccessMessage,n=t.values,r=t.change,s=t.disabled;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"Autofill from config files (optional)")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(or,null,"In order to use Alexa, you have to configure Amazon Alexa Voice Service (AVS), a Text-to-Speech (TTS), and a Speech-to-Text(STT) provider. You can read about it ",i.a.createElement("a",{href:"https://github.com/codeforequity-at/botium-connector-alexa-avs",target:"_blank",rel:"noopener noreferrer"},"here"),".")),i.a.createElement(Ca,{xs:12,sm:12}),i.a.createElement(Ca,{xs:6},i.a.createElement(Bn.a,{name:"alexaAvs.fileuploadAmazon",component:Ls,values:n,change:r,label:"Select/Drop Amazon Config JSON File",onFileLoaded:function(t,a){try{var n=JSON.parse(atob(a));n.deviceInfo&&(r("alexaAvs.avsClientId",n.deviceInfo.clientId),r("alexaAvs.avsClientSecret",n.deviceInfo.clientSecret),r("alexaAvs.avsProductId",n.deviceInfo.productId)),r("alexaAvs.ttsAmazonPollyRegion",n.region),r("alexaAvs.ttsAmazonPollyAccessKeyId",n.accessKeyId),r("alexaAvs.ttsAmazonPollySecretAccessKey",n.secretAccessKey),r("alexaAvs.sttTranscribeRegion",n.region),r("alexaAvs.sttTranscribeAccessKeyId",n.accessKeyId),r("alexaAvs.sttTranscribeSecretAccessKey",n.secretAccessKey),r("alexaAvs.sttTranscribeBucketName",n.bucketName),e.setState(Object(Ee.a)({},e.state,{parseErrorAmazon:null,parseOkAmazon:"Read credentials from file ".concat(t)}))}catch(s){e.setState(Object(Ee.a)({},e.state,{parseErrorAmazon:"Reading credentials from file ".concat(t," failed: ").concat(s),parseOkAmazon:null}))}r("alexaAvs.fileuploadAmazon",null)}}),this.state.parseErrorAmazon&&i.a.createElement(Pa,null,this.state.parseErrorAmazon),this.state.parseOkAmazon&&i.a.createElement(wa,null,this.state.parseOkAmazon),i.a.createElement(or,null,"You can read about Amazon Config JSON File in ",i.a.createElement("a",{href:"https://github.com/codeforequity-at/botium-connector-alexa-avs#1-prepare-amazonconfigjson",target:"_blank",rel:"noopener noreferrer"},"here"))),i.a.createElement(Ca,{xs:6},i.a.createElement(Bn.a,{name:"alexaAvs.fileuploadGoogle",component:Ls,values:n,change:r,label:"Select/Drop Google Config JSON File",onFileLoaded:function(t,a){try{var n=JSON.parse(atob(a));r("alexaAvs.ttsGoogleCloudTextToSpeechPrivateKey",n.private_key),r("alexaAvs.ttsGoogleCloudTextToSpeechClientEmail",n.client_email),r("alexaAvs.sttGoogleCloudSpeechPrivateKey",n.private_key),r("alexaAvs.sttGoogleCloudSpeechClientEmail",n.client_email),e.setState({parseErrorGoogle:null,parseOkGoogle:"Read credentials from file ".concat(t)})}catch(s){e.setState({parseErrorGoogle:"Reading credentials from file ".concat(t," failed: ").concat(s),parseOkGoogle:null})}r("alexaAvs.fileuploadGoogle",null)}}),this.state.parseErrorGoogle&&i.a.createElement(Pa,null,this.state.parseErrorGoogle),this.state.parseOkGoogle&&i.a.createElement(wa,null,this.state.parseOkGoogle),i.a.createElement(or,null,"You can read about Google Config JSON File in ",i.a.createElement("a",{href:"https://github.com/codeforequity-at/botium-connector-alexa-avs#2-prepare-googleconfigjson-optional",target:"_blank",rel:"noopener noreferrer"},"here"))),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(or,null,i.a.createElement("br",null),"If you use autofill, then you have to fill ",i.a.createElement("b",null,"Alexa AVS, registration"),", and choose ",i.a.createElement("b",null,"TTS/STT provider"))),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"Alexa AVS")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"alexaAvs.avsProductId",component:Is,label:"Product ID",disabled:s})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"alexaAvs.avsClientId",component:Is,label:"Client ID",validate:Ms,disabled:s})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"alexaAvs.avsClientSecret",component:Is,label:"Client Secret",validate:Ms,disabled:s})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"alexaAvs.avsLanguageCode",component:_s,label:"Language",disabled:s},Dc.map(function(e){return i.a.createElement(Ge.a,{key:e,value:e},e)})),i.a.createElement(or,null,"en-CA"===n.alexaAvs.avsLanguageCode?"This language not supported by Amazon Polly!":"es-MX"===n.alexaAvs.avsLanguageCode?"This language not supported by Amazon Transcribe!":"This language supported by every TTS/STT provider")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"Alexa AVS, registration")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(yt,{disabled:s||!n.alexaAvs.avsClientId||!n.alexaAvs.avsProductId,onClick:function(){e.deviceAuthorizationRequest()}},"1. Authorize device (and acquire User Token)")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(yt,{disabled:s||!this.userCode,onClick:function(){Pc()(e.userCode),a("User Code copied to the clipboard"),e.openRegisterYourDeviceWindow()}},"2. Register Your Device (Paste the User Code from Clipboard)")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(yt,{disabled:s||!this.userCode,onClick:function(){e.refreshTokenRequestAndSendCapabilities()}},"3. Acquire Refresh Token")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(Bn.a,{name:"alexaAvs.avsRefreshToken",component:Is,label:"Refresh Token",validate:Ms,disabled:!0})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement("h3",null,"Text-to-Speech")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"alexaAvs.tts",component:_s,label:"Provider",validate:Ms,disabled:s},i.a.createElement(Ge.a,{key:"GOOGLE_CLOUD_TEXT_TO_SPEECH",value:"GOOGLE_CLOUD_TEXT_TO_SPEECH"},"Google Cloud Speech-to-Text"),i.a.createElement(Ge.a,{key:"AMAZON_POLLY",value:"AMAZON_POLLY"},"Amazon Polly"))),this.renderTTS(),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement("h3",null,"Speech-to-Text")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"alexaAvs.stt",component:_s,label:"Provider",validate:Ms,disabled:s},i.a.createElement(Ge.a,{key:"GOOGLE_CLOUD_SPEECH",value:"GOOGLE_CLOUD_SPEECH"},"Google Cloud Speech"),i.a.createElement(Ge.a,{key:"AMAZON_TRANSCRIBE",value:"AMAZON_TRANSCRIBE"},"Amazon Transcribe"))),this.renderSTT())}}]),t}(i.a.Component),Bc=Object(We.a)(Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(Mc));var Uc=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.disabled;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:7},i.a.createElement(Bn.a,{name:"koreai.webhookUrl",component:Is,label:"Kore.ai Webhook Url",validate:Ks(Ms,qs),disabled:e}),i.a.createElement(or,null,"The full Webhook URL from the Webhook configuration settings")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"koreai.clientId",component:Is,label:"Kore.ai Client ID",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"koreai.clientSecret",component:ks,label:"Kore.ai Client Secret",validate:Ms,disabled:e})))}}]),t}(i.a.Component);var Wc=[{name:"USA Ost (Nord-Virginia)",value:"us-east-1"},{name:"USA West (Oregon)",value:"us-west-2"},{name:"EU (Irland)",value:"eu-west-1"}],Hc=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.disabled;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"See section ",i.a.createElement("b",null,"Connecting Amazon Lex to Botium")," in the ",i.a.createElement("a",{href:"https://github.com/codeforequity-at/botium-connector-lex",target:"_blank",rel:"noopener noreferrer"},"Github Repository")," of the connector for instructions how to get an IAM user."))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"lex.accessKeyId",component:Is,label:"IAM Access Key",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"lex.secretAccessKey",component:ks,label:"IAM Secret Key",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"lex.region",component:_s,label:"Amazon Region Code",validate:Ms,disabled:e},Wc.map(function(e){return i.a.createElement(Ge.a,{key:e.value,value:e.value},e.name)})))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"lex.projectName",component:Is,label:"Name of the Lex Bot (project name)",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"lex.projectAlias",component:Is,label:"Alias of the Lex Bot (see publishing)",validate:Ms,disabled:e}))))}}]),t}(i.a.Component);var Gc=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.disabled;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"See ",i.a.createElement("a",{href:"https://github.com/codeforequity-at/botium-connector-luis",target:"_blank",rel:"noopener noreferrer"},"Github Repository")," of the connector for detailed instructions."))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"luis.appId",component:Is,label:"LUIS Application ID",validate:Ms,disabled:e}),i.a.createElement(or,null,"Open your LUIS project, then go to Manage, Application Information, Application ID")),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"luis.endpointKey",component:ks,label:"LUIS Key",validate:Ms,disabled:e}),i.a.createElement(or,null,"You an use either:",i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{href:"https://docs.microsoft.com/en-us/azure/cognitive-services/luis/luis-get-started-node-get-intent#get-luis-key",rel:"nofollow"},"authoring key")," (up to 1000 queries to the prediction endpoint API per month for all your LUIS apps)"),i.a.createElement("li",null,i.a.createElement("a",{href:"https://docs.microsoft.com/en-us/azure/cognitive-services/LUIS/luis-how-to-azure-subscription",rel:"nofollow"},"subscription keys")," (Azure account required, free tier possible)"))))))}}]),t}(i.a.Component);function zc(){var e=Object(oa.a)(["\n  mutation ImportFromAlexa(\n    $chatbotId: ID!\n    $testSetId: ID\n    $newTestSetName: String,\n    $buildconvos: Boolean,\n    $expandcustomslots: Boolean, \n    $expandbuiltinslots: Boolean, \n    $expandbuiltinslotsid: String, \n    $slotsamples: String, \n    $invocation: String\n  ) {\n    importFromAlexa(\n      chatbotId: $chatbotId\n      testSetId: $testSetId\n      newTestSetName: $newTestSetName,\n      buildconvos: $buildconvos,\n      expandcustomslots: $expandcustomslots, \n      expandbuiltinslots: $expandbuiltinslots, \n      expandbuiltinslotsid: $expandbuiltinslotsid, \n      slotsamples: $slotsamples, \n      invocation: $invocation\n    )\n  }\n"]);return zc=function(){return e},e}var $c=a(43),qc=$c.hasPermission,Kc=$c.hasAnyPermission,Jc=Object(da.a)(zc());var Xc=[{name:"Skill Simulation API",value:"simulation"},{name:"Skill Invocation API",value:"invocation"}],Qc=["en-US","en-GB","en-CA","en-AU","de-DE","fr-FR","en-IN","ja-JP"],Yc=["default","NA","EU","FE"],Zc=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={showImportDialog:!1},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderImportDialog",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=a.user,o=a.history;return i.a.createElement(h.c,{mutation:Jc,onCompleted:function(e){t.setState({showImportDialog:!1}),n("Test Cases imported"),o.push("/testsets/view/".concat(e.importFromAlexa))},onError:function(e){r("Test Case import failed",e)},refetchQueries:function(e){var t=e.data;return[{query:kl},{query:Fl,variables:{testSetId:t.importFromAlexa}}]},awaitRefetchQueries:!0},function(a,n){var r=n.loading;n.error;return i.a.createElement(Bn.b,{onSubmit:function(t){a({variables:{chatbotId:e,testSetId:t.testSetId,newTestSetName:t.newTestSetName,buildconvos:!!t.buildconvos,expandcustomslots:!!t.expandcustomslots,expandbuiltinslots:!!t.expandbuiltinslots,expandbuiltinslotsid:t.expandbuiltinslotsid,slotsamples:t.slotsamples,invocation:t.invocation}})},validate:function(e){var t={};return e.testSetId||e.newTestSetName||(t.testSetId=t.newTestSetName="Select Test Set or create a new one"),t},initialValues:{buildconvos:!0,expandcustomslots:!0,expandbuiltinslots:!0,expandbuiltinslotsid:"#en-us1",slotsamples:JSON.stringify({travelDate:["tomorrow","next week"]},null,2)},render:function(e){var a=e.handleSubmit,n=(e.reset,e.submitting,e.pristine,e.values);return i.a.createElement(cl,{open:t.state.showImportDialog,isWorking:r,onCancel:function(){return t.setState({showImportDialog:!1})},onOk:function(){return a()},title:"Import Alexa Interaction Model as Test Cases"},i.a.createElement("form",{onSubmit:a},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"buildconvos",component:js,label:"Build convo files for intent assertions (otherwise, just write utterances files)",type:"checkbox"})),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"expandcustomslots",component:js,label:"Expand slots with custom slot types in utterances",type:"checkbox"})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"expandbuiltinslots",component:js,label:"Expand slots with builtin slot types in utterances",type:"checkbox"})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"expandbuiltinslotsid",component:Is,label:"Language table id",disabled:!n.expandbuiltinslots})),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"Built-in slot types (for example AMAZON.Airline, AMAZON.US_CITY, ...) are loaded from ",i.a.createElement("a",{href:"https://developer.amazon.com/de/docs/custom-skills/slot-type-reference.html",target:"_blank",rel:"noopener noreferrer"},"here"),', section "List Slot Types", column "Sample List Values" is used for expansion. For getting the language table id, hover over language, see last part of the url, for example "#de-de1".')),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"slotsamples",component:ws,multiline:!0,rows:7,label:"Slot name and list of sample values (JSON-formatted)",validate:Gs}),i.a.createElement(or,null,"Matching slot names are pre-filled with all the given sample values to produce various Botium utterances")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"invocation",component:Is,label:"Prefix each utterance with an invocation sequence"}),i.a.createElement(or,null,'For example: "Alexa, tell myskill". IMPORTANT: For testing with the Skills Management API, this is not required. If you want to use the test cases for other connectors, this might be required.')),i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:kl},function(e){var t=e.loading,a=e.error,n=e.data;return t?i.a.createElement(ca.a,{size:50}):a?i.a.createElement(Dn,{err:a}):i.a.createElement(Bn.a,{name:"testSetId",component:_s,label:"Select Test Set"},n.testsets.map(function(e){return i.a.createElement(Ge.a,{key:e.id,value:e.id},e.name)}))})),qc(s,"TESTSETS_CREATE")&&i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"newTestSetName",component:Is,label:"... or create new Test Set"})))))}})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.advanced,n=t.disabled,r=t.user;return i.a.createElement(Bn.c,{subscription:{values:!0,form:!0},render:function(t){var s=t.values;t.form.change;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"See the ",i.a.createElement("a",{href:"https://github.com/codeforequity-at/botium-connector-alexa-smapi",target:"_blank",rel:"noopener noreferrer"},"Github Repository")," of the connector for detailed instructions."))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"alexasmapi.api",component:_s,label:"Skill Management API",validate:Ms,disabled:n},Xc.map(function(e){return i.a.createElement(Ge.a,{key:e.value,value:e.value},e.name)})))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"See ",i.a.createElement("a",{href:"https://developer.amazon.com/de/docs/smapi/skill-testing-operations.html",rel:"nofollow"},"Skill Management API"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("strong",null,"Skill Simulation API")," handles plain text input (including intent resolution), but doesn't provide session tracking - only one-shot-conversations supported"),i.a.createElement("li",null,i.a.createElement("strong",null,"Skill Invocation API")," handles structured input (intents and slots, no intent resolution done) and is therefore harder to use than the Simulation API"))))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"alexasmapi.skillId",component:Is,label:"Alexa Skill ID",validate:Ms,disabled:n}),i.a.createElement(or,null,"See Alexa Developer Console")),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"alexasmapi.locale",component:_s,label:"Simulated Locale",validate:Ms,disabled:n},Qc.map(function(e){return i.a.createElement(Ge.a,{key:e,value:e},e)})),i.a.createElement(or,null,"Locale for the virtual device used in the simulation")),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.c,{subscription:{values:!0},render:function(e){return"invocation"===e.values.alexasmapi.api&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Bn.a,{name:"alexasmapi.endpointRegion",component:_s,label:"Endpoint Region Code",validate:Ms,disabled:n},Yc.map(function(e){return i.a.createElement(Ge.a,{key:e,value:e},e)})),i.a.createElement(or,null,"Region of endpoint to be called"))}}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"alexasmapi.refreshToken",component:ks,label:"AWS Refresh Token",validate:Ms,disabled:n}),i.a.createElement(or,null,"See the section ",i.a.createElement("b",null,"Connecting Amazon Alexa Skills API to Botium")," in the ",i.a.createElement("a",{href:"https://github.com/codeforequity-at/botium-connector-alexa-smapi",target:"_blank",rel:"noopener noreferrer"},"Github Repository")," of the connector for instructions."))),a&&s.id&&Kc(r,["TESTSETS_CREATE","TESTSETS_UPDATE"])&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},e.renderImportDialog(s.id),i.a.createElement(yt,{onClick:function(){return e.setState({showImportDialog:!0})},disabled:n,fullWidth:!0},"Import Test Cases from Alexa Interaction Model"))))}})}}]),t}(i.a.Component),eu=Object(We.a)(Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(Zc));var tu=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.disabled;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"See the ",i.a.createElement("a",{href:"https://github.com/codeforequity-at/botium-connector-wechat",target:"_blank",rel:"noopener noreferrer"},"Github Repository")," of the connector for detailed instructions.")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"wechat.webhookUrl",component:Is,label:"Wechat Webhook Url",validate:Ks(Ms,qs),disabled:e})),i.a.createElement(Ca,{xs:12,sm:6}),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"wechat.token",component:Is,label:"Wechat Webhook Token",validate:Ms,disabled:e})))}}]),t}(i.a.Component),au=["GET","POST","PUT"];var nu=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.disabled;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(or,null,i.a.createElement("p",null,"This connector works just with the ",i.a.createElement("a",{href:"https://rasa.com/docs/core/connectors/#restinput",target:"_blank",rel:"noopener noreferrer"},"Rasa RestInput channel")," together."),i.a.createElement("p",null,"Rasa connector uses ",i.a.createElement("a",{href:"https://botium.atlassian.net/wiki/spaces/BOTIUM/pages/24510469/Generic+HTTP+S+JSON+Connector",target:"_blank",rel:"noopener noreferrer"},"Generic HTTP(S)/JSON Connector")," in background. See description of Capabilities there."),i.a.createElement("p",null,"There are three types of Capabilities:"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("b",null,"HTTP(S) endpoint of your chatbot")," is the only required Capability."),i.a.createElement("li",null,i.a.createElement("b",null,"HTTP(S) endpoint to ping before start, HTTP method, Body Template, JSON-Path for bot response, JSON-Path for media, JSON-Path for Quick-Reply Recognition")," Capabilities are filled with defaults to fit to Rasa RestInput channel. If you dont fill them they will got the default value."),i.a.createElement("li",null,"Other Capablilities are optional, working same way as in ",i.a.createElement("b",null,"Generic HTTP(S)/JSON Connector"))),i.a.createElement("p",null,"More information available in the ",i.a.createElement("a",{href:"https://www.npmjs.com/package/botium-connector-rasa",target:"_blank",rel:"noopener noreferrer"},"Rasa Connector")," documentation."))),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"HTTP(S) Endpoint Configuration")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"rasaConnector.url",component:Is,label:"HTTP(S) endpoint of your chatbot",validate:Ms,disabled:e}),i.a.createElement(or,null,"Moustache template variables supported")),i.a.createElement(Ca,{xs:12,sm:2},i.a.createElement(Bn.a,{name:"rasaConnector.method",component:_s,label:"HTTP method",disabled:e},au.map(function(e){return i.a.createElement(Ge.a,{key:e,value:e},e)}))),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"rasaConnector.pingUrl",component:Is,label:"HTTP(S) endpoint to ping before start.",disabled:e}),i.a.createElement(or,null,"/version endpoint is used if it is not set")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"State Initialization")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"rasaConnector.initContext",component:ws,multiline:!0,rows:3,label:"Initial conversation context",validate:Gs,disabled:e})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"rasaConnector.initText",component:Is,label:"Initial conversation text",disabled:e}),i.a.createElement(or,null,"User input sent before actual conversation starts")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"HTTP(S) request builder")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"rasaConnector.headersTemplate",component:ws,multiline:!0,rows:5,label:"Header Template",validate:Gs,disabled:e}),i.a.createElement(or,null,"Moustache template variables supported")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"rasaConnector.bodyTemplate",component:ws,multiline:!0,rows:5,label:"Body Template",validate:Gs,disabled:e}),i.a.createElement(or,null,"Moustache template variables supported")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(Bn.a,{name:"rasaConnector.requestHook",component:ws,multiline:!0,rows:5,label:"Request hook",disabled:e})),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("h3",null,"HTTP(S) response evaluation")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"rasaConnector.contextJsonPath",component:Is,label:"JSON-Path for conversation context",disabled:e}),i.a.createElement(or,null,"Should return JSON struct with attributes")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"rasaConnector.responseJsonPath",component:Is,label:"JSON-Path for bot response",disabled:e}),i.a.createElement(or,null,"Should return string or array of strings")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"rasaConnector.mediaJsonPath",component:Is,label:"JSON-Path for media",disabled:e}),i.a.createElement(or,null,"Should return string or array of strings")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"rasaConnector.buttonJsonPath",component:Is,label:"JSON-Path for Quick-Reply Recognition",disabled:e}),i.a.createElement(or,null,"Should return string or array of strings")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(Bn.a,{name:"rasaConnector.responseHook",component:ws,multiline:!0,rows:5,label:"Response hook",disabled:e})))}}]),t}(i.a.Component);var ru=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.disabled;return i.a.createElement(Bn.c,{subscription:{form:!0},render:function(){return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"sapcai.token",component:Is,label:"Token",validate:Ms,disabled:e})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"sapcai.language",component:Is,label:"Language",disabled:e}),i.a.createElement(or,null,'A valid language isocode like "en". If not provided a language detection will be performed.')))}})}}]),t}(i.a.Component);function su(){var e=Object(oa.a)(["\n  query AvailableConnectorsQuery {\n    availableconnectors {\n      name\n      description\n    }\n  }\n"]);return su=function(){return e},e}var iu=Object(da.a)(su());function ou(e){return ja.a.pick(e,["name","type","stringValue","intValue","booleanValue","jsonValue"])}function lu(e,t){var a={create:[],update:[],delete:[]};return e&&e.forEach(function(e){e.id?a.update.push({where:{id:e.id},data:ou(e)}):a.create.push(e)}),t&&t.filter(function(e){return e.id}).forEach(function(t){e&&e.find(function(e){return e.id&&t.id===e.id})||a.delete.push({id:t.id})}),a}function cu(e,t,a){var n=function(t){Object.assign(e,t),a&&Object.keys(t).forEach(function(e){a(e,t[e])})};n({}),n(function(e){return{watson:{sdk:(e.find(function(e){return"WATSON_ASSISTANT_VERSION"===e.name})||{stringValue:"V1"}).stringValue,url:(e.find(function(e){return"WATSON_URL"===e.name})||{stringValue:"https://gateway.watsonplatform.net/assistant/api"}).stringValue,versionDate:(e.find(function(e){return"WATSON_VERSION_DATE"===e.name})||{stringValue:"2018-09-20"}).stringValue,apikey:(e.find(function(e){return"WATSON_APIKEY"===e.name})||{stringValue:""}).stringValue,user:(e.find(function(e){return"WATSON_USER"===e.name})||{stringValue:""}).stringValue,pwd:(e.find(function(e){return"WATSON_PASSWORD"===e.name})||{stringValue:""}).stringValue,assistantId:(e.find(function(e){return"WATSON_ASSISTANT_ID"===e.name})||{stringValue:""}).stringValue,workspaceId:(e.find(function(e){return"WATSON_WORKSPACE_ID"===e.name})||{stringValue:""}).stringValue,copyWorkspace:(e.find(function(e){return"WATSON_COPY_WORKSPACE"===e.name})||{booleanValue:!1}).booleanValue}}}(t||[])),n(function(e){return{webdriver:{url:(e.find(function(e){return"WEBDRIVERIO_URL"===e.name})||{stringValue:""}).stringValue,profile:(e.find(function(e){return"WEBDRIVERIO_PROFILE"===e.name})||{stringValue:"other"}).stringValue||"other",inputElement:(e.find(function(e){return"WEBDRIVERIO_INPUT_ELEMENT"===e.name})||{stringValue:""}).stringValue,inputElementVisibleTimeout:(e.find(function(e){return"WEBDRIVERIO_INPUT_ELEMENT_VISIBLE_TIMEOUT"===e.name})||{intValue:1e4}).intValue,outputElement:(e.find(function(e){return"WEBDRIVERIO_OUTPUT_ELEMENT"===e.name})||{stringValue:""}).stringValue,ignoreUpfrontMessages:(e.find(function(e){return"WEBDRIVERIO_IGNOREUPFRONTMESSAGES"===e.name})||{booleanValue:!1}).booleanValue,user:(e.find(function(e){return"WEBDRIVERIO_USERNAME"===e.name})||{stringValue:""}).stringValue,pwd:(e.find(function(e){return"WEBDRIVERIO_PASSWORD"===e.name})||{stringValue:""}).stringValue,screenshots:(e.find(function(e){return"WEBDRIVERIO_SCREENSHOTS"===e.name})||{stringValue:"none"}).stringValue}}}(t||[])),n(function(e){return{dialogFlow:{projectId:(e.find(function(e){return"DIALOGFLOW_PROJECT_ID"===e.name})||{stringValue:""}).stringValue,clientEmail:(e.find(function(e){return"DIALOGFLOW_CLIENT_EMAIL"===e.name})||{stringValue:""}).stringValue,privateKey:(e.find(function(e){return"DIALOGFLOW_PRIVATE_KEY"===e.name})||{stringValue:""}).stringValue,languageCode:(e.find(function(e){return"DIALOGFLOW_LANGUAGE_CODE"===e.name})||{stringValue:"en"}).stringValue,outputPlatform:(e.find(function(e){return"DIALOGFLOW_OUTPUT_PLATFORM"===e.name})||{stringValue:""}).stringValue}}}(t||[])),n(function(e){return{simpleRestConnector:{initContext:Ns((e.find(function(e){return"SIMPLEREST_INIT_CONTEXT"===e.name})||{jsonValue:""}).jsonValue),initText:(e.find(function(e){return"SIMPLEREST_INIT_TEXT"===e.name})||{stringValue:""}).stringValue,url:(e.find(function(e){return"SIMPLEREST_URL"===e.name})||{stringValue:""}).stringValue,method:(e.find(function(e){return"SIMPLEREST_METHOD"===e.name})||{stringValue:"POST"}).stringValue,pingUrl:(e.find(function(e){return"SIMPLEREST_PING_URL"===e.name})||{stringValue:""}).stringValue,headersTemplate:Ns((e.find(function(e){return"SIMPLEREST_HEADERS_TEMPLATE"===e.name})||{jsonValue:""}).jsonValue),bodyTemplate:Ns((e.find(function(e){return"SIMPLEREST_BODY_TEMPLATE"===e.name})||{jsonValue:""}).jsonValue),contextJsonPath:(e.find(function(e){return"SIMPLEREST_CONTEXT_JSONPATH"===e.name})||"").stringValue,responseJsonPath:(e.find(function(e){return"SIMPLEREST_RESPONSE_JSONPATH"===e.name})||"").stringValue,buttonJsonPath:(e.find(function(e){return"SIMPLEREST_BUTTONS_JSONPATH"===e.name})||"").stringValue,mediaJsonPath:(e.find(function(e){return"SIMPLEREST_MEDIA_JSONPATH"===e.name})||"").stringValue,requestHook:(e.find(function(e){return"SIMPLEREST_REQUEST_HOOK"===e.name})||"").stringValue,responseHook:(e.find(function(e){return"SIMPLEREST_RESPONSE_HOOK"===e.name})||"").stringValue}}}(t||[])),n(function(e){return{directLine:{secret:(e.find(function(e){return"DIRECTLINE3_SECRET"===e.name})||{stringValue:""}).stringValue,webSocket:(e.find(function(e){return"DIRECTLINE3_WEBSOCKET"===e.name})||{booleanValue:!1}).booleanValue,pollingInterval:(e.find(function(e){return"DIRECTLINE3_POLLINGINTERVAL"===e.name})||{intValue:1e3}).intValue,generateUsername:(e.find(function(e){return"DIRECTLINE3_GENERATE_USERNAME"===e.name})||{booleanValue:!1}).booleanValue,buttonType:(e.find(function(e){return"DIRECTLINE3_BUTTON_TYPE"===e.name})||{stringValue:""}).stringValue,buttonValueField:(e.find(function(e){return"DIRECTLINE3_BUTTON_VALUE_FIELD"===e.name})||{stringValue:""}).stringValue}}}(t||[])),n(function(e){return{docker:{startcmd:(e.find(function(e){return"STARTCMD"===e.name})||{stringValue:""}).stringValue,dockerimage:(e.find(function(e){return"DOCKERIMAGE"===e.name})||{stringValue:""}).stringValue,healthcheckpath:(e.find(function(e){return"BOT_HEALTH_CHECK_PATH"===e.name})||{stringValue:""}).stringValue,healthcheckverb:(e.find(function(e){return"BOT_HEALTH_CHECK_VERB"===e.name})||{stringValue:""}).stringValue,healthstatus:(e.find(function(e){return"BOT_HEALTH_STATUS"===e.name})||{}).intValue,facebookapi:(e.find(function(e){return"FACEBOOK_API"===e.name})||{}).booleanValue,facebookwebhookpath:(e.find(function(e){return"FACEBOOK_WEBHOOK_PATH"===e.name})||{stringValue:""}).stringValue,facebookwebhookport:(e.find(function(e){return"FACEBOOK_WEBHOOK_PORT"===e.name})||{}).intValue,slackapi:(e.find(function(e){return"SLACK_API"===e.name})||{}).booleanValue,slackeventpath:(e.find(function(e){return"SLACK_EVENT_PATH"===e.name})||{stringValue:""}).stringValue,slackeventport:(e.find(function(e){return"SLACK_EVENT_PORT"===e.name})||{}).intValue,slackoauthpath:(e.find(function(e){return"SLACK_OAUTH_PATH"===e.name})||{stringValue:""}).stringValue,slackoauthport:(e.find(function(e){return"SLACK_OAUTH_PORT"===e.name})||{}).intValue,botframeworkapi:(e.find(function(e){return"BOTFRAMEWORK_API"===e.name})||{}).booleanValue,botframeworkwebhookpath:(e.find(function(e){return"BOTFRAMEWORK_WEBHOOK_PATH"===e.name})||{stringValue:""}).stringValue,botframeworkwebhookport:(e.find(function(e){return"BOTFRAMEWORK_WEBHOOK_PORT"===e.name})||{}).intValue,botframeworkappid:(e.find(function(e){return"BOTFRAMEWORK_APP_ID"===e.name})||{stringValue:""}).stringValue,botframeworkchannelid:(e.find(function(e){return"BOTIUM_BOTFRAMEWORK_CHANNEL_ID"===e.name})||{stringValue:""}).stringValue}}}(t||[])),n(function(e){return{botkit:{version:(e.find(function(e){return"BOTKIT_VERSION"===e.name})||{stringValue:"BOTKIT_4_0"}).stringValue,serverUrl:(e.find(function(e){return"BOTKIT_SERVER_URL"===e.name})||{stringValue:""}).stringValue,initContext:Ns((e.find(function(e){return"BOTKIT_4_0_INIT_CONTEXT"===e.name})||{jsonValue:""}).jsonValue),initText:(e.find(function(e){return"BOTKIT_4_0_INIT_TEXT"===e.name})||{stringValue:""}).stringValue,url:(e.find(function(e){return"BOTKIT_4_0_URL"===e.name})||{stringValue:""}).stringValue,method:(e.find(function(e){return"BOTKIT_4_0_METHOD"===e.name})||{stringValue:"POST"}).stringValue,pingUrl:(e.find(function(e){return"BOTKIT_4_0_PING_URL"===e.name})||{stringValue:""}).stringValue,headersTemplate:Ns((e.find(function(e){return"BOTKIT_4_0_HEADERS_TEMPLATE"===e.name})||{jsonValue:""}).jsonValue),bodyTemplate:Ns((e.find(function(e){return"BOTKIT_4_0_BODY_TEMPLATE"===e.name})||{jsonValue:'{"text": "{{msg.messageText}}", "user": "{{botium.conversationId}}", "type": "message"}'}).jsonValue),contextJsonPath:(e.find(function(e){return"BOTKIT_4_0_CONTEXT_JSONPATH"===e.name})||"").stringValue,responseJsonPath:(e.find(function(e){return"BOTKIT_4_0_RESPONSE_JSONPATH"===e.name})||{stringValue:"$.*.text"}).stringValue,buttonJsonPath:(e.find(function(e){return"BOTKIT_4_0_BUTTONS_JSONPATH"===e.name})||"").stringValue,mediaJsonPath:(e.find(function(e){return"BOTKIT_4_0_MEDIA_JSONPATH"===e.name})||"").stringValue,requestHook:(e.find(function(e){return"BOTKIT_4_0_REQUEST_HOOK"===e.name})||"").stringValue,responseHook:(e.find(function(e){return"BOTKIT_4_0_RESPONSE_HOOK"===e.name})||"").stringValue}}}(t||[])),n(function(e){return{botkitWebsocket:{serverUrl:(e.find(function(e){return"BOTKIT_SERVER_URL"===e.name})||{stringValue:""}).stringValue}}}(t||[])),n(function(e){return{botpress:{serverUrl:(e.find(function(e){return"BOTPRESS_SERVER_URL"===e.name})||{stringValue:""}).stringValue,botId:(e.find(function(e){return"BOTPRESS_BOTID"===e.name})||{stringValue:""}).stringValue}}}(t||[])),n(function(e){return{facebook:{verifyToken:(e.find(function(e){return"FBPAGERECEIVER_VERIFYTOKEN"===e.name})||{stringValue:""}).stringValue,accessToken:(e.find(function(e){return"FBPAGERECEIVER_ACCESSTOKEN"===e.name})||{stringValue:""}).stringValue,endpoint:(e.find(function(e){return"FBPAGERECEIVER_ENDPOINT"===e.name})||{stringValue:"webhook"}).stringValue,appSecret:(e.find(function(e){return"FBPAGERECEIVER_APPSECRET"===e.name})||{stringValue:""}).stringValue,pageId:(e.find(function(e){return"FBPAGERECEIVER_PAGEID"===e.name})||{stringValue:""}).stringValue,testUser:(e.find(function(e){return"FBPAGERECEIVER_TESTUSER"===e.name})||{stringValue:""}).stringValue,testPassword:(e.find(function(e){return"FBPAGERECEIVER_TESTPASSWORD"===e.name})||{stringValue:""}).stringValue,testUserFullName:(e.find(function(e){return"FBPAGERECEIVER_TESTUSER_FULLNAME"===e.name})||{stringValue:""}).stringValue}}}(t||[])),n(function(e){return{alexaAvs:{avsProductId:Lc(e,"ALEXA_AVS_AVS_PRODUCT_ID"),avsClientId:Lc(e,"ALEXA_AVS_AVS_CLIENT_ID"),avsClientSecret:Lc(e,"ALEXA_AVS_AVS_CLIENT_SECRET"),avsLanguageCode:Lc(e,"ALEXA_AVS_AVS_LANGUAGE_CODE","en-US"),avsRefreshToken:Lc(e,"ALEXA_AVS_AVS_REFRESH_TOKEN"),tts:Lc(e,"ALEXA_AVS_TTS","GOOGLE_CLOUD_TEXT_TO_SPEECH"),ttsGoogleCloudTextToSpeechPrivateKey:Lc(e,"ALEXA_AVS_TTS_GOOGLE_CLOUD_TEXT_TO_SPEECH_PRIVATE_KEY"),ttsGoogleCloudTextToSpeechClientEmail:Lc(e,"ALEXA_AVS_TTS_GOOGLE_CLOUD_TEXT_TO_SPEECH_CLIENT_EMAIL"),ttsAmazonPollyRegion:Lc(e,"ALEXA_AVS_TTS_AMAZON_POLLY_REGION"),ttsAmazonPollyAccessKeyId:Lc(e,"ALEXA_AVS_TTS_AMAZON_POLLY_ACCESS_KEY_ID"),ttsAmazonPollySecretAccessKey:Lc(e,"ALEXA_AVS_TTS_AMAZON_POLLY_SECRET_ACCESS_KEY"),stt:Lc(e,"ALEXA_AVS_STT","GOOGLE_CLOUD_SPEECH"),sttGoogleCloudSpeechPrivateKey:Lc(e,"ALEXA_AVS_STT_GOOGLE_CLOUD_SPEECH_PRIVATE_KEY"),sttGoogleCloudSpeechClientEmail:Lc(e,"ALEXA_AVS_STT_GOOGLE_CLOUD_SPEECH_CLIENT_EMAIL"),sttTranscribeRegion:Lc(e,"ALEXA_AVS_STT_AMAZON_TRANSCRIBE_REGION"),sttTranscribeAccessKeyId:Lc(e,"ALEXA_AVS_STT_AMAZON_TRANSCRIBE_ACCESS_KEY_ID"),sttTranscribeSecretAccessKey:Lc(e,"ALEXA_AVS_STT_AMAZON_TRANSCRIBE_SECRET_ACCESS_KEY"),sttTranscribeBucketName:Lc(e,"ALEXA_AVS_STT_AMAZON_TRANSCRIBE_BUCKET_NAME")}}}(t||[])),n(function(e){return{koreai:{webhookUrl:(e.find(function(e){return"KOREAI_WEBHOOK_URL"===e.name})||{stringValue:""}).stringValue,clientId:(e.find(function(e){return"KOREAI_WEBHOOK_CLIENTID"===e.name})||{stringValue:""}).stringValue,clientSecret:(e.find(function(e){return"KOREAI_WEBHOOK_CLIENTSECRET"===e.name})||{stringValue:""}).stringValue}}}(t||[])),n(function(e){return{lex:{accessKeyId:(e.find(function(e){return"LEX_ACCESS_KEY_ID"===e.name})||{stringValue:""}).stringValue,secretAccessKey:(e.find(function(e){return"LEX_SECRET_ACCESS_KEY"===e.name})||{stringValue:""}).stringValue,region:(e.find(function(e){return"LEX_REGION"===e.name})||{stringValue:""}).stringValue,projectName:(e.find(function(e){return"LEX_PROJECT_NAME"===e.name})||{stringValue:""}).stringValue,projectAlias:(e.find(function(e){return"LEX_PROJECT_ALIAS"===e.name})||{stringValue:""}).stringValue}}}(t||[])),n(function(e){return{luis:{appId:(e.find(function(e){return"LUIS_APP_ID"===e.name})||{stringValue:""}).stringValue,endpointKey:(e.find(function(e){return"LUIS_ENDPOINT_KEY"===e.name})||{stringValue:""}).stringValue}}}(t||[])),n(function(e){return{alexasmapi:{api:(e.find(function(e){return"ALEXA_SMAPI_API"===e.name})||{stringValue:""}).stringValue,skillId:(e.find(function(e){return"ALEXA_SMAPI_SKILLID"===e.name})||{stringValue:""}).stringValue,locale:(e.find(function(e){return"ALEXA_SMAPI_LOCALE"===e.name})||{stringValue:""}).stringValue,refreshToken:(e.find(function(e){return"ALEXA_SMAPI_REFRESHTOKEN"===e.name})||{stringValue:""}).stringValue,endpointRegion:(e.find(function(e){return"ALEXA_SMAPI_ENDPOINTREGION"===e.name})||{stringValue:""}).stringValue}}}(t||[])),n(function(e){return{wechat:{webhookUrl:(e.find(function(e){return"WECHAT_WEBHOOK_URL"===e.name})||{stringValue:""}).stringValue,token:(e.find(function(e){return"WECHAT_TOKEN"===e.name})||{stringValue:""}).stringValue}}}(t||[])),n(function(e){return{rasaConnector:{initContext:Ns((e.find(function(e){return"RASA_REST_INPUT_INIT_CONTEXT"===e.name})||{jsonValue:""}).jsonValue),initText:(e.find(function(e){return"RASA_REST_INPUT_INIT_TEXT"===e.name})||{stringValue:""}).stringValue,url:(e.find(function(e){return"RASA_REST_INPUT_URL"===e.name})||{stringValue:"http://localhost:5005/webhooks/rest/webhook"}).stringValue,method:(e.find(function(e){return"RASA_REST_INPUT_METHOD"===e.name})||{stringValue:"POST"}).stringValue,pingUrl:(e.find(function(e){return"RASA_REST_INPUT_PING_URL"===e.name})||{stringValue:"http://localhost:5005/version"}).stringValue,headersTemplate:Ns((e.find(function(e){return"RASA_REST_INPUT_HEADERS_TEMPLATE"===e.name})||{jsonValue:""}).jsonValue),bodyTemplate:Ns((e.find(function(e){return"RASA_REST_INPUT_BODY_TEMPLATE"===e.name})||{jsonValue:'{ "message": "{{msg.messageText}}", "sender": "{{botium.conversationId}}" }'}).jsonValue),contextJsonPath:(e.find(function(e){return"RASA_REST_INPUT_CONTEXT_JSONPATH"===e.name})||"").stringValue,responseJsonPath:(e.find(function(e){return"RASA_REST_INPUT_RESPONSE_JSONPATH"===e.name})||{stringValue:"$.*.text"}).stringValue,mediaJsonPath:(e.find(function(e){return"RASA_REST_INPUT_MEDIA_JSONPATH"===e.name})||{stringValue:"$.*.image"}).stringValue,buttonJsonPath:(e.find(function(e){return"RASA_REST_INPUT_BUTTONS_JSONPATH"===e.name})||{stringValue:"$.*.buttons.*.payload"}).stringValue,requestHook:(e.find(function(e){return"RASA_REST_INPUT_REQUEST_HOOK"===e.name})||"").stringValue,responseHook:(e.find(function(e){return"RASA_REST_INPUT_RESPONSE_HOOK"===e.name})||"").stringValue}}}(t||[])),n(function(e){return{sapcai:{token:(e.find(function(e){return"SAPCAI_TOKEN"===e.name})||{stringValue:""}).stringValue,language:(e.find(function(e){return"SAPCAI_LANGUAGE"===e.name})||{stringValue:""}).stringValue}}}(t||[]))}function uu(e,t,a){var n=function(e,t){t||a.filter(function(t){return!e.find(function(e){return t.name===e.name})}).map(function(e){return e.name}).forEach(function(e){a.splice(a.findIndex(function(t){return t.name===e}),1)});e.forEach(function(e){var t=a.find(function(t){return t.name===e.name});t?Object.assign(t,e):a.push(e)})};"other"!==e&&n([{name:"CONTAINERMODE",type:"STRING",stringValue:e}],!0),"echo"===e?n([{name:"CONTAINERMODE",type:"STRING",stringValue:"echo"}]):"watson"===e?n(function(e){return[{name:"CONTAINERMODE",type:"STRING",stringValue:"watson"},{name:"WATSON_ASSISTANT_VERSION",type:"STRING",stringValue:e.watson.sdk},{name:"WATSON_URL",type:"STRING",stringValue:e.watson.url},{name:"WATSON_VERSION_DATE",type:"STRING",stringValue:e.watson.versionDate},{name:"WATSON_APIKEY",type:"STRING",stringValue:e.watson.apikey||null},{name:"WATSON_USER",type:"STRING",stringValue:e.watson.user||null},{name:"WATSON_PASSWORD",type:"STRING",stringValue:e.watson.pwd||null},{name:"WATSON_ASSISTANT_ID",type:"STRING",stringValue:e.watson.assistantId},{name:"WATSON_WORKSPACE_ID",type:"STRING",stringValue:e.watson.workspaceId},{name:"WATSON_COPY_WORKSPACE",type:"BOOLEAN",booleanValue:e.watson.copyWorkspace}]}(t)):"webdriverio"===e?n(function(e){return[{name:"CONTAINERMODE",type:"STRING",stringValue:"webdriverio"},{name:"WEBDRIVERIO_URL",type:"STRING",stringValue:e.webdriver.url},{name:"WEBDRIVERIO_PROFILE",type:"STRING",stringValue:"other"===e.webdriver.profile?"":e.webdriver.profile},{name:"WEBDRIVERIO_INPUT_ELEMENT",type:"STRING",stringValue:e.webdriver.inputElement},{name:"WEBDRIVERIO_INPUT_ELEMENT_VISIBLE_TIMEOUT",type:"INT",intValue:e.webdriver.inputElementVisibleTimeout},{name:"WEBDRIVERIO_OUTPUT_ELEMENT",type:"STRING",stringValue:e.webdriver.outputElement},{name:"WEBDRIVERIO_IGNOREUPFRONTMESSAGES",type:"BOOLEAN",booleanValue:e.webdriver.ignoreUpfrontMessages},{name:"WEBDRIVERIO_USERNAME",type:"STRING",stringValue:e.webdriver.user},{name:"WEBDRIVERIO_PASSWORD",type:"STRING",stringValue:e.webdriver.pwd},{name:"WEBDRIVERIO_SCREENSHOTS",type:"STRING",stringValue:e.webdriver.screenshots}]}(t)):"dialogflow"===e?n(function(e){return[{name:"DIALOGFLOW_PROJECT_ID",type:"STRING",stringValue:e.dialogFlow.projectId||""},{name:"DIALOGFLOW_CLIENT_EMAIL",type:"STRING",stringValue:e.dialogFlow.clientEmail||""},{name:"DIALOGFLOW_PRIVATE_KEY",type:"STRING",stringValue:e.dialogFlow.privateKey||""},{name:"CONTAINERMODE",type:"STRING",stringValue:"dialogflow"},{name:"DIALOGFLOW_LANGUAGE_CODE",type:"STRING",stringValue:e.dialogFlow.languageCode||""},{name:"DIALOGFLOW_OUTPUT_PLATFORM",type:"STRING",stringValue:e.dialogFlow.outputPlatform||""}]}(t)):"simplerest"===e?n(function(e){var t=[{name:"SIMPLEREST_URL",type:"STRING",stringValue:e.simpleRestConnector.url},{name:"SIMPLEREST_METHOD",type:"STRING",stringValue:e.simpleRestConnector.method||"POST"},{name:"SIMPLEREST_RESPONSE_JSONPATH",type:"STRING",stringValue:e.simpleRestConnector.responseJsonPath},{name:"CONTAINERMODE",type:"STRING",stringValue:"simplerest"}];return e.simpleRestConnector.pingUrl&&t.push({name:"SIMPLEREST_PING_URL",type:"STRING",stringValue:e.simpleRestConnector.pingUrl}),e.simpleRestConnector.initContext&&t.push({name:"SIMPLEREST_INIT_CONTEXT",type:"JSON",jsonValue:e.simpleRestConnector.initContext}),e.simpleRestConnector.initText&&t.push({name:"SIMPLEREST_INIT_TEXT",type:"STRING",stringValue:e.simpleRestConnector.initText}),e.simpleRestConnector.mediaJsonPath&&t.push({name:"SIMPLEREST_MEDIA_JSONPATH",type:"STRING",stringValue:e.simpleRestConnector.mediaJsonPath}),e.simpleRestConnector.buttonJsonPath&&t.push({name:"SIMPLEREST_BUTTONS_JSONPATH",type:"STRING",stringValue:e.simpleRestConnector.buttonJsonPath}),e.simpleRestConnector.contextJsonPath&&t.push({name:"SIMPLEREST_CONTEXT_JSONPATH",type:"STRING",stringValue:e.simpleRestConnector.contextJsonPath}),e.simpleRestConnector.headersTemplate&&t.push({name:"SIMPLEREST_HEADERS_TEMPLATE",type:"JSON",jsonValue:e.simpleRestConnector.headersTemplate}),e.simpleRestConnector.bodyTemplate&&t.push({name:"SIMPLEREST_BODY_TEMPLATE",type:"JSON",jsonValue:e.simpleRestConnector.bodyTemplate}),e.simpleRestConnector.requestHook&&t.push({name:"SIMPLEREST_REQUEST_HOOK",type:"STRING",stringValue:e.simpleRestConnector.requestHook}),e.simpleRestConnector.responseHook&&t.push({name:"SIMPLEREST_RESPONSE_HOOK",type:"STRING",stringValue:e.simpleRestConnector.responseHook}),t}(t)):"directline3"===e?n(function(e){return[{name:"DIRECTLINE3_SECRET",type:"STRING",stringValue:e.directLine.secret||""},{name:"DIRECTLINE3_WEBSOCKET",type:"BOOLEAN",booleanValue:e.directLine.webSocket||!1},{name:"DIRECTLINE3_POLLINGINTERVAL",type:"INT",intValue:e.directLine.pollingInterval||1e3},{name:"DIRECTLINE3_GENERATE_USERNAME",type:"BOOLEAN",booleanValue:e.directLine.generateUsername||!1},{name:"DIRECTLINE3_BUTTON_TYPE",type:"STRING",stringValue:e.directLine.buttonType||""},{name:"DIRECTLINE3_BUTTON_VALUE_FIELD",type:"STRING",stringValue:e.directLine.buttonValueField||""},{name:"CONTAINERMODE",type:"STRING",stringValue:"directline3"}]}(t)):"docker"===e?n(function(e){return[{name:"CONTAINERMODE",type:"STRING",stringValue:"docker"},{name:"STARTCMD",type:"STRING",stringValue:e.docker.startcmd},{name:"DOCKERIMAGE",type:"STRING",stringValue:e.docker.dockerimage},{name:"BOT_HEALTH_CHECK_PATH",type:"STRING",stringValue:e.docker.healthcheckpath},{name:"BOT_HEALTH_CHECK_VERB",type:"STRING",stringValue:e.docker.healthcheckverb},{name:"BOT_HEALTH_STATUS",type:"INT",intValue:e.docker.healthstatus},{name:"FACEBOOK_API",type:"BOOLEAN",booleanValue:e.docker.facebookapi},e.docker.facebookapi&&{name:"FACEBOOK_WEBHOOK_PATH",type:"STRING",stringValue:e.docker.facebookwebhookpath},e.docker.facebookapi&&{name:"FACEBOOK_WEBHOOK_PORT",type:"INT",intValue:e.docker.facebookwebhookport},{name:"SLACK_API",type:"BOOLEAN",booleanValue:e.docker.slackapi},e.docker.slackapi&&{name:"SLACK_EVENT_PATH",type:"STRING",stringValue:e.docker.slackeventpath},e.docker.slackapi&&{name:"SLACK_EVENT_PORT",type:"INT",intValue:e.docker.slackeventport},e.docker.slackapi&&{name:"SLACK_OAUTH_PATH",type:"STRING",stringValue:e.docker.slackoauthpath},e.docker.slackapi&&{name:"SLACK_OAUTH_PORT",type:"INT",intValue:e.docker.slackoauthport},{name:"BOTFRAMEWORK_API",type:"BOOLEAN",booleanValue:e.docker.botframeworkapi},e.docker.botframeworkapi&&{name:"BOTFRAMEWORK_WEBHOOK_PATH",type:"STRING",stringValue:e.docker.botframeworkwebhookpath},e.docker.botframeworkapi&&{name:"BOTFRAMEWORK_WEBHOOK_PORT",type:"INT",intValue:e.docker.botframeworkwebhookport},e.docker.botframeworkapi&&{name:"BOTFRAMEWORK_APP_ID",type:"STRING",stringValue:e.docker.botframeworkappid},e.docker.botframeworkapi&&{name:"BOTIUM_BOTFRAMEWORK_CHANNEL_ID",type:"STRING",stringValue:e.docker.botframeworkchannelid}].filter(function(e){return e})}(t)):"botkit"===e?n(function(e){var t=[{name:"BOTKIT_VERSION",type:"STRING",stringValue:e.botkit.version},{name:"CONTAINERMODE",type:"STRING",stringValue:"botkit"},{name:"BOTKIT_SERVER_URL",type:"STRING",stringValue:e.botkit.serverUrl||""},{name:"BOTKIT_4_0_URL",type:"STRING",stringValue:e.botkit.url},{name:"BOTKIT_4_0_METHOD",type:"STRING",stringValue:e.botkit.method||"POST"},{name:"BOTKIT_4_0_RESPONSE_JSONPATH",type:"STRING",stringValue:e.botkit.responseJsonPath}];return e.botkit.pingUrl&&t.push({name:"BOTKIT_4_0_PING_URL",type:"STRING",stringValue:e.botkit.pingUrl}),e.botkit.initContext&&t.push({name:"BOTKIT_4_0_INIT_CONTEXT",type:"JSON",jsonValue:e.botkit.initContext}),e.botkit.initText&&t.push({name:"BOTKIT_4_0_INIT_TEXT",type:"STRING",stringValue:e.botkit.initText}),e.botkit.mediaJsonPath&&t.push({name:"BOTKIT_4_0_MEDIA_JSONPATH",type:"STRING",stringValue:e.botkit.mediaJsonPath}),e.botkit.buttonJsonPath&&t.push({name:"BOTKIT_4_0_BUTTONS_JSONPATH",type:"STRING",stringValue:e.botkit.buttonJsonPath}),e.botkit.contextJsonPath&&t.push({name:"BOTKIT_4_0_CONTEXT_JSONPATH",type:"STRING",stringValue:e.botkit.contextJsonPath}),e.botkit.headersTemplate&&t.push({name:"BOTKIT_4_0_HEADERS_TEMPLATE",type:"JSON",jsonValue:e.botkit.headersTemplate}),e.botkit.bodyTemplate&&t.push({name:"BOTKIT_4_0_BODY_TEMPLATE",type:"JSON",jsonValue:e.botkit.bodyTemplate}),e.botkit.requestHook&&t.push({name:"BOTKIT_4_0_REQUEST_HOOK",type:"STRING",stringValue:e.botkit.requestHook}),e.botkit.responseHook&&t.push({name:"BOTKIT_4_0_RESPONSE_HOOK",type:"STRING",stringValue:e.botkit.responseHook}),t}(t)):"botkit-websocket"===e?n(function(e){return[{name:"BOTKIT_SERVER_URL",type:"STRING",stringValue:e.botkitWebsocket.serverUrl||""}]}(t)):"botpress"===e?n(function(e){return[{name:"BOTPRESS_SERVER_URL",type:"STRING",stringValue:e.botpress.serverUrl||""},{name:"BOTPRESS_BOTID",type:"STRING",stringValue:e.botpress.botId||""},{name:"CONTAINERMODE",type:"STRING",stringValue:"botpress"}]}(t)):"fbpagereceiver"===e?n(function(e){return[{name:"FBPAGERECEIVER_VERIFYTOKEN",type:"STRING",stringValue:e.facebook.verifyToken||""},{name:"FBPAGERECEIVER_ACCESSTOKEN",type:"STRING",stringValue:e.facebook.accessToken||""},{name:"FBPAGERECEIVER_ENDPOINT",type:"STRING",stringValue:e.facebook.endpoint||""},{name:"FBPAGERECEIVER_APPSECRET",type:"STRING",stringValue:e.facebook.appSecret||""},{name:"FBPAGERECEIVER_PAGEID",type:"STRING",stringValue:e.facebook.pageId},{name:"FBPAGERECEIVER_TESTUSER",type:"STRING",stringValue:e.facebook.testUser||""},{name:"FBPAGERECEIVER_TESTPASSWORD",type:"STRING",stringValue:e.facebook.testPassword||""},{name:"FBPAGERECEIVER_TESTUSER_FULLNAME",type:"STRING",stringValue:e.facebook.testUserFullName||""},{name:"FBPAGERECEIVER_ASKFORLOGINAPPROVAL",type:"BOOLEAN",booleanValue:!1},{name:"CONTAINERMODE",type:"STRING",stringValue:"fbpagereceiver"}]}(t)):"alexa-avs"===e?n(function(e){var t=[{name:"CONTAINERMODE",type:"STRING",stringValue:"alexa-avs"}];return Vc(t,"ALEXA_AVS_AVS_LANGUAGE_CODE",e,"avsLanguageCode"),Vc(t,"ALEXA_AVS_TTS_GOOGLE_CLOUD_TEXT_TO_SPEECH_LANGUAGE_CODE",e,"avsLanguageCode"),Vc(t,"ALEXA_AVS_STT_GOOGLE_CLOUD_SPEECH_LANGUAGE_CODE",e,"avsLanguageCode"),Vc(t,"ALEXA_AVS_STT_AMAZON_TRANSCRIBE_LANGUAGE_CODE",e,"avsLanguageCode"),Vc(t,"ALEXA_AVS_TTS_AMAZON_POLLY_LANGUAGE_CODE",e,"avsLanguageCode"),Vc(t,"ALEXA_AVS_AVS_PRODUCT_ID",e,"avsProductId"),Vc(t,"ALEXA_AVS_AVS_CLIENT_ID",e,"avsClientId"),Vc(t,"ALEXA_AVS_AVS_CLIENT_SECRET",e,"avsClientSecret"),Vc(t,"ALEXA_AVS_AVS_REFRESH_TOKEN",e,"avsRefreshToken"),Vc(t,"ALEXA_AVS_TTS",e,"tts"),Vc(t,"ALEXA_AVS_TTS_GOOGLE_CLOUD_TEXT_TO_SPEECH_PRIVATE_KEY",e,"ttsGoogleCloudTextToSpeechPrivateKey"),Vc(t,"ALEXA_AVS_TTS_GOOGLE_CLOUD_TEXT_TO_SPEECH_CLIENT_EMAIL",e,"ttsGoogleCloudTextToSpeechClientEmail"),Vc(t,"ALEXA_AVS_TTS_AMAZON_POLLY_REGION",e,"ttsAmazonPollyRegion"),Vc(t,"ALEXA_AVS_TTS_AMAZON_POLLY_ACCESS_KEY_ID",e,"ttsAmazonPollyAccessKeyId"),Vc(t,"ALEXA_AVS_TTS_AMAZON_POLLY_SECRET_ACCESS_KEY",e,"ttsAmazonPollySecretAccessKey"),Vc(t,"ALEXA_AVS_STT",e,"stt"),Vc(t,"ALEXA_AVS_STT_GOOGLE_CLOUD_SPEECH_PRIVATE_KEY",e,"sttGoogleCloudSpeechPrivateKey"),Vc(t,"ALEXA_AVS_STT_GOOGLE_CLOUD_SPEECH_CLIENT_EMAIL",e,"sttGoogleCloudSpeechClientEmail"),Vc(t,"ALEXA_AVS_STT_AMAZON_TRANSCRIBE_REGION",e,"sttTranscribeRegion"),Vc(t,"ALEXA_AVS_STT_AMAZON_TRANSCRIBE_ACCESS_KEY_ID",e,"sttTranscribeAccessKeyId"),Vc(t,"ALEXA_AVS_STT_AMAZON_TRANSCRIBE_SECRET_ACCESS_KEY",e,"sttTranscribeSecretAccessKey"),Vc(t,"ALEXA_AVS_STT_AMAZON_TRANSCRIBE_BUCKET_NAME",e,"sttTranscribeBucketName"),t}(t)):"koreai-webhook"===e?n(function(e){return[{name:"KOREAI_WEBHOOK_URL",type:"STRING",stringValue:e.koreai.webhookUrl||""},{name:"KOREAI_WEBHOOK_CLIENTID",type:"STRING",stringValue:e.koreai.clientId||""},{name:"KOREAI_WEBHOOK_CLIENTSECRET",type:"STRING",stringValue:e.koreai.clientSecret||""},{name:"CONTAINERMODE",type:"STRING",stringValue:"koreai-webhook"}]}(t)):"lex"===e?n(function(e){return[{name:"LEX_ACCESS_KEY_ID",type:"STRING",stringValue:e.lex.accessKeyId||""},{name:"LEX_SECRET_ACCESS_KEY",type:"STRING",stringValue:e.lex.secretAccessKey||""},{name:"LEX_REGION",type:"STRING",stringValue:e.lex.region||""},{name:"LEX_PROJECT_NAME",type:"STRING",stringValue:e.lex.projectName||""},{name:"LEX_PROJECT_ALIAS",type:"STRING",stringValue:e.lex.projectAlias||""},{name:"CONTAINERMODE",type:"STRING",stringValue:"lex"}]}(t)):"luis"===e?n(function(e){return[{name:"LUIS_APP_ID",type:"STRING",stringValue:e.luis.appId||""},{name:"LUIS_ENDPOINT_KEY",type:"STRING",stringValue:e.luis.endpointKey||""},{name:"CONTAINERMODE",type:"STRING",stringValue:"luis"}]}(t)):"alexa-smapi"===e?n(function(e){return[{name:"ALEXA_SMAPI_API",type:"STRING",stringValue:e.alexasmapi.api||""},{name:"ALEXA_SMAPI_SKILLID",type:"STRING",stringValue:e.alexasmapi.skillId||""},{name:"ALEXA_SMAPI_LOCALE",type:"STRING",stringValue:e.alexasmapi.locale||""},{name:"ALEXA_SMAPI_REFRESHTOKEN",type:"STRING",stringValue:e.alexasmapi.refreshToken||""},{name:"ALEXA_SMAPI_ENDPOINTREGION",type:"STRING",stringValue:e.alexasmapi.endpointRegion||""},{name:"CONTAINERMODE",type:"STRING",stringValue:"alexa-smapi"}]}(t)):"wechat"===e?n(function(e){return[{name:"WECHAT_WEBHOOK_URL",type:"STRING",stringValue:e.wechat.webhookUrl||""},{name:"WECHAT_TOKEN",type:"STRING",stringValue:e.wechat.token||""},{name:"CONTAINERMODE",type:"STRING",stringValue:"wechat"}]}(t)):"rasa"===e?n(function(e){var t=[{name:"RASA_REST_INPUT_URL",type:"STRING",stringValue:e.rasaConnector.url},{name:"RASA_REST_INPUT_METHOD",type:"STRING",stringValue:e.rasaConnector.method||"POST"},{name:"RASA_REST_INPUT_RESPONSE_JSONPATH",type:"STRING",stringValue:e.rasaConnector.responseJsonPath},{name:"CONTAINERMODE",type:"STRING",stringValue:"rasa"}];return e.rasaConnector.pingUrl&&t.push({name:"RASA_REST_INPUT_PING_URL",type:"STRING",stringValue:e.rasaConnector.pingUrl}),e.rasaConnector.initContext&&t.push({name:"RASA_REST_INPUT_INIT_CONTEXT",type:"JSON",jsonValue:e.rasaConnector.initContext}),e.rasaConnector.initText&&t.push({name:"RASA_REST_INPUT_INIT_TEXT",type:"STRING",stringValue:e.rasaConnector.initText}),e.rasaConnector.mediaJsonPath&&t.push({name:"RASA_REST_INPUT_MEDIA_JSONPATH",type:"STRING",stringValue:e.rasaConnector.mediaJsonPath}),e.rasaConnector.buttonJsonPath&&t.push({name:"RASA_REST_INPUT_BUTTONS_JSONPATH",type:"STRING",stringValue:e.rasaConnector.buttonJsonPath}),e.rasaConnector.contextJsonPath&&t.push({name:"RASA_REST_INPUT_CONTEXT_JSONPATH",type:"STRING",stringValue:e.rasaConnector.contextJsonPath}),e.rasaConnector.headersTemplate&&t.push({name:"RASA_REST_INPUT_HEADERS_TEMPLATE",type:"JSON",jsonValue:e.rasaConnector.headersTemplate}),e.rasaConnector.bodyTemplate&&t.push({name:"RASA_REST_INPUT_BODY_TEMPLATE",type:"JSON",jsonValue:e.rasaConnector.bodyTemplate}),e.rasaConnector.requestHook&&t.push({name:"RASA_REST_INPUT_REQUEST_HOOK",type:"STRING",stringValue:e.rasaConnector.requestHook}),e.rasaConnector.responseHook&&t.push({name:"RASA_REST_INPUT_RESPONSE_HOOK",type:"STRING",stringValue:e.rasaConnector.responseHook}),t}(t)):"sapcai"===e&&n(function(e){var t=[{name:"SAPCAI_TOKEN",type:"STRING",stringValue:e.sapcai.token},{name:"CONTAINERMODE",type:"STRING",stringValue:"sapcai"}];return e.sapcai.language&&t.push({name:"SAPCAI_LANGUAGE",type:"STRING",stringValue:e.sapcai.language}),t}(t))}function mu(e){var t=Object(se.a)({},e),a=t.connectorField,n=t.advanced,r=Object(K.a)(t,["connectorField","advanced"]);return i.a.createElement(h.d,{query:iu},function(e){var t=e.loading,s=e.error,o=e.data;return t?i.a.createElement("p",null,"Loading..."):s?i.a.createElement(Dn,{err:s}):i.a.createElement(Bn.a,Object.assign({name:a||"connector",component:_s,label:"Connector/Chatbot Technology"},r),o.availableconnectors&&o.availableconnectors.map(function(e){return i.a.createElement(Ge.a,{key:e.name,value:e.name},e.description)}),n&&i.a.createElement(Ge.a,{key:"other",value:"other"},"Other (Advanced Settings)"))})}function du(e){var t=Object(se.a)({},e),a=t.connectorField,n=t.advanced,r=t.push,s=t.pop,o=t.capabilitiesField,l=t.disabled,c=t.change,u=t.values;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Js,{when:a||"connector",is:"echo"},i.a.createElement(Jo,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"watson"},i.a.createElement(Zl,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"webdriverio"},i.a.createElement(ec,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"dialogflow"},i.a.createElement(cc,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"simplerest"},i.a.createElement(mc,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"directline3"},i.a.createElement(dc,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"docker"},i.a.createElement(pc,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"botkit"},i.a.createElement(Tc,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"botkit-websocket"},i.a.createElement(yc,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"botpress"},i.a.createElement(xc,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"fbpagereceiver"},i.a.createElement(Oc,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"alexa-avs"},i.a.createElement(Bc,{advanced:n,disabled:l,change:c,values:u})),i.a.createElement(Js,{when:a||"connector",is:"koreai-webhook"},i.a.createElement(Uc,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"lex"},i.a.createElement(Hc,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"luis"},i.a.createElement(Gc,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"alexa-smapi"},i.a.createElement(eu,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"wechat"},i.a.createElement(tu,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"rasa"},i.a.createElement(nu,{advanced:n,disabled:l})),i.a.createElement(Js,{when:a||"connector",is:"sapcai"},i.a.createElement(ru,{advanced:n,disabled:l})),n&&i.a.createElement(Js,{when:a||"connector",is:"other"},i.a.createElement(Ko,{push:r,pop:s,field:o||"capabilities",disabled:l})))}function pu(e){var t=Object(se.a)({},e),a=t.push,n=t.pop,r=t.sourcesField,s=t.disabled;return i.a.createElement(i.a.Fragment,null,'Chatbot sources are only required for certain connectors, for example "docker"',i.a.createElement(Ko,{push:a,pop:n,field:r||"sources",disabled:s}))}function Eu(e){var t=Object(se.a)({},e),a=t.push,n=t.pop,r=t.envsField,s=t.disabled;return i.a.createElement(i.a.Fragment,null,'Setting environment variables only possible for certain connectors, for example "docker"',i.a.createElement(Ko,{push:a,pop:n,field:r||"envs",disabled:s}))}var bu=Object(Ee.a)({},ai,ka,{summary:Object(Ee.a)({},fe,{lineHeight:"30px",fontSize:"22px",fontWeight:"bold"})});function hu(){var e=Object(oa.a)(["\n  query ChatbotTestProjectsQuery($chatbotId: ID!, $skip: Int, $first: Int) {\n    testsessions(where: { chatbot: { id: $chatbotId } }, skip: $skip, first: $first) {\n      ...FullTestSession\n    }\n  }\n  ","\n"]);return hu=function(){return e},e}function gu(){var e=Object(oa.a)(["\n  query ChatbotTestProjectsQuery($chatbotId: ID!, $skip: Int, $first: Int) {\n    testprojects(where: { chatbot: { id: $chatbotId } }, skip: $skip, first: $first) {\n      id\n      name\n      tags\n      chatbot {\n        id\n        name\n      }\n      testSets {\n        id\n        name\n      }\n      deviceSets {\n        id\n        name\n      }\n    }\n  }\n"]);return gu=function(){return e},e}function fu(){var e=Object(oa.a)(["\n  mutation DeleteChatbot($id: ID!) {\n    deleteChatbot(id: $id)\n  }\n"]);return fu=function(){return e},e}function Su(){var e=Object(oa.a)(["\n  mutation UpdateChatbot($id: ID!, $chatbot: ChatbotUpdateInput!) {\n    updateChatbot(id: $id, chatbot: $chatbot) {\n      ...FullChatbot\n    }\n  }\n  ","\n"]);return Su=function(){return e},e}function vu(){var e=Object(oa.a)(["\n  mutation CreateChatbot($chatbot: ChatbotCreateInput!) {\n    createChatbot(chatbot: $chatbot) {\n      ...FullChatbot\n    }\n  }\n  ","\n"]);return vu=function(){return e},e}function Tu(){var e=Object(oa.a)(["\n  query ChatbotQuery($id: ID!) {\n    chatbot(id: $id) {\n      ...FullChatbot\n    }\n  }\n  ","\n"]);return Tu=function(){return e},e}function yu(){var e=Object(oa.a)(["\n  fragment FullChatbot on Chatbot {\n    id\n    createdAt\n    updatedAt\n    name\n    description\n    tags\n    allowHtmlDisplay\n    retryUserSaysNumRetries\n    retryUserSaysFactor\n    retryUserSaysMinTimeout\n    retryUserSaysOnErrorRegexp\n    capabilities {\n      id\n      createdAt\n      updatedAt\n      name\n      type\n      stringValue\n      intValue\n      booleanValue\n      jsonValue\n    }\n    sources {\n      id\n      createdAt\n      updatedAt\n      name\n      type\n      stringValue\n      intValue\n      booleanValue\n      jsonValue\n    }\n    envs {\n      id\n      createdAt\n      updatedAt\n      name\n      type\n      stringValue\n      intValue\n      booleanValue\n      jsonValue\n    }\n    client { id name }\n  }\n"]);return yu=function(){return e},e}function xu(){var e=Object(oa.a)(["\n  query ChatbotsQuery {\n    chatbots {\n      id\n      name\n      description\n      tags\n      allowHtmlDisplay\n      retryUserSaysNumRetries\n      retryUserSaysFactor\n      retryUserSaysMinTimeout\n      retryUserSaysOnErrorRegexp\n      capabilities {\n        id\n        name\n        type\n        stringValue\n        intValue\n        booleanValue\n        jsonValue\n      }\n    }\n  }\n"]);return xu=function(){return e},e}var Ou=Object(da.a)(xu()),Cu=Object(da.a)(yu()),Au=Object(da.a)(Tu(),Cu),ku=Object(da.a)(vu(),Cu),Iu=Object(da.a)(Su(),Cu),Pu=Object(da.a)(fu()),wu=Object(da.a)(gu()),Ru=Object(da.a)(hu(),Ti);function ju(){var e=Object(oa.a)(["\n  mutation DeleteDeviceSet($id: ID!) {\n    deleteDeviceSet(id: $id)\n  }\n"]);return ju=function(){return e},e}function Nu(){var e=Object(oa.a)(["\n  mutation UpdateDeviceSet($id: ID!, $deviceSet: DeviceSetUpdateInput!) {\n    updateDeviceSet(id: $id, deviceSet: $deviceSet) {\n      ...FullDeviceSet\n    }\n  }\n  ","\n"]);return Nu=function(){return e},e}function _u(){var e=Object(oa.a)(["\n  mutation CreateDeviceSet($deviceSet: DeviceSetCreateInput!) {\n    createDeviceSet(deviceSet: $deviceSet) {\n      ...FullDeviceSet\n    }\n  }\n  ","\n"]);return _u=function(){return e},e}function Du(){var e=Object(oa.a)(["\n  query DeviceSetDropdownQuery($provider: ID!) {\n    availabledevices(provider: $provider) {\n      name\n      value\n    }\n  }\n"]);return Du=function(){return e},e}function Fu(){var e=Object(oa.a)(["\n  query DeviceSetsQuery {\n    devicesets {\n      ...ListDeviceSet\n    }\n  }\n  ","\n"]);return Fu=function(){return e},e}function Lu(){var e=Object(oa.a)(["\n  fragment ListDeviceSet on DeviceSet {\n    id\n    createdAt\n    name\n    description\n    tags\n    provider {\n      id\n      name\n      type\n    }\n    devices {\n      id\n      name\n      type\n    }\n  }\n"]);return Lu=function(){return e},e}function Vu(){var e=Object(oa.a)(["\n  query DeviceSetQuery($id: ID!) {\n    deviceset(id: $id) {\n      ...FullDeviceSet\n    }\n  }\n  ","\n"]);return Vu=function(){return e},e}function Mu(){var e=Object(oa.a)(["\n  fragment FullDeviceSet on DeviceSet {\n    id\n    createdAt\n    name\n    description\n    tags\n    provider {\n      id\n      name\n      type\n    }\n    devices {\n      id\n      name\n      type\n      capabilities\n    }\n  }\n"]);return Mu=function(){return e},e}var Bu=Object(da.a)(Mu()),Uu=Object(da.a)(Vu(),Bu),Wu=Object(da.a)(Lu()),Hu=Object(da.a)(Fu(),Wu),Gu=Object(da.a)(Du()),zu=Object(da.a)(_u(),Bu),$u=Object(da.a)(Nu(),Bu),qu=Object(da.a)(ju());function Ku(){var e=Object(oa.a)(["\n  mutation quickstartTestProject(\n    $testProject: TestProjectCreateInput!\n    $startProject: Boolean!\n  ) {\n    quickstartTestProject(\n      testProject: $testProject\n      startProject: $startProject\n    )\n  }\n"]);return Ku=function(){return e},e}var Ju=Object(da.a)(Ku()),Xu=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={steps:[{label:"Step 1",sublabel:"Connect to Chatbot"},{label:"Step 2",sublabel:"Select Test Sets"},{label:"Step 3",sublabel:"Select Test Environments",disabled:!0}],forwardToSection:""},a.calculators=[Xs("chatbotId","connector",a.lookupChatbot.bind(Object(q.a)(Object(q.a)(a))),"connector")],a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"lookupChatbot",value:function(e){return"new"===e?{connector:"webdriverio"}:this.chatbots?this.chatbots.find(function(t){return t.id===e}):void 0}},{key:"renderChatbotsPage",value:function(e){var t=e.loading,a=e.error,n=e.chatbots;return t?i.a.createElement("p",null,"Loading"):a?i.a.createElement(Dn,{err:a}):(n&&(n.forEach(function(e){return e.connector=(e.capabilities.find(function(e){return"CONTAINERMODE"===e.name})||{}).stringValue}),this.chatbots=n.filter(function(e){return e.connector})),i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:12,sm:6},n&&i.a.createElement(Bn.a,{name:"chatbotId",component:_s,label:"Connect to Chatbot or enter new connection settings"},i.a.createElement(Ge.a,{key:"",value:"new"},"Enter new Chatbot connection settings"),n.map(function(e){return i.a.createElement(Ge.a,{key:e.id,value:e.id},e.name)}))),i.a.createElement(Ca,{xs:12,sm:6}),i.a.createElement(Js,{when:"chatbotId",is:"new"},i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(mu,{validate:Ms})),i.a.createElement(Ca,{xs:12,sm:6}),i.a.createElement(Ca,{xs:12},i.a.createElement(du,null))))))}},{key:"renderTestSetsPage",value:function(e){var t=e.loading,a=e.error,n=e.testsets;return t?i.a.createElement("p",null,"Loading"):a?i.a.createElement(Dn,{err:a}):n?i.a.createElement(Bn.a,{name:"testSets",component:Ds,label:"Select Test Set(s)",suggestions:n,numsuggestions:20,keyFunc:function(e){return e.id},labelFunc:function(e){return e.name},validate:Ms}):i.a.createElement("p",null,"No Test Sets")}},{key:"renderDeviceSetsPage",value:function(e){var t=e.loading,a=e.error,n=e.devicesets;return t?i.a.createElement("p",null,"Loading"):a?i.a.createElement(Dn,{err:a}):n?i.a.createElement(Bn.a,{name:"deviceSets",component:Ds,label:"Select Device Set(s) (optionally)",suggestions:n,numsuggestions:20,keyFunc:function(e){return e.id},labelFunc:function(e){return e.name},validate:Ms}):i.a.createElement("p",null,"No Device Sets")}},{key:"renderWizard",value:function(){var e=this,t=this.props,a=t.setAlertSuccessMessage,n=t.setAlertErrorMessage,r=t.history,s=this.props,o=s.chatbotsData,l=s.testSetsData,c=s.deviceSetsData,u=this.state.steps,m={chatbotId:"new",testSets:[],deviceSets:[],capabilities:[]};return cu(m,[{name:"WEBDRIVERIO_PROFILE",stringValue:"dialogflow_com"}]),m.connector="webdriverio",i.a.createElement(h.c,{mutation:Ju,onCompleted:function(t){a("Test Project created");var n=t.quickstartTestProject;r.push("/"+e.state.forwardToSection+"/view/"+n)},onError:function(e){n("Test Project failed",e)},refetchQueries:[{query:Ji},{query:Ou},{query:Ai}]},function(t){return i.a.createElement(Ca,{xs:12},i.a.createElement(Bo,{steps:u,initialValues:m,formProps:{decorators:e.calculators},onSubmit:function(a){var n=a.testSets.map(function(e){return e.name}),r=No()("Aa0",5),s={variables:{testProject:{name:"Test Project - "+r,code:"",description:"Created with Quick Start Setup",tags:{set:n},testSets:{connect:a.testSets&&a.testSets.map(function(e){return{id:e.id}})},deviceSets:{connect:a.deviceSets&&a.deviceSets.map(function(e){return{id:e.id}})}},startProject:a.startProject}};if("new"===a.chatbotId){uu(a.connector,a,a.capabilities);var i="Chatbot - "+r;s.variables.testProject.chatbot={create:{name:i,tags:{set:n},capabilities:{create:a.capabilities}}}}else s.variables.testProject.chatbot={connect:{id:a.chatbotId}};a.startProject?e.setState({forwardToSection:"testsessions"}):e.setState({forwardToSection:"testprojects"}),t(s)},renderSubmitButtons:function(e){var t=e.handleSubmit,a=e.steps,n=e.submitting,r=e.values;e.pristine,e.page,e.hasValidationErrors;return i.a.createElement(i.a.Fragment,null,i.a.createElement(yt,{size:"lg",disabled:a.filter(function(e){return e.error}).length>0||n,onClick:function(){r.startProject=!1,t()}},"Save"),i.a.createElement(yt,{color:"primary",size:"lg",disabled:a.filter(function(e){return e.error}).length>0||n,onClick:function(){r.startProject=!0,t()}},"Save and Start Testing"))}},i.a.createElement(Bo.Page,null,i.a.createElement(Aa,null,e.renderChatbotsPage(o))),i.a.createElement(Bo.Page,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},e.renderTestSetsPage(l)))),i.a.createElement(Bo.Page,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Js,{when:"connector",is:"webdriverio"},e.renderDeviceSetsPage(c)),i.a.createElement(Js,{when:"connector",isnot:"webdriverio"},"No Device Set required for testing the Chatbot."))))))})}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Quickstart")),i.a.createElement(Ca,{xs:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Quickstart - Easy Setup"),i.a.createElement("p",{className:e.cardCategoryWhite},"Step by Step configuration")),i.a.createElement(yn,null,this.renderWizard()))))}}]),t}(i.a.Component),Qu=Object(h.f)(te()(bu),Object(c.b)(function(e){return e},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t}),Object(h.g)(Ou,{props:function(e){return{chatbotsData:e.data}}}),Object(h.g)(kl,{props:function(e){return{testSetsData:e.data}}}),Object(h.g)(Hu,{props:function(e){return{deviceSetsData:e.data}}}))(Xu),Yu=Object(Ee.a)({},ai,ka);function Zu(){var e=Object(oa.a)(["\n  query AgentsQuery($searchTerm: String!) {\n    agents(\n      where: {\n        OR: [\n          { name_contains: $searchTerm }\n          { description_contains: $searchTerm }\n        ]\n      }\n      orderBy: updatedAt_DESC\n      first: 5\n    ) {\n      id\n      name\n      description\n      heartbeat\n      tags\n    }\n  }\n"]);return Zu=function(){return e},e}function em(){var e=Object(oa.a)(["\n  query DeviceSetsQuery($searchTerm: String!) {\n    devicesets(\n      where: {\n        OR: [\n          { name_contains: $searchTerm }\n          { description_contains: $searchTerm }\n        ]\n      }\n      orderBy: updatedAt_DESC\n      first: 5\n    ) {\n      id\n      name\n      description\n      tags\n    }\n  }\n"]);return em=function(){return e},e}function tm(){var e=Object(oa.a)(["\n  query ChatbotsQuery($searchTerm: String!) {\n    chatbots(\n      where: {\n        OR: [\n          { name_contains: $searchTerm }\n          { description_contains: $searchTerm }\n        ]\n      }\n      orderBy: updatedAt_DESC\n      first: 5\n    ) {\n      id\n      name\n      description\n      tags\n    }\n  }\n"]);return tm=function(){return e},e}function am(){var e=Object(oa.a)(["\n  query TestSetsQuery($searchTerm: String!) {\n    testsets(\n      where: {\n        OR: [\n          { name_contains: $searchTerm }\n          { description_contains: $searchTerm }\n        ]\n      }\n      orderBy: updatedAt_DESC\n      first: 5\n    ) {\n      id\n      name\n      description\n      tags\n    }\n  }\n"]);return am=function(){return e},e}function nm(){var e=Object(oa.a)(["\n  query TestProjectsQuery($searchTerm: String!) {\n    testprojects(\n      where: {\n        OR: [\n          { name_contains: $searchTerm }\n          { code_contains: $searchTerm }\n          { description_contains: $searchTerm }\n          {\n            chatbot: {\n              OR: [\n                { name_contains: $searchTerm }\n                { description_contains: $searchTerm }\n              ]\n            }\n          }\n          {\n            testSets_some: {\n              OR: [\n                { name_contains: $searchTerm }\n                { description_contains: $searchTerm }\n              ]\n            }\n          }\n          {\n            deviceSets_some: {\n              OR: [\n                { name_contains: $searchTerm }\n                { description_contains: $searchTerm }\n              ]\n            }\n          }\n        ]\n      }\n      orderBy: updatedAt_DESC\n      first: 5\n    ) {\n      id\n      name\n      description\n      code\n      tags\n      chatbot {\n        id\n        name\n      }\n      testSets {\n        id\n        name\n      }\n      deviceSets {\n        id\n        name\n      }\n    }\n  }\n"]);return nm=function(){return e},e}function rm(){var e=Object(oa.a)(["\n  query TestSessionsQuery($searchTerm: String!) {\n    testsessions(\n      where: {\n        OR: [\n          { name_contains: $searchTerm }\n          { description_contains: $searchTerm }\n          {\n            testProject: {\n              OR: [\n                { name_contains: $searchTerm }\n                { code_contains: $searchTerm }\n                { description_contains: $searchTerm }\n              ]\n            }\n          }\n          {\n            chatbot: {\n              OR: [\n                { name_contains: $searchTerm }\n                { description_contains: $searchTerm }\n              ]\n            }\n          }\n          {\n            testSets_some: {\n              OR: [\n                { name_contains: $searchTerm }\n                { description_contains: $searchTerm }\n              ]\n            }\n          }\n          {\n            deviceSets_some: {\n              OR: [\n                { name_contains: $searchTerm }\n                { description_contains: $searchTerm }\n              ]\n            }\n          }\n          {\n            results_some: {\n              OR: [\n                { testcaseName_contains: $searchTerm }\n                { testcaseSource_contains: $searchTerm }\n              ]\n            }\n          }\n        ]\n      }\n      orderBy: updatedAt_DESC\n      first: 5\n    ) {\n      id\n      name\n      description\n      tags\n      createdAt\n      testProject {\n        id\n        name\n      }\n      chatbot {\n        id\n        name\n      }\n      testSets {\n        id\n        name\n      }\n      deviceSets {\n        id\n        name\n      }\n      results {\n        success\n      }\n      jobs {\n        progressPercent        \n      }\n    }\n  }\n"]);return rm=function(){return e},e}var sm=Object(da.a)(rm()),im=Object(da.a)(nm()),om=Object(da.a)(am()),lm=Object(da.a)(tm()),cm=Object(da.a)(em()),um=Object(da.a)(Zu()),mm=a(43).hasPermission,dm=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.match,n=e.user;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Search Result")),i.a.createElement(Ca,{xs:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:t.cardTitleWhite},'Botium Box Search - "',a.params.searchTerm,'"')),i.a.createElement(yn,null,i.a.createElement(Aa,null,mm(n,"TESTSESSIONS_SELECT")&&i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:sm,variables:{searchTerm:a.params.searchTerm},fetchPolicy:"network-only"},function(e){var a=e.loading,n=e.error,r=e.data;return i.a.createElement(bc.a,{defaultExpanded:r&&r.testsessions&&r.testsessions.length>0},i.a.createElement(Sc.a,{expandIcon:i.a.createElement(va.a,null)},i.a.createElement("h4",{className:t.cardTitle},a&&"Searching Test Result(s) ...",n&&"Searching Test Result(s) failed.",!a&&!n&&"Found ".concat(r&&r.testsessions&&(r.testsessions.length>=5?"5+":r.testsessions.length)||0," Test Result(s)"),"\xa0\xa0",i.a.createElement(Ue.a,{to:"/testsessions/list"},"Show More"))),i.a.createElement(gc.a,null,r&&r.testsessions&&r.testsessions.length>0&&i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["","","Name","Date","Tags","Chatbot","Test Sets"],tableData:r&&r.testsessions.map(function(e){return[function(){return i.a.createElement(Li,{testSession:e})},function(){return i.a.createElement(Mi,{testSession:e})},{value:e.name,href:"/testsessions/view/"+e.id},function(){return i.a.createElement(_n,null,e.createdAt)},e.tags,{value:e.chatbot.name,href:"/chatbots/view/"+e.chatbot.id},e.testSets.map(function(e){return e.name})]}),disableHeader:!0,disableFooter:!0}),(!r||!r.testsessions||0===r.testsessions.length)&&"No data"))})),mm(n,"TESTPROJECTS_SELECT")&&i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:im,variables:{searchTerm:a.params.searchTerm},fetchPolicy:"network-only"},function(e){var a=e.loading,n=e.error,r=e.data;return i.a.createElement(bc.a,{defaultExpanded:r&&r.testprojects&&r.testprojects.length>0},i.a.createElement(Sc.a,{expandIcon:i.a.createElement(va.a,null)},i.a.createElement("h4",{className:t.cardTitle},a&&"Searching Test Project(s) ...",n&&"Searching Test Project(s) failed.",!a&&!n&&"Found ".concat(r&&r.testprojects&&(r.testprojects.length>=5?"5+":r.testprojects.length)||0," Test Project(s)"),"\xa0\xa0",i.a.createElement(Ue.a,{to:"/testprojects/list"},"Show More"))),i.a.createElement(gc.a,null,r&&r.testprojects&&r.testprojects.length>0&&i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Tags","Chatbot","Test Sets","Device Sets"],tableData:r.testprojects.map(function(e){return[{value:e.name,href:"/testprojects/view/"+e.id},e.tags,{value:e.chatbot.name,href:"/chatbots/view/"+e.chatbot.id},e.testSets.map(function(e){return e.name}),e.deviceSets&&e.deviceSets.map(function(e){return e.name})]}),disableHeader:!0,disableFooter:!0}),(!r||!r.testprojects||0===r.testprojects.length)&&"No data"))})),mm(n,"TESTSETS_SELECT")&&i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:om,variables:{searchTerm:a.params.searchTerm},fetchPolicy:"network-only"},function(e){var a=e.loading,n=e.error,r=e.data;return i.a.createElement(bc.a,{defaultExpanded:r&&r.testsets&&r.testsets.length>0},i.a.createElement(Sc.a,{expandIcon:i.a.createElement(va.a,null)},i.a.createElement("h4",{className:t.cardTitle},a&&"Searching Test Set(s) ...",n&&"Searching Test Set(s) failed.",!a&&!n&&"Found ".concat(r&&r.testsets&&(r.testsets.length>=5?"5+":r.testsets.length)||0," Test Set(s)"),"\xa0\xa0",i.a.createElement(Ue.a,{to:"/testsets/list"},"Show More"))),i.a.createElement(gc.a,null,r&&r.testsets&&r.testsets.length>0&&i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Tags","Description"],tableData:r.testsets.map(function(e){return[{value:e.name,href:"/testsets/view/"+e.id},e.tags,{value:e.description,href:"/testsets/view/"+e.id}]}),disableHeader:!0,disableFooter:!0})))})),mm(n,"CHATBOTS_SELECT")&&i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:lm,variables:{searchTerm:a.params.searchTerm},fetchPolicy:"network-only"},function(e){var a=e.loading,n=e.error,r=e.data;return i.a.createElement(bc.a,{defaultExpanded:r&&r.chatbots&&r.chatbots.length>0},i.a.createElement(Sc.a,{expandIcon:i.a.createElement(va.a,null)},i.a.createElement("h4",{className:t.cardTitle},a&&"Searching Chatbot(s) ...",n&&"Searching Chatbot(s) failed.",!a&&!n&&"Found ".concat(r&&r.chatbots&&(r.chatbots.length>=5?"5+":r.chatbots.length)||0," Chatbot(s)"),"\xa0\xa0",i.a.createElement(Ue.a,{to:"/chatbots/list"},"Show More"))),i.a.createElement(gc.a,null,r&&r.chatbots&&r.chatbots.length>0&&i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Tags","Description"],tableData:r.chatbots.map(function(e){return[{value:e.name,href:"/chatbots/view/"+e.id},e.tags,{value:e.description,href:"/chatbots/view/"+e.id}]}),disableHeader:!0,disableFooter:!0}),(!r||!r.chatbots||0===r.chatbots.length)&&"No data"))})),mm(n,"DEVICESETS_SELECT")&&i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:cm,variables:{searchTerm:a.params.searchTerm},fetchPolicy:"network-only"},function(e){var a=e.loading,n=e.error,r=e.data;return i.a.createElement(bc.a,{defaultExpanded:r&&r.devicesets&&r.devicesets.length>0},i.a.createElement(Sc.a,{expandIcon:i.a.createElement(va.a,null)},i.a.createElement("h4",{className:t.cardTitle},a&&"Searching Device Set(s) ...",n&&"Searching Device Set(s) failed.",!a&&!n&&"Found ".concat(r&&r.devicesets&&(r.devicesets.length>=5?"5+":r.devicesets.length)||0," Device Set(s)"),"\xa0\xa0",i.a.createElement(Ue.a,{to:"/devicesets/list"},"Show More"))),i.a.createElement(gc.a,null,r&&r.devicesets&&r.devicesets.length>0&&i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Tags","Description"],tableData:r.devicesets.map(function(e){return[{value:e.name,href:"/devicesets/view/"+e.id},e.tags,{value:e.description,href:"/devicesets/view/"+e.id}]}),disableHeader:!0,disableFooter:!0}),(!r||!r.devicesets||0===r.devicesets.length)&&"No data"))})),mm(n,"AGENTS_SELECT")&&i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:um,variables:{searchTerm:a.params.searchTerm},fetchPolicy:"network-only"},function(e){var a=e.loading,n=e.error,r=e.data;return i.a.createElement(bc.a,{defaultExpanded:r&&r.agents&&r.agents.length>0},i.a.createElement(Sc.a,{expandIcon:i.a.createElement(va.a,null)},i.a.createElement("h4",{className:t.cardTitle},a&&"Searching Agent(s) ...",n&&"Searching Agent(s) failed.",!a&&!n&&"Found ".concat(r&&r.agents&&(r.agents.length>=5?"5+":r.agents.length)||0," Agent(s)"),"\xa0\xa0",i.a.createElement(Ue.a,{to:"/agents/list"},"Show More"))),i.a.createElement(gc.a,null,r&&r.agents&&r.agents.length>0&&i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Tags","Heartbeat","Description"],tableData:r.agents.map(function(e){return[{value:e.name,href:"/agents/view/"+e.id},e.tags,function(){return i.a.createElement(_n,null,e.heartbeat)},{value:e.description,href:"/agents/view/"+e.id}]}),disableHeader:!0,disableFooter:!0}),(!r||!r.agents||0===r.agents.length)&&"No data"))})))))))}}]),t}(i.a.Component),pm=Object(c.b)(function(e){return{user:e.token.user}})(te()(Yu)(dm)),Em=a(39),bm=a.n(Em);function hm(){var e=Object(oa.a)(["\n  mutation DeleteAgent($id: ID!) {\n    deleteAgent(id: $id)\n  }\n"]);return hm=function(){return e},e}function gm(){var e=Object(oa.a)(["\n  mutation UpdateAgent($id: ID!, $agent: AgentUpdateInput!) {\n    updateAgent(id: $id, agent: $agent) {\n      ...FullAgent\n    }\n  }\n  ","\n"]);return gm=function(){return e},e}function fm(){var e=Object(oa.a)(["\n  mutation CreateAgent($agent: AgentCreateInput!) {\n    createAgent(agent: $agent) {\n      ...FullAgent\n    }\n  }\n  ","\n"]);return fm=function(){return e},e}function Sm(){var e=Object(oa.a)(["\n  query AgentQuery($id: ID!) {\n    agent(id: $id) {\n      ...FullAgent\n    }\n  }\n  ","\n"]);return Sm=function(){return e},e}function vm(){var e=Object(oa.a)(["\n  fragment FullAgent on Agent {\n    id\n    createdAt\n    updatedAt\n    name\n    description\n    tags\n    heartbeat\n    debug\n    capabilities {\n      id\n      createdAt\n      updatedAt\n      name\n      type\n      stringValue\n      intValue\n      booleanValue\n      jsonValue\n    }\n  }\n"]);return vm=function(){return e},e}function Tm(){var e=Object(oa.a)(["\n  query AgentsQuery {\n    agents {\n      id\n      name\n      description\n      tags\n      heartbeat\n      debug\n    }\n  }\n"]);return Tm=function(){return e},e}var ym=Object(da.a)(Tm()),xm=Object(da.a)(vm()),Om=Object(da.a)(Sm(),xm),Cm=Object(da.a)(fm(),xm),Am=Object(da.a)(gm(),xm),km=Object(da.a)(hm());function Im(){var e=Object(oa.a)(["\n  query ChartFailedCountByChatbotByDay($timeFrame: ChartTimeFrame!) {\n    chartFailedCountByChatbotByDay(timeFrame: $timeFrame) {\n      id\n      name\n      data\n    }\n  }\n"]);return Im=function(){return e},e}var Pm=a(43).hasPermission,wm=Object(da.a)(Im()),Rm=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderCharts",value:function(){return i.a.createElement(h.d,{query:wm,variables:{timeFrame:"LASTWEEK"},fetchPolicy:"network-only"},function(e){var t=e.loading,a=e.error,n=e.data;if(t)return i.a.createElement(ca.a,{size:50});if(a)return i.a.createElement(Dn,{err:a});var r={series:n&&n.chartFailedCountByChatbotByDay};return i.a.createElement(Pn,{data:r})})}},{key:"renderStartForm",value:function(){var e=this.props,t=e.setAlertSuccessMessage,a=e.setAlertErrorMessage,n=e.history,r=this.props,s=r.chatbotsData,o=r.testSetsData,l=r.deviceSetsData,c=r.agentsData,u=r.registeredComponentsData;s&&s.chatbots&&s.chatbots.forEach(function(e){return e.connector=(e.capabilities.find(function(e){return"CONTAINERMODE"===e.name})||{}).stringValue});return i.a.createElement(h.c,{mutation:Ri,onCompleted:function(e){n.push("/testsessions/view/".concat(e.createTestSession.id)),t("Test Session started ...")},onError:function(e){a("Test session failed",e)},refetchQueries:[{query:Ai}]},function(e,t){t.loading,t.error;return i.a.createElement(Bn.b,{onSubmit:function(t){var a={variables:{testSession:{name:"Manual Test Session - "+t.testSets.map(function(e){return e.name}).join(","),status:"PENDING",tags:{set:["Manual"]},chatbot:{connect:{id:t.chatbotId}},testSets:{connect:t.testSets.map(function(e){return{id:e.id}})},deviceSets:{connect:t.deviceSets&&t.deviceSets.map(function(e){return{id:e.id}})},registeredComponents:{connect:t.registeredComponents&&t.registeredComponents.map(function(e){return{id:e.id}})},batchCount:t.batchCount}}};t.agentId&&(a.variables.testSession.agent={connect:{id:t.agentId}}),e(a)},initialValues:{tags:[],testSets:[],deviceSets:[],registeredComponents:[],batchCount:"basic"!==wt.buildTarget&&c&&c.agents?c.agents.length:1},render:function(e){var t=e.handleSubmit,a=(e.reset,e.submitting),n=(e.pristine,e.values);return i.a.createElement("form",{onSubmit:t},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"chatbotId",component:_s,label:"Select Chatbot",validate:Ms},s&&s.loading&&i.a.createElement(ca.a,{size:50}),s&&s.error&&i.a.createElement(Dn,{err:s.error}),s&&s.chatbots&&s.chatbots.map(function(e){return i.a.createElement(Ge.a,{key:e.id,value:e.id},e.name)}))),i.a.createElement(Ca,{xs:12},o&&o.loading&&i.a.createElement(ca.a,{size:50}),o&&o.error&&i.a.createElement(Dn,{err:o.error}),o&&o.testsets&&i.a.createElement(Bn.a,{name:"testSets",component:Ds,label:"Select Test Set(s)",suggestions:o.testsets,numsuggestions:20,keyFunc:function(e){return e.id},labelFunc:function(e){return e.name},validate:Ms})),n.chatbotId&&"webdriverio"===function(e){if(s&&s.chatbots){var t=s.chatbots.find(function(t){return t.id===e});return t&&t.connector}}(n.chatbotId)&&i.a.createElement(Ca,{xs:12},l&&l.loading&&i.a.createElement(ca.a,{size:50}),l&&l.error&&i.a.createElement(Dn,{err:l.error}),l&&l.devicesets&&i.a.createElement(Bn.a,{name:"deviceSets",component:Ds,label:"Select Device Set(s)",suggestions:l.devicesets,numsuggestions:20,keyFunc:function(e){return e.id},labelFunc:function(e){return e.name},validate:Ms})),i.a.createElement(Ca,{xs:12},u&&u.loading&&i.a.createElement(ca.a,{size:50}),u&&u.error&&i.a.createElement(Dn,{err:u.error}),u&&u.registeredcomponents&&i.a.createElement(Bn.a,{name:"registeredComponents",component:Ds,label:"Select Component(s)",suggestions:u.registeredcomponents,numsuggestions:20,keyFunc:function(e){return e.id},labelFunc:function(e){return e.ref}})),i.a.createElement(Ca,{xs:12,md:6},i.a.createElement(Bn.a,{name:"batchCount",component:Ps,label:"Parallel Jobs Count",validate:Hs(1),parse:parseInt,disabled:"basic"===wt.buildTarget})),i.a.createElement(Ca,{xs:12,md:6},i.a.createElement(Bn.a,{name:"agentId",component:_s,label:"Select Agent",disabled:"basic"===wt.buildTarget},c&&c.loading&&i.a.createElement(ca.a,{size:50}),c&&c.error&&i.a.createElement(Dn,{err:c.error}),c&&c.agents&&c.agents.map(function(e){return i.a.createElement(Ge.a,{key:e.id,value:e.id},e.name)}))),i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{type:"submit",disabled:a,size:"lg",color:"primary"},i.a.createElement(bm.a,null),"Start Test Session"))))}})})}},{key:"renderTestResults",value:function(){return i.a.createElement(h.d,{query:Ai,variables:{skip:0,first:0},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0},function(e){var t=e.loading,a=e.error,n=e.fetchMore,r=e.data;return a?i.a.createElement(Dn,{err:a}):i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["","","Name","Date","Tags","Chatbot","Test Sets"],pageLoading:t,tableData:r&&r.testsessions&&r.testsessions.map(function(e){return[function(){return i.a.createElement(Li,{testSession:e})},function(){return i.a.createElement(Mi,{testSession:e})},{value:e.name,href:"/testsessions/view/"+e.id},function(){return i.a.createElement(_n,null,e.createdAt)},e.tags,{value:e.chatbot.name,href:"/chatbots/view/"+e.chatbot.id},e.testSets.map(function(e){return e.name})]}),onPageChange:function(e,t){n({variables:{skip:e,first:t},updateQuery:function(e,t){var a=t.fetchMoreResult;return a||e}})}})})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Test Results")),i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:8},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:t.cardTitleWhite},"Regression"),i.a.createElement("p",{className:t.cardCategoryWhite},"Nightly Build - 7 days")),i.a.createElement(yn,null,this.renderCharts()))),Pm(a,"TESTSESSIONS_CREATE")&&i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:t.cardTitleWhite},"Start Test Session"),i.a.createElement("p",{className:t.cardCategoryWhite},"Start a Test Session manually")),i.a.createElement(yn,null,this.renderStartForm()))))),i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:t.cardTitleWhite},"Test Results"),i.a.createElement("p",{className:t.cardCategoryWhite},"Listing all past test results")),i.a.createElement(yn,null,this.renderTestResults()))))}}]),t}(i.a.Component),jm=Object(h.f)(te()(ni),Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t}),Object(h.g)(Ou,{props:function(e){return{chatbotsData:e.data}}}),Object(h.g)(kl,{props:function(e){return{testSetsData:e.data}}}),Object(h.g)(ym,{props:function(e){return{agentsData:e.data}}}),Object(h.g)(Hu,{props:function(e){return{deviceSetsData:e.data}}}),Object(h.g)(Es,{props:function(e){return{registeredComponentsData:e.data}}}))(Rm),Nm=a(383),_m=a(42),Dm=a.n(_m),Fm=a(45),Lm=a.n(Fm),Vm=a(134),Mm=a.n(Vm),Bm=a(114),Um=a.n(Bm),Wm=a(365),Hm=a.n(Wm),Gm=a(135),zm=a.n(Gm),$m=a(202),qm=a.n($m),Km=a(129),Jm=a.n(Km),Xm=a(200),Qm=a.n(Xm),Ym=a(201),Zm=a.n(Ym),ed={cardTitle:{float:"left",padding:"10px 10px 10px 0px",lineHeight:"24px"},cardTitleRTL:{float:"right",padding:"10px 0px 10px 10px !important"},displayNone:{display:"none !important"},tabsRoot:{minHeight:"unset !important",overflowX:"visible"},tabRootButton:{minHeight:"unset !important",minWidth:"unset !important",width:"unset !important",height:"unset !important",maxWidth:"unset !important",maxHeight:"unset !important",padding:"10px 15px",borderRadius:"3px",lineHeight:"24px",border:"0 !important",color:"#fff !important",marginLeft:"4px","&:last-child":{marginLeft:"0px"}},tabLabelContainer:{padding:"0px"},tabLabel:{fontWeight:"500",fontSize:"12px"},tabSelected:{backgroundColor:"rgba(255, 255, 255, 0.2)",transition:"0.2s background-color 0.1s"},tabWrapper:{display:"inline-block",minHeight:"unset !important",minWidth:"unset !important",width:"unset !important",height:"unset !important",maxWidth:"unset !important",maxHeight:"unset !important","& > svg,& > .material-icons":{verticalAlign:"middle",margin:"-1px 5px 0 0"}}},td={tabIndex:0},ad=function(e,t){if(e)for(var a=0;a<t.length;a++)if(t[a].locationPrefix&&e.pathname.startsWith(t[a].locationPrefix))return a;return-1},nd=function(e){function t(e){var a;Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e,t){var n=a.props,r=n.name,s=n.tabs,i=n.history,o=n.settings,l=n.setTableSettings;a.setState({value:t}),l(r||window.location.pathname,Object(Ee.a)({},o,{tabIndex:t})),s[t].locationPrefix&&i.push(s[t].locationPrefix)};var n=a.props,r=n.tabs,s=n.location,i=n.initialValue,o=n.settings;a.state={value:0};var l=ad(s,r);return!isNaN(l)&&l>=0?a.state.value=l:!isNaN(i)&&i>=0?a.state.value=i:isNaN(o.tabIndex)||(a.state.value=o.tabIndex),a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.tabs,a=e.location,n=e.initialValue,r=e.settings,s=ad(a,t);!isNaN(s)&&s>=0?this.setState({value:s}):!isNaN(n)&&n>=0?this.setState({value:n}):isNaN(r.tabIndex)||this.setState({value:r.tabIndex})}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.classes,r=a.headerColor,s=a.plainTabs,o=a.tabs,l=a.title,c=a.rtlActive,u=oe()((e={},Object(re.a)(e,n.cardTitle,!0),Object(re.a)(e,n.cardTitleRTL,c),e));return i.a.createElement(fn,{plain:s},i.a.createElement(vn,{color:r,plain:s},void 0!==l?i.a.createElement("div",{className:u},l):null,i.a.createElement(Qm.a,{value:this.state.value,onChange:this.handleChange,classes:{root:n.tabsRoot,indicator:n.displayNone,scrollButtons:n.displayNone},variant:"scrollable",scrollButtons:"auto"},o.map(function(e,t){var a={};return e.tabIcon&&(a={icon:i.a.createElement(e.tabIcon,null)}),i.a.createElement(Zm.a,Object.assign({classes:{root:n.tabRootButton,labelContainer:n.tabLabelContainer,label:n.tabLabel,selected:n.tabSelected,wrapper:n.tabWrapper},key:t,label:e.tabName,disabled:e.disabled},a))}))),i.a.createElement(yn,null,o.map(function(e,a){return a===t.state.value?i.a.createElement("div",{key:a},e.tabContent):null})))}}]),t}(i.a.Component),rd=Object(c.b)(function(e,t){return{settings:Object.assign({},td,e.table[t.name||window.location.pathname])}},{clearTableSettings:on,setTableSettings:ln})(Object(We.a)(te()(ed)(nd))),sd=a(364);var id=Object(nr.withStyles)(function(e){return{}})(function(e){var t=Object(se.a)({},e),a=t.classes,n=t.images,r=t.columns,s=t.forceMimeType,o=Object.assign({},r||{},{xs:12});return i.a.createElement("div",{className:a.root},i.a.createElement(Aa,null,n.map(function(e){var t=function(e){return"audio/mpeg3"===e?"audio/mpeg":e}(s||e.mimeType||e.imageSrc&&Object(sd.lookup)(e.imageSrc));return e.base64&&(e.imageSrc="data:".concat(t,";base64,").concat(e.base64)),i.a.createElement(Ca,Object(Ee.a)({key:e.id},o),t&&t.startsWith("image")&&i.a.createElement("a",{href:e.imageSrc,target:"_blank",rel:"noopener noreferrer"},t&&t.startsWith("image")&&i.a.createElement("img",{src:e.imageSrc,alt:e.title}),(!t||!t.startsWith("image"))&&(e.title||e.imageSrc)),t&&t.startsWith("audio")&&i.a.createElement("audio",{controls:!0,src:e.imageSrc},i.a.createElement("a",{href:e.imageSrc,target:"_blank",rel:"noopener noreferrer"},e.title||"Download")),(e.download||t&&!t.startsWith("image")&&!t.startsWith("audio"))&&i.a.createElement("a",{download:e.download||e.title,href:e.imageSrc,target:"_blank",rel:"noopener noreferrer"},e.title||"Download"))})))}),od=a(68),ld=a.n(od),cd=a(140),ud=a.n(cd),md=a(215),dd=a.n(md),pd=a(141),Ed=a.n(pd),bd=function(e){return{senderMe:{display:"flex",justifyContent:"flex-end",backgroundColor:"#F2F2F2",borderRadius:10,padding:3*e.spacing.unit,marginLeft:10*e.spacing.unit,marginRight:e.spacing.unit},senderBot:{backgroundColor:"#F2F2F2",borderRadius:10,padding:3*e.spacing.unit,marginLeft:e.spacing.unit,marginRight:10*e.spacing.unit},backgroundSuccess:{backgroundColor:"#4caf50"},backgroundDanger:{backgroundColor:"#f44336"},colorSuccess:{color:"#4caf50"},colorDanger:{color:"#f44336"},card:{borderColor:"#B2B2B2",borderStyle:"solid",borderWidth:2,borderRadius:5,padding:e.spacing.unit,margin:e.spacing.unit}}},hd=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={renderSteps:[],code:null},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.steps;this.setState({renderSteps:this.parseSteps(e)})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.steps;this.setState({renderSteps:this.parseSteps(t)})}},{key:"parseSteps",value:function(e){return e&&e.length>0&&e.forEach(function(e){if(e.actual&&ja.a.isString(e.actual))try{e.actual=JSON.parse(e.actual)}catch(t){}if(e.expected&&ja.a.isString(e.expected))try{e.expected=JSON.parse(e.expected)}catch(t){}if(e.errDetails&&ja.a.isString(e.errDetails))try{e.errDetails=JSON.parse(e.errDetails)}catch(t){}}),e}},{key:"renderStepMsg",value:function(e,t){var a=this.props.classes;return i.a.createElement(i.a.Fragment,null,"me"===t.sender&&t.buttons&&t.buttons.length>0&&i.a.createElement(Ia,null,"BUTTON ",t.buttons[0].payload||t.buttons[0].text),"me"===t.sender&&t.media&&t.media.length>0&&i.a.createElement(Ia,null,"MEDIA ",t.media[0].mediaUri),"me"===t.sender&&(!t.buttons||0===t.buttons.length)&&(!t.media||0===t.media.length)&&i.a.createElement(Ia,null,t.messageText),"bot"===t.sender&&t.messageText&&i.a.createElement(Ia,null,t.messageText),"bot"===e&&t.buttons&&t.buttons.map(function(e,t){var a=e.text&&e.text.length>30?e.text.substr(0,27)+"...":e.text;return i.a.createElement(ei.a,{title:e.text,key:"button_"+t},i.a.createElement(_a.a,{label:a}))}),"bot"===e&&t.media&&i.a.createElement(id,{images:t.media.map(function(e,t){return{imageSrc:e.mediaUri,title:e.altText,id:t}}),key:"images"}),"bot"===e&&t.cards&&i.a.createElement(Aa,null,t.cards.map(function(e,t){return i.a.createElement(Ca,{xs:12,sm:12,md:6,key:t},i.a.createElement("div",{className:a.card},e.image&&i.a.createElement(id,{images:[{imageSrc:e.image.mediaUri,title:e.image.altText,id:t}],columns:{xs:12}}),e.text&&i.a.createElement("div",null,i.a.createElement(Ia,null,e.text)),e.buttons&&i.a.createElement("div",null,e.buttons.map(function(e,t){var a=e.text&&e.text.length>30?e.text.substr(0,27)+"...":e.text;return i.a.createElement(ei.a,{title:e.text,key:"button_"+t},i.a.createElement(_a.a,{label:a}))}))))})))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.renderSteps;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Gt.a,{component:"div"},a.map(function(a,n){var r,s,o,l;return i.a.createElement(i.a.Fragment,{key:n},i.a.createElement($t.a,{key:n},"bot"===a.sender&&i.a.createElement(ld.a,null,i.a.createElement(Ia,null,i.a.createElement(ud.a,{className:oe()((r={},Object(re.a)(r,t.colorDanger,a.err),Object(re.a)(r,t.colorSuccess,!a.err),r))}))),i.a.createElement(Xt.a,{className:oe()((s={},Object(re.a)(s,t.senderMe,"me"===a.sender),Object(re.a)(s,t.senderBot,"me"!==a.sender),s))},e.renderStepMsg(a.sender,a.actual)),"me"===a.sender&&i.a.createElement(ld.a,null,i.a.createElement(Ia,null,i.a.createElement(dd.a,{className:oe()((o={},Object(re.a)(o,t.colorDanger,a.err),Object(re.a)(o,t.colorSuccess,!a.err),o))}))),i.a.createElement(ld.a,null,i.a.createElement(Ia,null,i.a.createElement(me.a,{"aria-label":"View Code",onClick:function(){return e.setState({code:a})}},i.a.createElement(Ed.a,null))))),"bot"===a.sender&&a.err&&!a.errDetails&&a.expected&&a.expected.messageText&&i.a.createElement($t.a,{key:"".concat(n,"_err")},i.a.createElement(ld.a,null,i.a.createElement(Ia,null,i.a.createElement(ud.a,{className:t.colorDanger}))),i.a.createElement(Xt.a,{className:oe()((l={},Object(re.a)(l,t.senderBot,!0),Object(re.a)(l,t.backgroundDanger,!0),l))},a.not&&"NOT EXPECTED",!a.not&&"EXPECTED",": ",a.expected&&a.expected.messageText),i.a.createElement(ld.a,null,i.a.createElement(Pa,null,i.a.createElement(me.a,{"aria-label":"View Code",onClick:function(){return e.setState({code:a})}},i.a.createElement(Ed.a,null))))),"bot"===a.sender&&a.errDetails&&(ja.a.isArray(a.errDetails)?a.errDetails:[a.errDetails]).map(function(a,r){var s;return i.a.createElement($t.a,{key:"".concat(n,"_err_").concat(r)},i.a.createElement(ld.a,null,i.a.createElement(Ia,null,i.a.createElement(ud.a,{className:t.colorDanger}))),i.a.createElement(Xt.a,{className:oe()((s={},Object(re.a)(s,t.senderBot,!0),Object(re.a)(s,t.backgroundDanger,!0),s))},"asserter"!==a.type&&a.message&&i.a.createElement(i.a.Fragment,null,a.message),"asserter"===a.type&&i.a.createElement(i.a.Fragment,null,"ASSERTION FAILED in ",a.source,a.subtype&&" (".concat(a.subtype,")"),a.cause&&a.cause.expected&&' - Expected: "'.concat(a.cause.expected,'" '),a.cause&&a.cause.actual&&' - Actual: "'.concat(a.cause.actual,'"'),a.cause&&!a.cause.actual&&" - Actual: empty"),"asserter"!==a.type&&!a.message&&"Special error (click on Code button for details)"),i.a.createElement(ld.a,null,i.a.createElement(Pa,null,i.a.createElement(me.a,{"aria-label":"View Code",onClick:function(){return e.setState({code:a})}},i.a.createElement(Ed.a,null)))))}))})),i.a.createElement(cl,{cancelText:"Close",open:!!this.state.code,onCancel:function(){return e.setState({code:null})},title:"Botium Code"},i.a.createElement(Aa,null,this.state.code&&this.state.code.actual&&i.a.createElement(Ca,{xs:12},i.a.createElement(Fa.a,{autoFocus:!0,margin:"dense",label:"Actual Botium Code",fullWidth:!0,multiline:!0,rows:12,value:this.state.code&&this.state.code.actual&&JSON.stringify(ja.a.omit(this.state.code.actual,["attachments"]),null,2)||"",readOnly:!0})),this.state.code&&this.state.code.expected&&i.a.createElement(Ca,{xs:12},i.a.createElement(Fa.a,{autoFocus:!0,margin:"dense",label:"Expected Botium Code",fullWidth:!0,multiline:!0,rows:12,value:this.state.code&&this.state.code.expected&&JSON.stringify(this.state.code.expected,null,2)||"",readOnly:!0})),this.state.code&&!this.state.code.actual&&!this.state.code.expected&&i.a.createElement(Ca,{xs:12},i.a.createElement(Fa.a,{autoFocus:!0,margin:"dense",label:"Botium Code",fullWidth:!0,multiline:!0,rows:12,value:JSON.stringify(this.state.code,null,2),readOnly:!0})),this.state.code&&this.state.code.actual&&this.state.code.actual.attachments&&i.a.createElement(Ca,{xs:12},i.a.createElement(Aa,null,i.a.createElement(id,{images:this.state.code.actual.attachments.map(function(e,t){return{base64:e.base64,id:t,title:e.name,mimeType:e.mimeType}}),columns:{xs:12,sm:6}}))))))}}]),t}(i.a.Component);hd.defaultProps={};var gd=te()(bd)(hd),fd=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return i.a.createElement(Di,this.props,function(e){var t=e.testSessionProgress;if(t&&t.chartData){var a=JSON.parse(t.chartData),n=Math.max(t.jobs.reduce(function(e,t){return e+(t.progressPercent||0)},0)/t.jobs.length,0),r=[];if(n>0){var s=100*a.totalCount/n;r.push(100*a.successCount/s),r.push(100*a.failedCount/s),r.push(100*(s-a.totalCount)/s)}else r.push(0),r.push(0),r.push(100);return i.a.createElement(Rn,{data:{fill:["#4caf50","#f44336","#999999"],series:r},options:{labelInterpolationFnc:function(e,t){return 2!==t&&void 0!==e&&e>0&&e.toFixed(1)+"%"}}})}return null})}}]),t}(i.a.Component),Sd=te()(ni)(fd);function vd(){var e=Object(oa.a)(["\n  query TestSessionSecurityAlertsQuery($id: ID!) {\n    testsession(id: $id) {\n      id\n      securityAlerts {\n        id \n        method \n        alert \n        evidence \n        risk\n        confidence \n        solution \n        references\n      }\n    }\n  }\n"]);return vd=function(){return e},e}var Td=Object(da.a)(vd()),yd=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={detailText:""},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.testSessionId;return i.a.createElement(h.d,{query:Td,variables:{id:t}},function(a){var n=a.loading,r=a.error,s=a.data,o=a.refetch;return r?i.a.createElement(Dn,{err:r}):i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Risk/Confidence","HTTP-Method","Alert","Evidence","Solution","Reference Links"],pageLoading:n,name:"TestSession_".concat(t,"_SecurityAlerts"),tableData:s&&s.testsession&&s.testsession.securityAlerts&&s.testsession.securityAlerts.map(function(t){return["".concat(t.risk||"Unknown","/").concat(t.confidence),t.method,function(){return i.a.createElement(i.a.Fragment,null,ja.a.truncate(t.alert,{length:50}),t.alert&&t.alert.length>50&&i.a.createElement("a",{href:"#",onClick:function(){return e.setState({detailText:t.alert})}},"More"))},function(){return i.a.createElement(i.a.Fragment,null,ja.a.truncate(t.evidence,{length:50}),t.evidence&&t.evidence.length>50&&i.a.createElement("a",{href:"#",onClick:function(){return e.setState({detailText:t.evidence})}},"More"))},function(){return i.a.createElement(i.a.Fragment,null,ja.a.truncate(t.solution,{length:50}),t.solution&&t.solution.length>50&&i.a.createElement("a",{href:"#",onClick:function(){return e.setState({detailText:t.solution})}},"More"))},function(){return i.a.createElement("ul",null,t.references.map(function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},"Link ",t))}))}]}),onRefresh:function(){return o()}}))),i.a.createElement(cl,{open:!!e.state.detailText,onOk:function(){return e.setState({detailText:""})},title:"Security Scan Details"},e.state.detailText||""))})}}]),t}(i.a.Component),xd=a(111),Od=a(43),Cd=Od.hasPermission,Ad=Od.hasAnyPermission,kd={TEST_CASENAME:{getValue:function(e){return e.testcaseName},key:"testcaseName",display:"Test Case",filterEnabled:!0},TESTSET_NAME:{getValue:function(e){return e.testSet.name},key:"testSet.name",display:"Test Set",filterEnabled:!0},DURATION:{getValue:function(e){return e.duration},key:"duration",display:"Duration",order:"desc",filterEnabled:!1},CREATE_AT:{getValue:function(e){return xd(new Date(e.createdAt)).format("ll LTS")},key:"createdAt",display:"Timestamp",order:"desc",filterEnabled:!1},DEVICE_SET:{getValue:function(e){return e.deviceSet?e.deviceSet.name:""},key:"deviceSet.name",display:"Device Set",filterEnabled:!0},DEVICE_TYPE:{getValue:function(e){return e.deviceSet?e.deviceSet.devices.map(function(e){return e.type}).toString():""},key:"deviceType",display:"Device Type",filterEnabled:!0},DEVICE_NAME:{getValue:function(e){return e.deviceSet?e.deviceSet.devices.map(function(e){return e.name}).toString():""},key:"deviceName",display:"Device Name",filterEnabled:!0}},Id=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={filter:{showFailed:!0,showSucceeded:!0,filterType:kd.TEST_CASENAME,filterText:"",page:0,rowsPerPage:25},switchTabIndex:void 0,testcaseOpen:{},jobOpen:{}},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderList",value:function(e){var t=this,a=this.props,n=a.classes,r=a.token,s=this.state.filter;return i.a.createElement(Di,{testSession:e,query:ki,subscription:Ii},function(e){var a=e.testSessionProgress.results||[];if(s.showFailed||(a=a.filter(function(e){return e.success})),s.showSucceeded||(a=a.filter(function(e){return!e.success})),s.filterType.filterEnabled&&s.filterText){var o=RegExp(s.filterText,"i");a=a.filter(function(e){return o.test(s.filterType.getValue(e))})}a=ja.a.orderBy(a,[s.filterType.key||"testcaseName"],[s.filterType.order||"asc"]);var l=Math.max(0,Math.ceil(a.length/s.rowsPerPage)-1),c=Math.min(l,s.page),u=a.slice(c*s.rowsPerPage,(c+1)*s.rowsPerPage),m=a.length>(c+1)*s.rowsPerPage;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:2},js({input:{onChange:function(e){return t.setState({filter:Object(Ee.a)({},s,{showFailed:e.target.checked})})},checked:s.showFailed},label:i.a.createElement(Pa,null,"Show failed")})),i.a.createElement(Ca,{xs:12,sm:2},js({input:{onChange:function(e){return t.setState({filter:Object(Ee.a)({},s,{showSucceeded:e.target.checked})})},checked:s.showSucceeded},label:i.a.createElement(wa,null,"Show succeeded")})),i.a.createElement(Ca,{xs:12,sm:2},_s({input:{name:"filterType",value:s.filterType,onChange:function(e,a){return t.setState({filter:Object(Ee.a)({},s,{filterType:e.target.value})}),e.target.value}},multiple:!1,children:Object.entries(kd).map(function(e){var t=Object(Nm.a)(e,2),a=t[0],n=t[1];return i.a.createElement(Ge.a,{key:a,value:n},n.display)}),label:"Filter/Sort Criteria"})),i.a.createElement(Ca,{xs:12,sm:2},Is({input:{onChange:function(e){return t.setState({filter:Object(Ee.a)({},s,{filterText:e.target.value})})},value:s.filterText},label:s.filterType.filterEnabled?"Filter by ".concat(s.filterType.display):"No Filter",disabled:!s.filterType.filterEnabled})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Ka.a,{component:"div",count:a.length,labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," of ").concat(n)},rowsPerPage:s.rowsPerPage,page:c,onChangePage:function(){return{}},onChangeRowsPerPage:function(e){return t.setState({filter:Object(Ee.a)({},s,{rowsPerPage:e.target.value})})},ActionsComponent:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(me.a,{onClick:function(){return t.setState({filter:Object(Ee.a)({},s,{page:0})})},disabled:0===c,"aria-label":"First Page"},i.a.createElement(Xa.a,null)),i.a.createElement(me.a,{onClick:function(){return t.setState({filter:Object(Ee.a)({},s,{page:c-1})})},disabled:0===c,"aria-label":"Previous Page"},i.a.createElement(Ya.a,null)),i.a.createElement(me.a,{onClick:function(){return t.setState({filter:Object(Ee.a)({},s,{page:c+1})})},disabled:!m,"aria-label":"Next Page"},i.a.createElement(en.a,null)),i.a.createElement(me.a,{onClick:function(){return t.setState({filter:Object(Ee.a)({},s,{page:l})})},disabled:!m,"aria-label":"Last Page"},i.a.createElement(an.a,null)))}})),i.a.createElement(Ca,{xs:12},i.a.createElement(at.a,null)),i.a.createElement(Ca,{xs:12},i.a.createElement(Gt.a,{component:"nav",key:"testcases_".concat(c)},u&&u.map(function(e){return i.a.createElement(i.a.Fragment,{key:e.id},i.a.createElement($t.a,{button:!0,onClick:function(){var a=t.state.testcaseOpen;a[e.id]=!a[e.id],t.setState({testcaseOpen:a})},className:n.testcaselistitem,key:e.id},i.a.createElement(Kt.a,null,e.success?i.a.createElement(wa,null,i.a.createElement(ht.a,null)):i.a.createElement(Pa,null,i.a.createElement(pe.a,null))),i.a.createElement(Xt.a,{inset:!0,primary:e.success?i.a.createElement(wa,null,e.testcaseName):i.a.createElement(Pa,null,e.testcaseName),secondary:i.a.createElement(i.a.Fragment,null,i.a.createElement(_n,{format:"ll LTS"},e.createdAt),e.duration&&" - ".concat(e.duration,"ms "))}),t.state.testcaseOpen[e.id]?i.a.createElement(ya.a,null):i.a.createElement(va.a,null)),i.a.createElement(Jm.a,{in:t.state.testcaseOpen[e.id],timeout:"auto",unmountOnExit:!0,key:e.id+"_collaps"},i.a.createElement(Gt.a,{component:"div",disablePadding:!0},e.err&&i.a.createElement($t.a,{className:n.testcaselistnested,key:e.id+"_err"},i.a.createElement(Xt.a,{inset:!0,primary:i.a.createElement(Pa,null,e.err.split("\n").map(function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e,i.a.createElement("br",null))}))})),i.a.createElement(h.d,{query:Si,variables:{id:e.id}},function(e){var t=e.loading,a=e.error,s=e.data;if(a)return i.a.createElement(Dn,{err:a});if(t)return i.a.createElement(ca.a,{size:50});var o=s&&s.testsessiontestcaseresult||{};return i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},o.testSet&&i.a.createElement(i.a.Fragment,null,"Test Set"," ",i.a.createElement(Ue.a,{to:"/testsets/view/".concat(o.testSet.id)},'"',o.testSet.name,'"'),"\xa0"),o.testSetScript&&o.testSet&&i.a.createElement(i.a.Fragment,null,"Script"," ",i.a.createElement(Ue.a,{to:"/testsets/view/".concat(o.testSet.id,"/viewscript/").concat(o.testSetScript.id)},'"',o.testSetScript.name,'"'),"\xa0"),o.testSetRepository&&o.testSet&&i.a.createElement(i.a.Fragment,null,"Repository"," ",i.a.createElement(Ue.a,{to:"/testsets/view/".concat(o.testSet.id,"/viewrepository/").concat(o.testSetRepository.id)},'"',o.testSetRepository.name,'"'),"\xa0"),o.testSetFolder&&o.testSet&&i.a.createElement(i.a.Fragment,null,"Folder"," ",i.a.createElement(Ue.a,{to:"/testsets/view/".concat(o.testSet.id,"/viewfolder/").concat(o.testSetFolder.id)},'"',o.testSetFolder.name,'"'),"\xa0"),o.testSetExcel&&o.testSet&&i.a.createElement(i.a.Fragment,null,"Excel"," ",i.a.createElement(Ue.a,{to:"/testsets/view/".concat(o.testSet.id,"/viewexcel/").concat(o.testSetExcel.id)},'"',o.testSetExcel.name,'"'),"\xa0"),o.testSetFilename&&i.a.createElement(i.a.Fragment,null,"File ",o.testSetFilename,"\xa0"),o.deviceSet&&i.a.createElement(i.a.Fragment,null,"Device Set"," ",i.a.createElement(Ue.a,{to:"/devicesets/view/".concat(o.deviceSet.id)},'"',o.deviceSet.name,'"'),"\xa0"),o.deviceName&&i.a.createElement(i.a.Fragment,null,'Device "',o.deviceName,'"\xa0'))),o.steps&&i.a.createElement(Aa,null,i.a.createElement(Z.a,{smDown:!0},i.a.createElement(Ca,{md:1,lg:2})),i.a.createElement(Ca,{xs:12,sm:12,md:10,lg:8},i.a.createElement(gd,{steps:ja.a.orderBy(o.steps,"step"),key:o.id+"_steps"}))),!o.steps&&o.testcaseSource&&i.a.createElement($t.a,{className:n.testcaselistnested,key:o.id+"_src"},i.a.createElement(Xt.a,{inset:!0},i.a.createElement(Ia,null,o.testcaseSource))),o.attachments&&i.a.createElement($t.a,{className:n.testcaselistnested,key:o.id+"_att"},i.a.createElement(Xt.a,{inset:!0},i.a.createElement(id,{images:o.attachments.map(function(e){return{imageSrc:wt.api.base+"/attachment/screenshot/"+e.id+"?token="+r,id:e.id,title:e.name,mimeType:e.mimeType}}),columns:{xs:12,sm:4}}))))}))))}))))})}},{key:"renderJobs",value:function(e){var t=this,a=this.props,n=a.classes,r=a.token,s=a.user;return i.a.createElement(Di,{testSession:e},function(e){var a=e.testSessionProgress;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Gt.a,{component:"nav",key:"jobs"},a.jobs&&a.jobs.map(function(e){var a=[];return a.push("Progress: ".concat(e.progressPercent,"%")),a.push("Status: ".concat(e.status)),i.a.createElement(i.a.Fragment,{key:e.id},i.a.createElement($t.a,{button:!0,onClick:function(){if(Cd(s,"TESTSESSIONS_REPORTS")){var a=t.state.jobOpen;a[e.id]=!a[e.id],t.setState({jobOpen:a})}},className:n.testcaselistitem,key:e.id},"READY"===e.status&&i.a.createElement(Kt.a,null,i.a.createElement(wa,null,i.a.createElement(ht.a,null))),"FAILED"===e.status&&i.a.createElement(Kt.a,null,i.a.createElement(Pa,null,i.a.createElement(pe.a,null))),"READY"!==e.status&&"FAILED"!==e.status&&i.a.createElement(Kt.a,null,i.a.createElement(ti,null,i.a.createElement(Ys.a,null))),i.a.createElement(Xt.a,{inset:!0,primary:i.a.createElement(i.a.Fragment,null,e.started&&i.a.createElement(i.a.Fragment,null,"Started: ",i.a.createElement(_n,null,e.started))," ",e.finished&&i.a.createElement(i.a.Fragment,null,"Finished: ",i.a.createElement(_n,null,e.finished))),secondary:i.a.createElement(i.a.Fragment,null,i.a.createElement(qm.a,{variant:"determinate",value:e.progressPercent}),a.join(" ")),secondaryTypographyProps:{component:"span"}}),Cd(s,"TESTSESSIONS_REPORTS")&&i.a.createElement(i.a.Fragment,null,t.state.jobOpen[e.id]?i.a.createElement(ya.a,null):i.a.createElement(va.a,null))),i.a.createElement(Jm.a,{in:t.state.jobOpen[e.id],timeout:"auto",unmountOnExit:!0,key:e.id+"_collaps"},i.a.createElement(Gt.a,{component:"div",disablePadding:!0},i.a.createElement(Aa,null,i.a.createElement(Z.a,{smDown:!0},i.a.createElement(Ca,{md:1,lg:2})),i.a.createElement(Ca,{xs:12,sm:12,md:10,lg:8},i.a.createElement(h.d,{query:vi,variables:{jobId:e.id},fetchPolicy:"network-only"},function(t){var a=t.loading,n=t.error,s=t.data,o=t.refetch;if(n)return i.a.createElement(Dn,{err:n});if(a)return i.a.createElement(ca.a,{size:50});var l=s&&s.testsessionjoblogs||{};return i.a.createElement(i.a.Fragment,null,e.err&&i.a.createElement("b",null,i.a.createElement(Pa,null,e.err)),i.a.createElement("br",null),i.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return o()}},"Refresh ..."),l&&l.map(function(e){var t=e.log?e.log.split("\n"):[];return i.a.createElement("div",{key:e.id},i.a.createElement("b",null,i.a.createElement(_n,null,e.createdAt)),": ",e.log&&t.map(function(e,a){return i.a.createElement(i.a.Fragment,{key:a},e,a<t.length-1&&i.a.createElement("br",null))}))}),i.a.createElement("a",{href:wt.api.base+"/joblog/"+e.id+"?token="+r,rel:"noopener noreferrer",target:"_blank"},"Read More ..."))}))))))}))))})}},{key:"renderAnalytics",value:function(e){var t=this.props.token;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("a",{href:wt.api.base+"/transcript/"+e.id+"?REPORTER=json&token="+t,rel:"noopener noreferrer",target:"_blank"},"Download full transcript (as JSON)")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("a",{href:wt.api.base+"/transcript/"+e.id+"?REPORTER=csv&token="+t,rel:"noopener noreferrer",target:"_blank"},"Download full transcript (as CSV/Excel)")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("a",{href:wt.api.base+"/build/"+e.id+"?REPORTER=json&token="+t,rel:"noopener noreferrer",target:"_blank"},"Download test results (as JSON)")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("a",{href:wt.api.base+"/build/"+e.id+"?REPORTER=junit&token="+t,rel:"noopener noreferrer",target:"_blank"},"Download test results (as XML)")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("a",{href:wt.api.base+"/build/"+e.id+"?REPORTER=csv&token="+t,rel:"noopener noreferrer",target:"_blank"},"Download test results (as CSV/Excel)")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("a",{href:wt.api.base+"/build/"+e.id+"?REPORTER=pdf&token="+t,rel:"noopener noreferrer",target:"_blank"},"Download test result (as PDF)")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("a",{href:wt.api.base+"/build/"+e.id+"?REPORTER=jiracsv&token="+t,rel:"noopener noreferrer",target:"_blank"},"Export to JIRA (as CSV/Excel)")))}},{key:"render",value:function(){var e=this,t=this.props,a=t.setAlertSuccessMessage,n=t.setAlertErrorMessage,r=t.history,s=t.user,o=this.props,l=o.classes,c=o.match,u=this.state.filter;return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Test Result ...")),i.a.createElement(h.d,{query:Ci,variables:{id:c.params.id}},function(t){var o=t.loading,c=t.error,m=t.data;if(c)return i.a.createElement(Dn,{err:c});var d=m.testsession||{results:[],jobs:[]};return m.testsession&&fo({name:d.name,url:"/testsessions/view/".concat(d.id),type:"Test Session"}),i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,d.name)),i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:l.cardTitleWhite},!o&&i.a.createElement(Li,{testSession:d}),"Test Session '",o?"?":d.name,"' -"," ",!o&&i.a.createElement(_n,null,d.createdAt),!o&&d.client&&" - "+d.client.name)),i.a.createElement(yn,null,i.a.createElement(Aa,null,i.a.createElement(Di,{testSession:d},function(t){var a=t.testSessionProgress,n=a.chartData&&JSON.parse(a.chartData);return i.a.createElement(Ca,{xs:12,sm:2},i.a.createElement(Ia,null,i.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return e.setState({filter:Object(Ee.a)({},u,{showSucceeded:!0,showFailed:!0}),switchTabIndex:0})}},n?n.totalCount:"?"," Test Case(s)")),i.a.createElement(wa,null,i.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return e.setState({filter:Object(Ee.a)({},u,{showSucceeded:!0,showFailed:!1}),switchTabIndex:0})}},n?n.successCount:"?"," Test Case(s) succeeded")),i.a.createElement(Pa,null,i.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return e.setState({filter:Object(Ee.a)({},u,{showSucceeded:!1,showFailed:!0}),switchTabIndex:0})}},n?n.failedCount:"?"," Test Case(s) failed")),"READY"===a.status&&i.a.createElement(wa,null,"Status: ",a.status),"FAILED"===a.status&&i.a.createElement(Pa,null,"Status: ",a.status),"RUNNING"===a.status&&i.a.createElement(ti,null,"Status: ",a.status))}),i.a.createElement(Ca,{xs:12,sm:2},o&&i.a.createElement(ca.a,{size:120}),!o&&i.a.createElement(Sd,{testSession:d})),i.a.createElement(Di,{testSession:d},function(e){var t=e.testSessionProgress;return i.a.createElement(Ca,{xs:12,sm:3},i.a.createElement(Ia,null,t?t.jobs.length:"?"," Job(s)"),i.a.createElement(wa,null,t?t.jobs.filter(function(e){return"READY"===e.status}).length:"?"," ","Job(s) ready"),i.a.createElement(ti,null,t?t.jobs.filter(function(e){return"RUNNING"===e.status}).length:"?"," ","Job(s) running"),i.a.createElement(Pa,null,t?t.jobs.filter(function(e){return"FAILED"===e.status}).length:"?"," ","Job(s) failed"))}),i.a.createElement(Ca,{xs:12,sm:5},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},Fs({input:{},label:"Test Project",children:i.a.createElement(i.a.Fragment,null,d.testProject&&i.a.createElement(Ue.a,{to:"/testprojects/view/".concat(d.testProject.id)},i.a.createElement(_a.a,{label:d.testProject.name,clickable:!0})))})),i.a.createElement(Ca,{xs:12,sm:6},Fs({input:{},label:"Chatbot Under Test",children:i.a.createElement(i.a.Fragment,null,d.chatbot&&i.a.createElement(Ue.a,{to:"/chatbots/view/".concat(d.chatbot.id)},i.a.createElement(_a.a,{label:d.chatbot.name,clickable:!0})))})),i.a.createElement(Ca,{xs:12,sm:6},Fs({input:{},label:"Involved Test Sets",children:i.a.createElement(i.a.Fragment,null,d.testSets&&d.testSets.map(function(e){return i.a.createElement(Ue.a,{to:"/testsets/view/".concat(e.id),key:e.id},i.a.createElement(_a.a,{label:e.name,clickable:!0}))}))})),i.a.createElement(Ca,{xs:12,sm:6},Fs({input:{},label:"Involved Device Sets",children:i.a.createElement(i.a.Fragment,null,d.deviceSets&&d.deviceSets.length>0&&d.deviceSets.map(function(e){return i.a.createElement(Ue.a,{to:"/devicesets/view/".concat(e.id),key:e.id},i.a.createElement(_a.a,{label:e.name,clickable:!0}))}))}))))),i.a.createElement(rd,{headerColor:"info",initialValue:e.state.switchTabIndex,plainTabs:!0,tabs:[{tabName:"Test Cases",tabIcon:Mm.a,tabContent:!o&&e.renderList(d)},{tabName:"Test Session Jobs",tabIcon:Um.a,tabContent:!o&&e.renderJobs(d)},{tabName:"Security Scan",tabIcon:Hm.a,disable:!1,tabContent:!o&&e.renderSecurityScan(d)},{tabName:"Analytics & Downloads",tabIcon:zm.a,disabled:!Cd(s,"TESTSESSIONS_REPORTS"),tabContent:!o&&e.renderAnalytics(d)},{tabName:"Danger Zone",tabIcon:ne.a,disabled:!Ad(s,["TESTSESSIONS_DELETE","TESTSESSIONS_CREATE"]),tabContent:!o&&i.a.createElement(Aa,{key:"danger"},Cd(s,"TESTSESSIONS_DELETE")&&i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(h.c,{mutation:ji,onCompleted:function(e){a("Test Session deleted"),r.push("/testsessions/list")},onError:function(e){n("Test session deletion failed",e)},refetchQueries:[{query:Ai}]},function(e,t){t.loading,t.error;return i.a.createElement(yt,{color:"danger",onClick:function(){e({variables:{id:d.id}})}},i.a.createElement(Dm.a,null),"Delete Test Session and all results")})),Cd(s,"TESTSESSIONS_CREATE")&&i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(h.c,{mutation:Ni,onCompleted:function(e){a("Sent cancellation request to Test Session")},onError:function(e){n("Sending cancellation request to Test Session failed",e)}},function(e,t){t.loading,t.error;return i.a.createElement(yt,{color:"danger",onClick:function(){e({variables:{id:d.id}})}},i.a.createElement(Lm.a,null),"Send cancellation request to Test Session")})))}]})))))}))}},{key:"renderSecurityScan",value:function(e){return"premium"===wt.buildTarget?i.a.createElement(yd,{testSessionId:e.id}):i.a.createElement(or,null,i.a.createElement("p",null,"Security scans are not available in the community version. You can read more here: wiki"))}}]),t}(i.a.Component),Pd=Object(c.b)(function(e){return{token:e.token.token,user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(ni)(Id)),wd=a(100),Rd=a.n(wd),jd=a(43),Nd=jd.hasPermission,_d=jd.hasAnyPermission,Dd=function(e){if(!e||0===e.length)return 0;var t=e.slice().sort(function(e,t){return e-t}),a=Math.floor((t.length-1)/2),n=Math.ceil((t.length-1)/2);return(t[a]+t[n])/2},Fd=function(e){return e&&0!==e.length?e.slice().reduce(function(e,t){return t+e})/e.length:0},Ld=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={filter:{page:0,rowsPerPage:25},switchTabIndex:void 0},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderJobs",value:function(e){return i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Status","Agent","Started","Finished"],tableData:e&&e.jobs&&e.jobs.map(function(e){return[e.status,e.agentName,function(){return i.a.createElement(_n,null,e.started)},function(){return i.a.createElement(_n,null,e.finished)}]})})}},{key:"renderAnalytics",value:function(e){var t=this.props.token;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("a",{href:wt.api.base+"/performancebuild/"+e.id+"?REPORTER=json&token="+t,rel:"noopener noreferrer",target:"_blank"},"Download test results (as JSON)")),i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement("a",{href:wt.api.base+"/performancebuild/"+e.id+"?REPORTER=csv&token="+t,rel:"noopener noreferrer",target:"_blank"},"Download test results (as CSV/Excel)")))}},{key:"renderDangerZone",value:function(e,t,a){return i.a.createElement(Aa,{key:"danger"},Nd(a,"PERFORMANCETESTSESSIONS_DELETE")&&i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(h.c,{mutation:ho,onCompleted:function(e){Nt("Performance Test Session deleted"),t.push("/performancetestsessions/list")},onError:function(e){_t("Performance Test session deletion failed",e)},refetchQueries:[{query:po}]},function(t,a){a.loading,a.error;return i.a.createElement(yt,{color:"danger",onClick:function(){t({variables:{id:e.id}})}},i.a.createElement(Dm.a,null),"Delete Performance Test Session and all results")})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.history,n=t.user,r=this.props,s=r.classes,o=r.match;return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Performance Test Result ...")),i.a.createElement(h.d,{query:Eo,variables:{id:o.params.id}},function(t){var r=t.loading,l=t.error,c=t.data,u=t.refetch;return i.a.createElement(h.d,{query:bo,variables:{id:o.params.id}},function(t){var o=t.loading,m=t.error,d=t.data,p=t.refetch;if(l)return i.a.createElement(Dn,{err:l});if(m)return i.a.createElement(Dn,{err:m});var E=c.performancetestsession||{results:[],jobs:[]};c.performancetestsession&&fo({name:E.name,url:"/performancetestsessionss/view/".concat(E.id),type:"Performance Test Sessions"});var b=new Map,h=!0,g=!1,f=void 0;try{for(var S,v=E.results[Symbol.iterator]();!(h=(S=v.next()).done);h=!0){var T=S.value;b.has(T.stepIndex)||b.set(T.stepIndex,{stepIndex:T.stepIndex,execCount:0,execDurationMin:null,execDurationMax:null,execDurationSum:0,waitCount:0,waitDurationMin:null,waitDurationMax:null,waitDurationSum:0});var y=b.get(T.stepIndex),x=function(e,t,a){return isNaN(t)||null==t?a:isNaN(a)||null==a?t:e(t,a)};y.execCount+=T.execCount,y.execDurationMin=x(Math.min,T.execDurationMin,y.execDurationMin),y.execDurationMax=x(Math.max,T.execDurationMax,y.execDurationMax),y.execDurationSum+=T.execDurationSum,y.waitCount+=T.waitCount,y.waitDurationMin=x(Math.min,T.waitDurationMin,y.waitDurationMin),y.waitDurationMax=x(Math.max,T.waitDurationMax,y.waitDurationMax),y.waitDurationSum+=T.waitDurationSum}}catch(q){g=!0,f=q}finally{try{h||null==v.return||v.return()}finally{if(g)throw f}}var O=!0,C=!1,A=void 0;try{for(var k,I=b.values()[Symbol.iterator]();!(O=(k=I.next()).done);O=!0){var P=k.value;P.execCount&&(P.execDurationAvg=P.execDurationSum/P.execCount),P.waitCount&&(P.waitDurationAvg=P.waitDurationSum/P.waitCount)}}catch(q){C=!0,A=q}finally{try{O||null==I.return||I.return()}finally{if(C)throw A}}var w=Array.from(b.values()).sort(function(e,t){return e.stepIndex-t.stepIndex});console.log(w);var R,j=w&&w.length>0?w[w.length-1].stepIndex:1,N={labels:w.map(function(e){return e.stepIndex}),series:[{name:"Total Processed Convos",data:w.map(function(e){return{x:e.stepIndex,y:e.execCount}})},{name:"Total Delayed Convos",data:w.map(function(e){return{x:e.stepIndex,y:e.waitCount}})}]},_=Fd(w.map(function(e){return e.execCount})),D=Dd(w.map(function(e){return e.execCount})),F=Fd(w.map(function(e){return e.waitCount})),L=Dd(w.map(function(e){return e.waitCount})),V={labels:w.map(function(e){return e.stepIndex}),series:[{name:"Chatbot Response Time (avg)",data:w.filter(function(e){return null!=e.execDurationAvg}).map(function(e){return{x:e.stepIndex,y:e.execDurationAvg}})},{name:"Chatbot Response Time (min)",data:w.filter(function(e){return null!=e.execDurationMin}).map(function(e){return{x:e.stepIndex,y:e.execDurationMin}})},{name:"Chatbot Response Time (max)",data:w.filter(function(e){return null!=e.execDurationMax}).map(function(e){return{x:e.stepIndex,y:e.execDurationMax}})}]},M=Fd(w.filter(function(e){return null!=e.execDurationAvg}).map(function(e){return e.execDurationAvg})),B=Dd(w.filter(function(e){return null!=e.execDurationAvg}).map(function(e){return e.execDurationAvg})),U={labels:w.map(function(e){return e.stepIndex}),series:[{name:"Processing Delay (avg)",data:w.map(function(e){return{x:e.stepIndex,y:e.waitDurationAvg}})},{name:"Processing Delay (min)",data:w.map(function(e){return{x:e.stepIndex,y:e.waitDurationMin}})},{name:"Processing Delay (max)",data:w.map(function(e){return{x:e.stepIndex,y:e.waitDurationMax}})}]},W=Fd(w.filter(function(e){return null!=e.waitDurationAvg}).map(function(e){return e.waitDurationAvg})),H=Dd(w.filter(function(e){return null!=e.waitDurationAvg}).map(function(e){return e.waitDurationAvg})),G=(R=w.filter(function(e){return null!=e.execCount}).map(function(e){return e.execCount}))&&0!==R.length?R.slice().reduce(function(e,t){return t+e}):0,z=function(e){var t=e*E.dataDensity;return Ln.a.utc(t).format("HH:mm:ss")},$=function(e){return Ln.a.utc(e).format("mm:ss.SSS")};return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,E.name)),i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:s.cardTitleWhite},"Performance Test Session '",r?"?":E.name,"' -"," ",!r&&i.a.createElement(_n,null,E.createdAt))),i.a.createElement(yn,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Ia,null,E.description)),i.a.createElement(Ca,{xs:12},d.performancetestsessionstatus&&i.a.createElement(i.a.Fragment,null,"READY"===d.performancetestsessionstatus.status&&i.a.createElement(wa,null,"Status: ",d.performancetestsessionstatus.status),"FAILED"===d.performancetestsessionstatus.status&&i.a.createElement(Pa,null,"Status: ",d.performancetestsessionstatus.status),"READY"!==d.performancetestsessionstatus.status&&"FAILED"!==d.performancetestsessionstatus.status&&i.a.createElement(ti,null,"Status: ",d.performancetestsessionstatus.status,i.a.createElement(me.a,{"aria-label":"Refresh",onClick:function(){u(),p()}},i.a.createElement(rn.a,null)))),i.a.createElement(Ia,null,"Total Convos Processed: ",G),i.a.createElement(Ia,null,"Average Chatbot Response Time: ",$(M)),i.a.createElement(Ia,null,"Median Chatbot Response Time: ",$(B))))),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},Fs({input:{},label:"Test Project",children:i.a.createElement(i.a.Fragment,null,E.testProject&&i.a.createElement(Ue.a,{to:"/testprojects/view/".concat(E.testProject.id)},i.a.createElement(_a.a,{label:E.testProject.name,clickable:!0})))})),i.a.createElement(Ca,{xs:12,sm:6},Fs({input:{},label:"Chatbot Under Test",children:i.a.createElement(i.a.Fragment,null,E.chatbot&&i.a.createElement(Ue.a,{to:"/chatbots/view/".concat(E.chatbot.id)},i.a.createElement(_a.a,{label:E.chatbot.name,clickable:!0})))})),i.a.createElement(Ca,{xs:12,sm:6},Fs({input:{},label:"Involved Test Sets",children:i.a.createElement(i.a.Fragment,null,E.testSets&&E.testSets.map(function(e){return i.a.createElement(Ue.a,{to:"/testsets/view/".concat(e.id),key:e.id},i.a.createElement(_a.a,{label:e.name,clickable:!0}))}))})),i.a.createElement(Ca,{xs:12,sm:6},Fs({input:{},label:"Involved Device Sets",children:i.a.createElement(i.a.Fragment,null,E.deviceSets&&E.deviceSets.length>0&&E.deviceSets.map(function(e){return i.a.createElement(Ue.a,{to:"/devicesets/view/".concat(e.id),key:e.id},i.a.createElement(_a.a,{label:e.name,clickable:!0}))}))}))))),i.a.createElement(rd,{headerColor:"info",initialValue:e.state.switchTabIndex,plainTabs:!0,tabs:[{tabName:"Statistics",tabIcon:Mm.a,tabContent:i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement("h3",null,"Chatbot Response Time"),i.a.createElement(Ia,null,"Average: ",$(M)," Median: ",$(B)),i.a.createElement(Ia,null,"A constantly flat line means that the chatbot response times are constant, independent of the current load."),i.a.createElement(Pn,{refresh:!0,data:V,options:{showPoint:!1,axisX:{type:An.a.FixedScaleAxis,low:0,high:j,divisor:10,labelInterpolationFnc:z},axisY:{offset:70,labelInterpolationFnc:$}}}),i.a.createElement(at.a,null),i.a.createElement("h3",null,"Convo Processing Delay"),i.a.createElement(Ia,null,"Average: ",$(W)," Median: ",$(H)),i.a.createElement(Ia,null,"A high processing delay means that the chatbot is not able to handle the generated load. This may be an indicator that your chatbot is underperforming."),i.a.createElement(Pn,{refresh:!0,data:U,options:{showPoint:!1,axisX:{type:An.a.FixedScaleAxis,low:0,high:j,divisor:10,labelInterpolationFnc:z},axisY:{offset:70,labelInterpolationFnc:$}}}),i.a.createElement(at.a,null),i.a.createElement("h3",null,"Processed Convo Count"),i.a.createElement(Ia,null,"Processed Average: ",Math.round(_)," Median: ",Math.floor(D)),i.a.createElement(Ia,null,"Delayed Average: ",Math.round(F)," Median: ",Math.floor(L)),i.a.createElement(Ia,null,"A high number of delayed convos means that the chatbot is not able to handle the generated load. This may be an indicator that your chatbot is underperforming."),i.a.createElement(Pn,{refresh:!0,data:N,options:{showPoint:!1,axisX:{type:An.a.FixedScaleAxis,low:0,high:j,divisor:10,labelInterpolationFnc:z},axisY:{offset:70,labelInterpolationFnc:function(e){return"#"+e}}}})))},{tabName:"Performance Test Jobs",tabIcon:Um.a,tabContent:!(o||r)&&e.renderJobs(E)},{tabName:"Parameters",tabIcon:Rd.a,tabContent:i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Ia,null,"Time ",E.tickMaxTime," ms")),i.a.createElement(Ca,{xs:12},i.a.createElement(Ia,null,"Tick ",E.tickTime," ms")),i.a.createElement(Ca,{xs:12},i.a.createElement(Ia,null,E.tickRepeatInitial," repeats")),i.a.createElement(Ca,{xs:12},i.a.createElement(Ia,null,E.tickRepeatPerTick," repeats per tick")),i.a.createElement(Ca,{xs:12},i.a.createElement(Ia,null,"Parallel ",E.parallelConvoCount," convo")),i.a.createElement(Ca,{xs:12},i.a.createElement(Ia,null,"Parallel ",E.parallelJobCount," jobs")),i.a.createElement(Ca,{xs:12},i.a.createElement(Ia,null,"Data density ",E.dataDensity," ms")))},{tabName:"Analytics & Downloads",tabIcon:zm.a,disabled:!Nd(n,"PERFORMANCETESTSESSIONS_REPORTS"),tabContent:!(o||r)&&e.renderAnalytics(E)},{tabName:"Danger Zone",tabIcon:ne.a,disabled:!_d(n,["TESTSESSIONS_DELETE","TESTSESSIONS_CREATE"]),tabContent:!(o||r)&&e.renderDangerZone(E,a,n)}]}))))})}))}}]),t}(i.a.Component),Vd=Object(c.b)(function(e){return{token:e.token.token,user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(ni)(Ld)),Md=Object(Ee.a)({},ai),Bd=a(43).hasPermission,Ud=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Botium Agents")),i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:t.cardTitleWhite},"Botium Agents"),i.a.createElement("p",{className:t.cardCategoryWhite},"Listing all connected Botium Agents available for running your test cases")),i.a.createElement(yn,null,i.a.createElement(h.d,{query:ym,notifyOnNetworkStatusChange:!0},function(e){var t=e.loading,n=e.error,r=e.data,s=e.refetch;return n?i.a.createElement(Dn,{err:n}):i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Description","Heartbeat","Tags"],pageLoading:t,tableData:r&&r.agents&&r.agents.map(function(e){return[{value:e.name,href:"/agents/view/"+e.id},{value:e.description,href:"/agents/view/"+e.id},function(){return i.a.createElement(_n,null,e.heartbeat)},e.tags]}),onRefresh:function(){return s()}}))),Bd(a,"AGENTS_CREATE")&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},"premium"===wt.buildTarget&&i.a.createElement(Ue.a,{to:"/agents/register"},i.a.createElement(yt,{color:"primary"},i.a.createElement(Um.a,null),"Register new Agent")),"basic"===wt.buildTarget&&i.a.createElement(yt,{disabled:!0},i.a.createElement(Um.a,null),"Register new Agent"))))})))))}}]),t}(i.a.Component),Wd=Object(c.b)(function(e){return{user:e.token.user}})(te()(Md)(Ud)),Hd=a(136),Gd=a.n(Hd),zd=a(101),$d=a(43),qd=$d.hasPermission,Kd=$d.hasAnyPermission,Jd=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"hasWritePermission",value:function(){var e=this.props.user;return Kd(e,["AGENTS_CREATE","AGENTS_UPDATE"])}},{key:"renderForm",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=a.history,o=a.user;return i.a.createElement(h.c,{mutation:e.id?Am:Cm,onCompleted:function(e){e.updateAgent?n("Botium Agent updated"):e.createAgent&&(n("Botium Agent registered"),s.push("/agents/view/".concat(e.createAgent.id)))},onError:function(e){r("Botium Agent update failed",e)},refetchQueries:[{query:ym},{query:Ts}]},function(a,s){s.loading,s.error;return i.a.createElement(Bn.b,{mutators:Object(Ee.a)({},zd.a),onSubmit:function(t){if(e.id){var n={create:[],update:[],delete:[]};t.capabilities&&t.capabilities.forEach(function(e){e.id?n.update.push({where:{id:e.id},data:{name:e.name,type:e.type,stringValue:e.stringValue,intValue:e.intValue,booleanValue:e.booleanValue,jsonValue:e.jsonValue}}):n.create.push({name:e.name,type:e.type,stringValue:e.stringValue,intValue:e.intValue,booleanValue:e.booleanValue,jsonValue:e.jsonValue})}),e.capabilities&&e.capabilities.forEach(function(e){t.capabilities&&t.capabilities.find(function(t){return t.id&&e.id===t.id})||n.delete.push({id:e.id})}),a({variables:{id:t.id,agent:{name:t.name,description:t.description||null,tags:{set:t.tags},debug:t.debug,capabilities:n}}})}else a({variables:{agent:{name:t.name,description:t.description||null,tags:{set:t.tags},debug:t.debug,capabilities:{create:t.capabilities&&t.capabilities.map(function(e){return{name:e.name,type:e.type,stringValue:e.stringValue,intValue:e.intValue,booleanValue:e.booleanValue,jsonValue:e.jsonValue}})}}}})},initialValues:e,render:function(a){var s=a.handleSubmit,l=a.mutators,c=l.push,u=l.pop,m=(a.reset,a.submitting),d=a.pristine,p=a.invalid;a.values;return i.a.createElement("form",{onSubmit:s},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"name",component:Is,label:"Agent Name",validate:Ms,disabled:!t.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"tags",component:Os,label:"Tags",disabled:!t.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"description",component:ws,label:"Agent Description",rows:3,disabled:!t.hasWritePermission()}))),i.a.createElement(rd,{headerColor:"info",tabs:[{tabName:"Settings",tabIcon:Rd.a,tabContent:i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},"Heartbeat:"," ",i.a.createElement(_n,null,e.heartbeat))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"debug",component:js,label:"Enable diagnostics logging",type:"checkbox",disabled:!t.hasWritePermission()}))))},{tabName:"Capabilities",tabIcon:Gd.a,tabContent:i.a.createElement(Ko,{push:c,pop:u,field:"capabilities",disabled:!t.hasWritePermission()})},{tabName:"Danger Zone",tabIcon:ne.a,disabled:!qd(o,"AGENTS_DELETE"),tabContent:i.a.createElement(Aa,null,e.id&&i.a.createElement(Ca,{xs:12,sm:12},"premium"===wt.buildTarget&&i.a.createElement(h.c,{mutation:km,onCompleted:function(e){n("Botium Agent deleted"),t.props.history.push("/agents/list")},onError:function(e){r("Botium Agent deletion failed",e)},refetchQueries:[{query:ym}]},function(t,a){a.loading,a.error;return i.a.createElement(yt,{color:"danger",onClick:function(){t({variables:{id:e.id}})}},i.a.createElement(Dm.a,null),"Delete Botium Agent (only possible if not already used)")}),"basic"===wt.buildTarget&&i.a.createElement(yt,{color:"danger",disabled:!0},i.a.createElement(Dm.a,null),"Delete Botium Agent (only possible if not already used)")))}]}),t.hasWritePermission()&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{type:"submit",disabled:m||d||p,color:"primary"},i.a.createElement(bm.a,null),"Save"),i.a.createElement(Ue.a,{to:"/agents/list"},i.a.createElement(yt,null,i.a.createElement(Lm.a,null),"Cancel")))))}})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.match;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Botium Agent ...")),i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(fn,null,n.params&&n.params.id&&i.a.createElement(h.d,{query:Om,variables:{id:n.params.id}},function(t){var n=t.loading,r=t.error,s=t.data;return n?i.a.createElement(i.a.Fragment,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:a.cardTitleWhite},"Botium Agent ..."),i.a.createElement("p",{className:a.cardCategoryWhite},"Loading")),i.a.createElement(yn,null,i.a.createElement("p",null,"Loading..."))):r?i.a.createElement(Dn,{err:r}):(s.agent&&fo({name:s.agent.name,url:"/agents/view/".concat(s.agent.id),type:"Botium Agent"}),i.a.createElement(i.a.Fragment,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,s.agent&&s.agent.name)),i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:a.cardTitleWhite},"Botium Agent '",s.agent&&s.agent.name,"'"),i.a.createElement("p",{className:a.cardCategoryWhite},"Edit")),i.a.createElement(yn,null,e.renderForm(s.agent))))}),(!n.params||!n.params.id)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:a.cardTitleWhite},"Register Botium Agent")),i.a.createElement(yn,null,this.renderForm({tags:[]}))))))}}]),t}(i.a.Component),Xd=Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(Md)(Jd)),Qd=a(216),Yd=a.n(Qd),Zd=Object(Ee.a)({liveChatArea:{paddingTop:10,overflowY:"scroll",height:500}},ai),ep=a(43).hasPermission,tp=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Chatbots")),i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:t.cardTitleWhite},"Chatbots"),i.a.createElement("p",{className:t.cardCategoryWhite},"Listing all your Chatbots and environments")),i.a.createElement(yn,null,i.a.createElement(h.d,{query:Ou,notifyOnNetworkStatusChange:!0},function(e){var t=e.loading,n=e.error,r=e.data,s=e.refetch;return n?i.a.createElement(Dn,{err:n}):i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Description","Tags"],pageLoading:t,tableData:r&&r.chatbots&&r.chatbots.map(function(e){return[{value:e.name,href:"/chatbots/view/"+e.id},{value:e.description,href:"/chatbots/view/"+e.id},e.tags]}),onRefresh:function(){return s()}}))),ep(a,"CHATBOTS_CREATE")&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Ue.a,{to:"/chatbots/register"},i.a.createElement(yt,{color:"primary"},i.a.createElement(Yd.a,null),"Register new Chatbot")))))})))))}}]),t}(i.a.Component),ap=Object(c.b)(function(e){return{user:e.token.user}})(te()(Zd)(tp)),np=a(366),rp=a.n(np),sp=a(74),ip=a.n(sp),op=a(115),lp=a.n(op),cp=a(137),up=a.n(cp),mp=a(102),dp=a.n(mp),pp=a(138),Ep=a.n(pp),bp=a(367),hp=a(43),gp=hp.hasPermission,fp=hp.hasAnyPermission,Sp=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={advancedExpanded:!1,emptyChatbot:{retryUserSaysNumRetries:1,retryUserSaysFactor:1,retryUserSaysMinTimeout:1e3,retryUserSaysOnErrorRegexp:[],tags:[],capabilities:[],sources:[],envs:[]}},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"hasWritePermission",value:function(){var e=this.props.user;return fp(e,["CHATBOTS_CREATE","CHATBOTS_UPDATE"])}},{key:"getConnector",value:function(e){return(e&&e.find(function(e){return"CONTAINERMODE"===e.name})||{stringValue:"other"}).stringValue}},{key:"renderForm",value:function(e){var t=this,a=this.state.advancedExpanded,n=this.props,r=n.setAlertSuccessMessage,s=n.setAlertErrorMessage,o=n.history,l=n.user;e.connector=this.getConnector(e.capabilities),cu(e,e.capabilities);var c=Object(Qn.a)(e.capabilities||[]),u=Object(Qn.a)(e.sources||[]),m=Object(Qn.a)(e.envs||[]);return i.a.createElement(h.c,{mutation:e.id?Iu:ku,onCompleted:function(e){e.updateChatbot?r("Chatbot updated"):e.createChatbot&&(r("Chatbot registered"),o.push("/chatbots/view/".concat(e.createChatbot.id)))},onError:function(e){s("Chatbot update failed",e)},refetchQueries:[{query:Ou},{query:Ts}]},function(n,o){o.loading,o.error;return i.a.createElement(Bn.b,{mutators:Object(Ee.a)({},zd.a,{setFieldTouched:bp.a}),onSubmit:function(t){uu(t.connector,t,t.capabilities);var a=lu(t.capabilities,c),r=lu(t.sources,u),s=lu(t.envs,m);e.id?n({variables:{id:t.id,chatbot:{name:t.name,description:t.description||null,tags:{set:t.tags},allowHtmlDisplay:t.allowHtmlDisplay,retryUserSaysNumRetries:t.retryUserSaysNumRetries,retryUserSaysFactor:t.retryUserSaysFactor,retryUserSaysMinTimeout:t.retryUserSaysMinTimeout,retryUserSaysOnErrorRegexp:{set:t.retryUserSaysOnErrorRegexp},capabilities:a,sources:r,envs:s}}}):n({variables:{chatbot:{name:t.name,description:t.description||null,tags:{set:t.tags},allowHtmlDisplay:t.allowHtmlDisplay,retryUserSaysNumRetries:t.retryUserSaysNumRetries,retryUserSaysFactor:t.retryUserSaysFactor,retryUserSaysMinTimeout:t.retryUserSaysMinTimeout,retryUserSaysOnErrorRegexp:{set:t.retryUserSaysOnErrorRegexp},capabilities:{create:a.create},sources:{create:r.create},envs:{create:s.create}}}})},initialValues:e,render:function(n){var o=n.handleSubmit,c=n.form,u=c.mutators,m=u.push,d=u.pop,p=u.setFieldTouched,E=c.change,b=(n.reset,n.submitting),g=n.pristine,f=n.invalid,S=n.values;return i.a.createElement("form",{onSubmit:o},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"name",component:Is,label:"Chatbot Name",validate:Ms,disabled:!t.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"tags",component:Os,label:"Tags",disabled:!t.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"description",component:ws,label:"Chatbot Description",rows:3,disabled:!t.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(bc.a,{expanded:a,onChange:function(){return t.setState({advancedExpanded:!a})}},i.a.createElement(Sc.a,{expandIcon:i.a.createElement(va.a,null)},a?"Hide":"Show"," Advanced Settings"),i.a.createElement(gc.a,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(at.a,null),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"allowHtmlDisplay",component:js,label:"Allow native HTML Display",type:"checkbox",disabled:!t.hasWritePermission()}))),i.a.createElement(at.a,null),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"retryUserSaysNumRetries",component:Ps,label:"Retry Count",parse:parseInt,format:void 0,disabled:!t.hasWritePermission()}),i.a.createElement(or,null,"Number of retries in case a retry-able error has been identified (fill to show more options)")),Boolean(S.retryUserSaysNumRetries)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"retryUserSaysFactor",component:Ps,label:"Exponential increase of retries",parse:parseInt,format:void 0,validate:S.retryUserSaysNumRetries?function(){}:Bs,disabled:!t.hasWritePermission()}),i.a.createElement(or,null,"If more than one retry, you can decide to increase wait times between retries by applying a factor higher than 1 for calculating the time to wait for the next retry")),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"retryUserSaysMinTimeout",component:Ps,label:"Timeout to start the next retry (ms)",parse:parseInt,format:void 0,validate:S.retryUserSaysNumRetries?function(){}:Bs,disabled:!t.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"retryUserSaysOnErrorRegexp",component:Ds,suggestions:[],numsuggestions:1,keyFunc:function(e){return e},labelFunc:function(e){return e},addFunc:function(e){return e},label:"Error messages to retry (regexp)",validate:Ks(Us,S.retryUserSaysNumRetries?function(){}:Bs),disabled:!t.hasWritePermission()})))))))))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(mu,{advanced:!0,validate:Ms,disabled:!t.hasWritePermission()}))),i.a.createElement(rd,{headerColor:"info",tabs:[{tabName:"Capabilities",tabIcon:Gd.a,tabContent:i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(ti,null,"Be aware to comply with the terms of use of the chatbot provider and the business owner of the systems you are connecting.")),i.a.createElement(Ca,{xs:12},i.a.createElement(du,{push:m,pop:d,advanced:!0,disabled:!t.hasWritePermission(),change:E,values:S}))))},{tabName:"Source Settings",tabIcon:lp.a,tabContent:i.a.createElement(pu,{push:m,pop:d,disabled:!t.hasWritePermission()})},{tabName:"Environment Variables",tabIcon:up.a,tabContent:i.a.createElement(Eu,{push:m,pop:d,disabled:!t.hasWritePermission()})},{tabName:"Import/Export",tabIcon:dp.a,disabled:!t.hasWritePermission(),tabContent:i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"fileupload",component:Ls,values:S,change:E,label:"Select/Drop existing botium.json File",onFileLoaded:function(e,a){try{var n=JSON.parse(atob(a)),i=function(e,t){E(e,t),p(e,!0)},o=function(e){if(!e||!e.botium)throw new Error("No botium tag found in configuration");var t=function(e){return Object.keys(e).map(function(t){var a={name:t};return ja.a.isNumber(e[t])?(a.type="INT",a.intValue=e[t]):ja.a.isBoolean(e[t])?(a.type="BOOLEAN",a.booleanValue=e[t]):ja.a.isObject(e[t])?(a.type="JSON",a.jsonValue=JSON.stringify(e[t])):(a.type="STRING",a.stringValue=e[t]),a})};return{capabilities:e.botium.Capabilities&&t(e.botium.Capabilities)||[],sources:e.botium.Sources&&t(e.botium.Sources)||[],envs:e.botium.Envs&&t(e.botium.Envs)||[]}}(n),l=o.capabilities,c=o.sources,u=o.envs;i("capabilities",l),i("sources",c),i("envs",u),i("connector",t.getConnector(l)),cu(S,l,i);var m=l.find(function(e){return"PROJECTNAME"===e.name});m&&!S.name&&i("name",m.stringValue),r("Read capabilities from file ".concat(e))}catch(d){s("Reading capabilities from file ".concat(e," failed"),d)}E("fileupload",null)}})),i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{onClick:function(){uu(S.connector,S,S.capabilities);var e=function(e){var t=e.capabilities,a=e.sources,n=e.envs,r=function(e){var t={};return e.forEach(function(e){"INT"===e.type?t[e.name]=e.intValue:"BOOLEAN"===e.type?t[e.name]=e.booleanValue:"JSON"===e.type?t[e.name]=JSON.parse(e.jsonValue):"STRING"===e.type&&(t[e.name]=e.stringValue)}),t};return{botium:{Capabilities:t&&r(t)||[],Sources:a&&r(a)||[],Envs:n&&r(n)||[]}}}({capabilities:S.capabilities,sources:S.sources,envs:S.envs});rp()(JSON.stringify(e,null,2),"botium.json","application/json"),r("botium.json exported")}},"Export")))},{tabName:"Test Projects",tabIcon:Ep.a,tabContent:t.renderTestProjectsTab(e.id)},{tabName:"Danger Zone",tabIcon:ne.a,disabled:!gp(l,"CHATBOTS_DELETE"),tabContent:i.a.createElement(Aa,null,e.id&&i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(h.c,{mutation:Pu,onCompleted:function(e){r("Chatbot deleted"),t.props.history.push("/chatbots/list")},onError:function(e){s("Chatbot deletion failed",e)},refetchQueries:[{query:Ou}]},function(t,a){a.loading,a.error;return i.a.createElement(yt,{color:"danger",onClick:function(){t({variables:{id:e.id}})}},i.a.createElement(Dm.a,null),"Delete Chatbot (only possible if not already used)")})))}]}),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},t.hasWritePermission()&&i.a.createElement(yt,{type:"submit",disabled:b||g||f,color:"primary"},i.a.createElement(bm.a,null),"Save"),gp(l,"CHATBOTS_LIVECHAT")&&e.id&&!b&&i.a.createElement(Ue.a,{to:"/chatbots/livechat/".concat(e.id)},i.a.createElement(yt,null,i.a.createElement(ip.a,null),"Live Chat")),(!gp(l,"CHATBOTS_LIVECHAT")||!e.id||b)&&i.a.createElement(yt,{disabled:!0},i.a.createElement(ip.a,null),"Live Chat"),t.hasWritePermission()&&i.a.createElement(Ue.a,{to:"/chatbots/list"},i.a.createElement(yt,null,i.a.createElement(Lm.a,null),"Cancel")))))}})})}},{key:"renderTestProjectsTab",value:function(e){var t=this.props,a=t.setAlertSuccessMessage,n=t.setAlertErrorMessage;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement("h3",null,"Test Projects"),i.a.createElement(h.d,{query:wu,variables:{chatbotId:e}},function(t){var r=t.loading,s=t.error,o=t.data,l=t.refetch;return s?i.a.createElement(Dn,{err:s}):i.a.createElement(hn,{name:"Chatbot_".concat(e,"_TestProjects"),tableHeaderColor:"primary",tableHead:["Name","","Tags","Chatbot","Test Sets","Device Sets"],pageLoading:r,tableData:o&&o.testprojects&&o.testprojects.map(function(t){return[{value:t.name,href:"/testprojects/view/"+t.id},function(){return i.a.createElement(h.c,{mutation:to,onCompleted:function(e){console.log("aaa"),a("Test session started ...")},onError:function(e){n("Test session failed",e)},refetchQueries:function(t){var a=t.data,n=[{query:Ai},{query:Ru,variables:{chatbotId:e}}];if(a.startTestProject.testSets){var r=a.startTestProject.testSets.map(function(e){return{query:Vl,variables:{testSetId:e.id}}});n.push.apply(n,Object(Qn.a)(r))}return n}},function(e,a){a.loading,a.error;return i.a.createElement(me.a,{onClick:function(){e({variables:{id:t.id}})}},i.a.createElement(ip.a,null))})},t.tags,{value:t.chatbot.name,href:"/chatbots/view/"+t.chatbot.id},t.testSets.map(function(e){return e.name}),t.deviceSets&&t.deviceSets.map(function(e){return e.name})]}),onRefresh:function(){return l()}})})),i.a.createElement(Ca,{xs:12},i.a.createElement("h3",null,"Test Results"),i.a.createElement(h.d,{query:Ru,variables:{chatbotId:e}},function(t){var a=t.loading,n=t.error,r=t.data,s=t.refetch;return n?i.a.createElement(Dn,{err:n}):i.a.createElement(hn,{name:"Chatbot_".concat(e,"_TestSessions"),tableHeaderColor:"primary",tableHead:["","","Name","Date","Tags","Chatbot","Test Sets","Test Project"],pageLoading:a,tableData:r&&r.testsessions&&r.testsessions.map(function(e){return[function(){return i.a.createElement(Li,{testSession:e})},function(){return i.a.createElement(Mi,{testSession:e})},{value:e.name,href:"/testsessions/view/"+e.id},function(){return i.a.createElement(_n,null,e.createdAt)},e.tags,{value:e.chatbot.name,href:"/chatbots/view/"+e.chatbot.id},e.testSets.map(function(e){return e.name}),e.testProject&&{value:e.testProject.name,href:"/testprojects/view/"+e.testProject.id}]}),onRefresh:function(){return s()}})}))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.match;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Chatbot ...")),i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(fn,null,n.params&&n.params.id&&i.a.createElement(h.d,{query:Au,variables:{id:n.params.id}},function(t){var n=t.loading,r=t.error,s=t.data;return n?i.a.createElement(i.a.Fragment,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:a.cardTitleWhite},"Chatbot ..."),i.a.createElement("p",{className:a.cardCategoryWhite},"Loading")),i.a.createElement(yn,null,i.a.createElement("p",null,"Loading..."))):r?i.a.createElement(Dn,{err:r}):(s.chatbot&&fo({name:s.chatbot.name,url:"/chatbots/view/".concat(s.chatbot.id),type:"Chatbot"}),i.a.createElement(i.a.Fragment,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,s.chatbot&&s.chatbot.name)),i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:a.cardTitleWhite},"Chatbot '",s.chatbot&&s.chatbot.name,"'"),i.a.createElement("p",{className:a.cardCategoryWhite},s.chatbot.client&&s.chatbot.client.name)),i.a.createElement(yn,null,e.renderForm(s.chatbot))))}),(!n.params||!n.params.id)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:a.cardTitleWhite},"Register Chatbot")),i.a.createElement(yn,null,this.renderForm(this.state.emptyChatbot))))))}}]),t}(i.a.Component),vp=Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(Zd)(Sp)),Tp=a(368),yp=a.n(Tp),xp=a(369),Op=a.n(xp),Cp=a(217),Ap=a.n(Cp);function kp(){var e=Object(oa.a)(["\n  subscription LiveChatConvoStepAdded($conversationId: String!) {\n    liveChatConvoStepAdded(conversationId: $conversationId) { err convoStep }\n  }\n"]);return kp=function(){return e},e}var Ip=Object(da.a)(kp()),Pp=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={messagesList:[],code:null},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderSubscription",value:function(){var e=this,t=this.props,a=t.subscribeToConversationId,n=t.onSubscriptionReceivedData,r=t.onSubscriptionReceivedErr;if(a)return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.e,{subscription:Ip,variables:{conversationId:a},onSubscriptionData:function(t){var a=t.subscriptionData;a.data.liveChatConvoStepAdded&&(a.data.liveChatConvoStepAdded.convoStep&&(e.setState({messagesList:[].concat(Object(Qn.a)(e.state.messagesList),[JSON.parse(a.data.liveChatConvoStepAdded.convoStep)])}),n&&n(a.data.liveChatConvoStepAdded.convoStep)),a.data.liveChatConvoStepAdded.err&&r&&r(a.data.liveChatConvoStepAdded.err))}}))}},{key:"componentDidMount",value:function(){var e=this.props.messages;this.setMessages(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.messages,a=e.subscribeToConversationId;this.props.subscribeToConversationId&&this.props.subscribeToConversationId!==a?this.setState({messagesList:[]}):this.setMessages(t)}},{key:"setMessages",value:function(e){if(e){var t=[];if(ja.a.isArray(e))t=e;else if(ja.a.isString(e))try{if(t=JSON.parse(e),!ja.a.isArray(t))return}catch(a){return}t=t.map(function(e){return ja.a.isString(e)?JSON.parse(e):e}),this.setState({messagesList:t})}}},{key:"render",value:function(){var e=this,t=this.state.messagesList,a=this.props,n=a.classes,r=a.onButtonClick,s=a.allowHtmlDisplay;return i.a.createElement(i.a.Fragment,null,this.renderSubscription(),i.a.createElement(Gt.a,{component:"div"},t.map(function(t,a){return i.a.createElement($t.a,{key:a},"bot"===t.sender&&i.a.createElement(ld.a,null,i.a.createElement(Ia,null,i.a.createElement(ud.a,null))),i.a.createElement(Xt.a,{className:"me"===t.sender?n.senderMe:n.senderBot},"me"===t.sender&&t.buttons&&t.buttons.length>0&&i.a.createElement(Ia,null,"BUTTON ",t.buttons[0].payload||t.buttons[0].text),"me"===t.sender&&t.media&&t.media.length>0&&i.a.createElement(Ia,null,"MEDIA ",t.media[0].mediaUri),"me"===t.sender&&(!t.buttons||0===t.buttons.length)&&(!t.media||0===t.media.length)&&i.a.createElement(Ia,{isHtml:s},t.messageText),"bot"===t.sender&&t.messageText&&i.a.createElement(Ia,{isHtml:s},t.messageText),"bot"===t.sender&&t.buttons&&t.buttons.map(function(e,t){var a=e.text&&e.text.length>30?e.text.substr(0,27)+"...":e.text;return i.a.createElement(ei.a,{title:e.text,key:"button_"+t},i.a.createElement(_a.a,{label:a,onClick:function(t){return r&&r(t,e)}}))}),"bot"===t.sender&&t.media&&i.a.createElement(id,{images:t.media.map(function(e,t){return{imageSrc:e.mediaUri,title:e.altText,id:t}}),key:"images"}),"bot"===t.sender&&t.cards&&i.a.createElement(Aa,null,t.cards.map(function(e,t){return i.a.createElement(Ca,{xs:12,sm:12,md:6,key:t},i.a.createElement("div",{className:n.card},i.a.createElement(Aa,null,e.image&&i.a.createElement(Ca,{xs:12},i.a.createElement(id,{images:[{imageSrc:e.image.mediaUri,title:e.image.altText,id:t}],columns:{xs:12}})),e.text&&i.a.createElement(Ca,{xs:12},i.a.createElement(Ia,null,e.text)),e.buttons&&e.buttons.map(function(e,t){var a=e.text&&e.text.length>30?e.text.substr(0,27)+"...":e.text;return i.a.createElement(Ca,{xs:12,key:t},i.a.createElement(ei.a,{title:e.text,key:"button_"+t},i.a.createElement(_a.a,{label:a,onClick:function(t){return r&&r(t,e)}})))}))))}))),"me"===t.sender&&i.a.createElement(ld.a,null,i.a.createElement(Ia,null,i.a.createElement(dd.a,null))),i.a.createElement(ld.a,null,i.a.createElement(Ia,null,i.a.createElement(me.a,{"aria-label":"View Code",onClick:function(){return e.setState({code:t})}},i.a.createElement(Ed.a,null)))))})),i.a.createElement(cl,{cancelText:"Close",open:!!this.state.code,onCancel:function(){return e.setState({code:null})},title:"Botium Code"},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Fa.a,{autoFocus:!0,margin:"dense",label:"Actual Botium Code",fullWidth:!0,multiline:!0,rows:12,value:this.state.code&&JSON.stringify(ja.a.omit(this.state.code,["attachments"]),null,2)||"",readOnly:!0})),this.state.code&&this.state.code.attachments&&i.a.createElement(Ca,{xs:12},i.a.createElement(Aa,null,i.a.createElement(id,{images:this.state.code.attachments.map(function(e,t){return{base64:e.base64,id:t,title:e.name,mimeType:e.mimeType}}),columns:{xs:12,sm:6}}))))))}}]),t}(i.a.Component);Pp.defaultProps={};var wp=te()(bd)(Pp);function Rp(){var e=Object(oa.a)(["\n  mutation LiveChatSaveConvoSteps(\n    $chatbotId: ID!\n    $conversationId: String!\n    $testSetId: ID\n    $newTestSetName: String\n    $testCaseName: String!\n    $splitToConvoAndUtterancesMe: Boolean!\n    $splitToConvoAndUtterancesBot: Boolean!\n    $types: [String!]!\n  ) {\n    liveChatSaveConvoSteps(\n      chatbotId: $chatbotId\n      conversationId: $conversationId\n      testSetId: $testSetId\n      newTestSetName: $newTestSetName\n      testCaseName: $testCaseName\n      splitToConvoAndUtterancesMe: $splitToConvoAndUtterancesMe\n      splitToConvoAndUtterancesBot: $splitToConvoAndUtterancesBot\n      types: $types\n    )\n  }\n"]);return Rp=function(){return e},e}function jp(){var e=Object(oa.a)(["\n  mutation LiveChatStopBot($chatbotId: ID!, $conversationId: String!) {\n    liveChatStopBot(chatbotId: $chatbotId, conversationId: $conversationId)\n  }\n"]);return jp=function(){return e},e}function Np(){var e=Object(oa.a)(["\n  mutation LiveChatSendToBot($chatbotId: ID!, $conversationId: String!, $convoStep: String!) {\n    liveChatSendToBot(chatbotId: $chatbotId, conversationId: $conversationId, convoStep: $convoStep)\n  }\n"]);return Np=function(){return e},e}function _p(){var e=Object(oa.a)(["\n  mutation LiveChatStartBot($chatbotId: ID!) {\n    liveChatStartBot(chatbotId: $chatbotId)\n  }\n"]);return _p=function(){return e},e}var Dp=a(43),Fp=Dp.hasPermission,Lp=Dp.hasAnyPermission,Vp=Object(da.a)(_p()),Mp=Object(da.a)(Np()),Bp=Object(da.a)(jp()),Up=Object(da.a)(Rp()),Wp={text:"Text",intents:"Intents",entities:"Entities",buttons:"Buttons",media:"Media"},Hp=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={conversationId:null,textToSend:"",showSaveDialog:!1},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"componentWillUnmount",value:function(){var e=this.props.mutateStopChatbot,t=this.state.conversationId,a=this.getChatbotId();t&&e({variables:{chatbotId:a,conversationId:t}})}},{key:"scrollChatBottom",value:function(){var e=document.getElementById("liveChatArea");e&&(e.scrollTop=e.scrollHeight)}},{key:"renderChatWindow",value:function(e){var t=this,a=this.props.setAlertErrorMessage,n=this.props.classes,r=this.getChatbotId();return i.a.createElement(h.c,{mutation:Mp,onCompleted:function(e){t.setState({textToSend:""}),t.messageTextInput.focus()},onError:function(e){a("Chatbot message failed",e),t.messageTextInput.focus()}},function(s,o){var l=o.loading,c=(o.error,function(e){e.preventDefault(),t.state.conversationId&&s({variables:{chatbotId:r,conversationId:t.state.conversationId,convoStep:JSON.stringify({sender:"me",messageText:t.state.textToSend})}})});return i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement("div",{className:n.liveChatArea,id:"liveChatArea"},i.a.createElement(wp,{subscribeToConversationId:t.state.conversationId,onSubscriptionReceivedData:function(){return t.scrollChatBottom()},onSubscriptionReceivedErr:function(e){return a(e)},onButtonClick:function(e,a){e.preventDefault(),t.state.conversationId&&s({variables:{chatbotId:r,conversationId:t.state.conversationId,convoStep:JSON.stringify({sender:"me",messageText:a.payload||a.text,buttons:[a]})}})},allowHtmlDisplay:e.allowHtmlDisplay})))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:9},i.a.createElement(Fa.a,{name:"messageText",onChange:function(e){var a=e.target.value;return t.setState({textToSend:a})},onKeyPress:function(e){"Enter"===e.key&&c(e)},value:t.state.textToSend,disabled:l||!t.state.conversationId,margin:"dense",inputRef:function(e){t.messageTextInput=e},fullWidth:!0})),i.a.createElement(Ca,{xs:3},i.a.createElement(yt,{color:"primary",onClick:c,disabled:l||!t.state.conversationId||!t.state.textToSend,fullWidth:!0},i.a.createElement(yp.a,null)))))})}},{key:"renderChat",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=a.user,o=this.getChatbotId();return i.a.createElement(Aa,null,i.a.createElement(Z.a,{smDown:!0},i.a.createElement(Ca,{sm:3})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:4},i.a.createElement(h.c,{mutation:Vp,onCompleted:function(e){n("Chatbot connected"),t.setState({conversationId:e.liveChatStartBot})},onError:function(e){r("Chatbot connection failed",e)}},function(e,a){var n=a.loading;a.error;return i.a.createElement(yt,{onClick:function(){e({variables:{chatbotId:o}})},disabled:!(!n&&!t.state.conversationId),fullWidth:!0},i.a.createElement(ip.a,null),"Connect")})),i.a.createElement(Ca,{xs:4},i.a.createElement(h.c,{mutation:Bp,onCompleted:function(e){n("Chatbot disconnected"),t.setState({conversationId:null,textToSend:""})},onError:function(e){r("Chatbot disconnection failed (maybe idle timeout)",e),t.setState({conversationId:null,textToSend:""})}},function(e,a){var n=a.loading;a.error;return i.a.createElement(yt,{onClick:function(){e({variables:{chatbotId:o,conversationId:t.state.conversationId}})},disabled:!n&&!t.state.conversationId,fullWidth:!0},i.a.createElement(Op.a,null),"Disconnect")})),Lp(s,["TESTSETS_CREATE","TESTSETS_UPDATE"])&&i.a.createElement(Ca,{xs:4},this.renderSaveTestCaseDialog(),i.a.createElement(yt,{onClick:function(){return t.setState({showSaveDialog:!0})},disabled:!this.state.conversationId,fullWidth:!0},i.a.createElement(Ap.a,null),"Save as Test Case"))),this.renderChatWindow(e)))}},{key:"renderSaveTestCaseDialog",value:function(){var e=this,t=this.props,a=t.setAlertSuccessMessage,n=t.setAlertErrorMessage,r=t.user,s=this.getChatbotId();return i.a.createElement(h.c,{mutation:Up,onCompleted:function(t){e.setState({showSaveDialog:!1}),a("Test Case saved")},onError:function(e){n("Test Case saving failed",e)},refetchQueries:function(e){var t=e.data;return[{query:kl},{query:Fl,variables:{testSetId:t.liveChatSaveConvoSteps}}]}},function(t,a){a.loading,a.error;return i.a.createElement(Bn.b,{onSubmit:function(a){t({variables:{chatbotId:s,conversationId:e.state.conversationId,testSetId:a.testSetId,newTestSetName:a.newTestSetName,testCaseName:a.testCaseName,splitToConvoAndUtterancesMe:a.splitToConvoAndUtterancesMe,splitToConvoAndUtterancesBot:a.splitToConvoAndUtterancesBot,types:a.types}})},validate:function(e){var t={};return(!e.testSetId&&!e.newTestSetName||e.testSetId&&e.newTestSetName)&&(t.testSetId=t.newTestSetName="Select Test Set or create a new one"),t},initialValues:{splitToConvoAndUtterancesMe:!0,splitToConvoAndUtterancesBot:!0,types:Object.keys(Wp)},render:function(t){var a=t.handleSubmit;t.reset,t.submitting,t.pristine,t.values;return i.a.createElement(cl,{open:e.state.showSaveDialog,onCancel:function(){return e.setState({showSaveDialog:!1})},onOk:function(){return a()},title:"Save conversation as Test Case"},i.a.createElement("form",{onSubmit:a},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:kl},function(e){var t=e.loading,a=e.error,n=e.data;return t?i.a.createElement(ca.a,{size:50}):a?i.a.createElement(Dn,{err:a}):i.a.createElement(Bn.a,{name:"testSetId",component:_s,label:"Select Test Set"},n.testsets.map(function(e){return i.a.createElement(Ge.a,{key:e.id,value:e.id},e.name)}))})),Fp(r,"TESTSETS_CREATE")&&i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"newTestSetName",component:Is,label:"... or create new Test Set"})),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"testCaseName",component:Is,label:"Test Case Name",validate:Ms})),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"splitToConvoAndUtterancesMe",component:js,label:"Split user messages to Convo and Utterances",type:"checkbox"})),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"splitToConvoAndUtterancesBot",component:js,label:"Split bot messages to Convo and Utterances",type:"checkbox"})),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"types",component:_s,label:"Types to export",validate:Ms,multiple:!0,keyValueMap:Wp},Object.keys(Wp).map(function(e){return i.a.createElement(Ge.a,{key:e,value:e},Wp[e])}))))))}})})}},{key:"getChatbotId",value:function(){var e=this.props,t=e.match;return e.chatbotId||t.params.id}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.getChatbotId();return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Live Chat ...")),i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(fn,null,i.a.createElement(h.d,{query:Au,variables:{id:a}},function(a){var n=a.loading,r=a.error,s=a.data;return n?i.a.createElement(i.a.Fragment,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:t.cardTitleWhite},"Chatbot ..."),i.a.createElement("p",{className:t.cardCategoryWhite},"Loading")),i.a.createElement(yn,null,i.a.createElement("p",null,"Loading..."))):r?i.a.createElement(Dn,{err:r}):i.a.createElement(i.a.Fragment,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Live Chat with ".concat(s.chatbot&&s.chatbot.name))),i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:t.cardTitleWhite},"Chatbot '",s.chatbot&&s.chatbot.name,"'"),i.a.createElement("p",{className:t.cardCategoryWhite},"Live Chat")),i.a.createElement(yn,null,e.renderChat(s.chatbot)))}))))}}]),t}(i.a.Component);Hp.defaultProps={};var Gp=Object(h.g)(Bp,{props:function(e){var t=e.mutate;return{mutateStopChatbot:function(e){return t(e)}}}})(Hp),zp=Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(Zd)(Gp)),$p=(a(263),Object(Ee.a)({},ai)),qp=a(43).hasPermission,Kp=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Test Sets")),!1,i.a.createElement(Ca,{xs:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:t.cardTitleWhite},"Test Sets"),i.a.createElement("p",{className:t.cardCategoryWhite},"Listing all your available Test Sets")),i.a.createElement(yn,null,i.a.createElement(h.d,{query:kl,notifyOnNetworkStatusChange:!0},function(e){var t=e.loading,n=e.error,r=e.data,s=e.refetch;return n?i.a.createElement(Dn,{err:n}):i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Description","Tags"],pageLoading:t,tableData:r&&r.testsets&&r.testsets.map(function(e){return[{value:e.name,href:"/testsets/view/"+e.id},{value:e.description,href:"/testsets/view/"+e.id},e.tags]}),onRefresh:function(){return s()}}))),qp(a,"TESTSETS_CREATE")&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Ue.a,{to:"/testsets/register"},i.a.createElement(yt,{color:"primary"},i.a.createElement(Yd.a,null),"Register new Test Set")))))})))))}}]),t}(i.a.Component),Jp=Object(c.b)(function(e){return{user:e.token.user}})(te()($p)(Kp)),Xp=a(162),Qp=a.n(Xp),Yp=a(218),Zp=a.n(Yp),eE=a(370),tE=a.n(eE),aE=a(371),nE=a.n(aE);function rE(){var e=Object(oa.a)(["\n  mutation DeleteTestSetScript($id: ID!) {\n    deleteTestSetScript(id: $id)\n  }\n"]);return rE=function(){return e},e}function sE(){var e=Object(oa.a)(["\n  mutation UpdateTestSetScript(\n    $id: ID!\n    $testSetScript: TestSetScriptUpdateInput!\n  ) {\n    updateTestSetScript(id: $id, testSetScript: $testSetScript) {\n      ...FullTestSetScript\n    }\n  }\n  ","\n"]);return sE=function(){return e},e}function iE(){var e=Object(oa.a)(["\n  mutation CreateTestSetScript($testSetScript: TestSetScriptCreateInput!) {\n    createTestSetScript(testSetScript: $testSetScript) {\n      ...FullTestSetScript\n    }\n  }\n  ","\n"]);return iE=function(){return e},e}function oE(){var e=Object(oa.a)(["\n  query ValidateTestSetScriptQuery(\n    $script: String!\n    $scriptType: TestSetScriptType!\n  ) {\n    validatetestsetscript(script: $script, scriptType: $scriptType) {\n      name\n      description\n      script\n      scriptType\n    }\n  }\n"]);return oE=function(){return e},e}function lE(){var e=Object(oa.a)(["\n  query TestSetScriptQuery($id: ID!) {\n    testsetscript(id: $id) {\n      ...FullTestSetScript\n    }\n  }\n  ","\n"]);return lE=function(){return e},e}function cE(){var e=Object(oa.a)(["\n  fragment FullTestSetScript on TestSetScript {\n    id\n    createdAt\n    updatedAt\n    name\n    description\n    script\n    scriptType\n    testSet {\n      id\n      name\n    }\n  }\n"]);return cE=function(){return e},e}var uE=a(43).hasAnyPermission,mE=Object(da.a)(cE()),dE=Object(da.a)(lE(),mE),pE=Object(da.a)(oE()),EE=Object(da.a)(iE(),mE),bE=Object(da.a)(sE(),mE),hE=Object(da.a)(rE()),gE=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"hasWritePermission",value:function(){var e=this.props.user;return uE(e,["TESTSETS_CREATE","TESTSETS_UPDATE"])}},{key:"validate",value:function(e,t){var a=this;return this.hasWritePermission()&&e.query({query:pE,variables:{script:t.script||"",scriptType:t.scriptType}}).then(function(e){var t=e.data;return t.validatetestsetscript?t.validatetestsetscript.name?void(a.validatetestsetscript=t.validatetestsetscript):{script:"Test Script name missing (first line)"}:{script:"Test Script compilation failed"}}).catch(function(e){return{script:"Test Script compilation failed"}})}},{key:"renderForm",value:function(e,t,a){var n=this,r=this.props,s=r.setAlertSuccessMessage,o=r.setAlertErrorMessage,l=r.history;return i.a.createElement(h.c,{mutation:t.id?bE:EE,onCompleted:function(e){l.push("/testsets/view/".concat(a)),s("Test Script ready for use")},onError:function(e){o("Test Script compilation failed",e)},refetchQueries:[{query:Fl,variables:{testSetId:a}},{query:kl},{query:Rl,variables:{id:a}}]},function(r,c){c.loading,c.error;return i.a.createElement(Bn.b,{onSubmit:function(e){t.id?r({variables:{id:e.id,testSetScript:{name:n.validatetestsetscript.name,description:n.validatetestsetscript.description||null,script:e.script,scriptType:e.scriptType}}}).then(function(){return n.props.history.push("/testsets/view/"+a)}):r({variables:{testSetScript:{name:n.validatetestsetscript.name,description:n.validatetestsetscript.description,script:e.script,scriptType:e.scriptType,testSet:{connect:{id:a}}}}}).then(function(){return n.props.history.push("/testsets/view/"+a)})},initialValues:t,validate:n.validate.bind(n,e),render:function(e){var r=e.handleSubmit,c=(e.reset,e.submitting),u=e.pristine,m=e.invalid;e.values;return i.a.createElement("form",{onSubmit:r},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"scriptType",component:_s,label:"Script Type",validate:Ms,disabled:!n.hasWritePermission()},i.a.createElement(Ge.a,{value:"SCRIPTING_TYPE_CONVO"},"Convo File"),i.a.createElement(Ge.a,{value:"SCRIPTING_TYPE_PCONVO"},"Partial Convo File"),i.a.createElement(Ge.a,{value:"SCRIPTING_TYPE_UTTERANCES"},"Utterances File"),i.a.createElement(Ge.a,{value:"SCRIPTING_TYPE_SCRIPTING_MEMORY"},"Scripting Memory File")))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"script",component:Rs,label:"Test Case Script",rows:30,validate:Ms,disabled:!n.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},n.hasWritePermission()&&i.a.createElement(yt,{type:"submit",disabled:c||u||m,color:"primary"},i.a.createElement(bm.a,null),"Save"),t.id&&n.hasWritePermission()&&i.a.createElement(h.c,{mutation:hE,onCompleted:function(e){s("Test Script deleted"),l.push("/testsets/view/".concat(a))},onError:function(e){o("Test Script deletion failed",e)},refetchQueries:[{query:Fl,variables:{testSetId:a}}]},function(e,a){a.loading,a.error;return i.a.createElement(yt,{color:"danger",onClick:function(){e({variables:{id:t.id}})}},i.a.createElement(Dm.a,null),"Delete Test Script")}),i.a.createElement(Ue.a,{to:"/testsets/view/".concat(a)},i.a.createElement(yt,null,i.a.createElement(Lm.a,null),"Cancel")))))}})})}},{key:"render",value:function(){var e=this,t=this.props.match;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(h.a,null,function(a){return t.params&&t.params.id?i.a.createElement(h.d,{query:dE,variables:{id:t.params.id}},function(t){var n=t.loading,r=t.error,s=t.data;return n?i.a.createElement("p",null,"Loading..."):r?i.a.createElement(Dn,{err:r}):e.renderForm(a,s.testsetscript,s.testsetscript.testSet.id)}):t.params&&t.params.id?void 0:e.renderForm(a,{scriptType:"SCRIPTING_TYPE_CONVO"},t.params.testSetId)})))}}]),t}(i.a.Component),fE=Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()($p)(gE));function SE(){var e=Object(oa.a)(["\n  mutation DeleteTestSetRepository($id: ID!) {\n    deleteTestSetRepository(id: $id)\n  }\n"]);return SE=function(){return e},e}function vE(){var e=Object(oa.a)(["\n  mutation UpdateTestSetRepository(\n    $id: ID!\n    $testSetRepository: TestSetRepositoryUpdateInput!\n  ) {\n    updateTestSetRepository(id: $id, testSetRepository: $testSetRepository) {\n      ...FullTestSetRepository\n    }\n  }\n  ","\n"]);return vE=function(){return e},e}function TE(){var e=Object(oa.a)(["\n  mutation CreateTestSetRepository(\n    $testSetRepository: TestSetRepositoryCreateInput!\n  ) {\n    createTestSetRepository(testSetRepository: $testSetRepository) {\n      ...FullTestSetRepository\n    }\n  }\n  ","\n"]);return TE=function(){return e},e}function yE(){var e=Object(oa.a)(["\n  query TestSetRepositoryQuery($id: ID!) {\n    testsetrepository(id: $id) {\n      ...FullTestSetRepository\n    }\n  }\n  ","\n"]);return yE=function(){return e},e}function xE(){var e=Object(oa.a)(["\n  fragment FullTestSetRepository on TestSetRepository {\n    id\n    createdAt\n    updatedAt\n    name\n    giturl\n    gitbranch\n    gitdir\n    gituser\n    globFilter\n    testSet {\n      id\n      name\n    }\n  }\n"]);return xE=function(){return e},e}var OE=a(43).hasAnyPermission,CE=Object(da.a)(xE()),AE=Object(da.a)(yE(),CE),kE=Object(da.a)(TE(),CE),IE=Object(da.a)(vE(),CE),PE=Object(da.a)(SE()),wE=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"hasWritePermission",value:function(){var e=this.props.user;return OE(e,["TESTSETS_CREATE","TESTSETS_UPDATE"])}},{key:"validate",value:function(e){return{}}},{key:"renderForm",value:function(e,t){var a=this,n=this.props,r=n.setAlertSuccessMessage,s=n.setAlertErrorMessage,o=n.history;return i.a.createElement(h.c,{mutation:e.id?IE:kE,onCompleted:function(e){o.push("/testsets/view/".concat(t)),r("Git Repository ready for use")},onError:function(e){s("Git Repository registration failed",e)},refetchQueries:[{query:Fl,variables:{testSetId:t}},{query:kl},{query:Rl,variables:{id:t}}]},function(n,o){o.loading,o.error;return i.a.createElement(Bn.b,{onSubmit:function(a){var r={name:a.name,giturl:a.giturl,gitbranch:a.gitbranch||null,gitdir:a.gitdir||null,gituser:a.gituser||null,globFilter:a.globFilter||null};a.gitpassword&&(r.gitpassword=a.gitpassword),e.id?n({variables:{id:a.id,testSetRepository:r}}):(r.testSet={connect:{id:t}},n({variables:{testSetRepository:r}}))},initialValues:e,validate:a.validate,render:function(n){var o=n.handleSubmit,l=(n.reset,n.submitting),c=n.pristine,u=n.invalid;n.values;return i.a.createElement("form",{onSubmit:o},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(Bn.a,{name:"name",component:Is,label:"Repository Name",validate:Ms,disabled:!a.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(Bn.a,{name:"giturl",component:Is,label:"Git Clone Url",validate:Ms,disabled:!a.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"gituser",component:Is,label:"Git User (optional)",disabled:!a.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"gitpassword",component:ks,label:e.id?"Change Git Password (optional)":"Git Password (optional)",disabled:!a.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"Only specify Git credentials for write access to this repository."))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"gitbranch",component:Is,label:"Git Branch",validate:Ms,disabled:!a.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"gitdir",component:Is,label:"Relative Path in Repository",disabled:!a.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"globFilter",component:Is,label:'Optional "glob" filename filter',helperText:'Botium Box uses "glob" style filename filters to restrict the set of read files, for example "**/*.en.txt"',disabled:!a.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},a.hasWritePermission()&&i.a.createElement(yt,{type:"submit",disabled:l||c||u,color:"primary"},i.a.createElement(bm.a,null),"Save"),e.id&&a.hasWritePermission()&&i.a.createElement(h.c,{mutation:PE,onCompleted:function(e){a.props.history.push("/testsets/view/"+t),r("Git Repository unregistered")},onError:function(e){s("Git Repository unregistration failed",e)},refetchQueries:[{query:Fl,variables:{testSetId:t}}]},function(t,a){a.loading,a.error;return i.a.createElement(yt,{color:"danger",onClick:function(){t({variables:{id:e.id}})}},i.a.createElement(Dm.a,null),"Unregister Git Repository")}),i.a.createElement(Ue.a,{to:"/testsets/view/".concat(t)},i.a.createElement(yt,null,i.a.createElement(Lm.a,null),"Cancel")))))}})})}},{key:"render",value:function(){var e=this,t=this.props.match;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12,md:12},t.params&&t.params.id&&i.a.createElement(h.d,{query:AE,variables:{id:t.params.id}},function(t){var a=t.loading,n=t.error,r=t.data;return a?i.a.createElement("p",null,"Loading..."):n?i.a.createElement(Dn,{err:n}):e.renderForm(r.testsetrepository,r.testsetrepository.testSet.id)}),(!t.params||!t.params.id)&&this.renderForm({gitbranch:"master"},t.params.testSetId)))}}]),t}(i.a.Component),RE=Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()($p)(wE));function jE(){var e=Object(oa.a)(["\n  mutation DeleteTestSetFolder($id: ID!) {\n    deleteTestSetFolder(id: $id)\n  }\n"]);return jE=function(){return e},e}function NE(){var e=Object(oa.a)(["\n  mutation UpdateTestSetFolder(\n    $id: ID!\n    $testSetFolder: TestSetFolderUpdateInput!\n  ) {\n    updateTestSetFolder(id: $id, testSetFolder: $testSetFolder) {\n      ...FullTestSetFolder\n    }\n  }\n  ","\n"]);return NE=function(){return e},e}function _E(){var e=Object(oa.a)(["\n  mutation CreateTestSetFolder($testSetFolder: TestSetFolderCreateInput!) {\n    createTestSetFolder(testSetFolder: $testSetFolder) {\n      ...FullTestSetFolder\n    }\n  }\n  ","\n"]);return _E=function(){return e},e}function DE(){var e=Object(oa.a)(["\n  query TestSetFolderQuery($id: ID!) {\n    testsetfolder(id: $id) {\n      ...FullTestSetFolder\n    }\n  }\n  ","\n"]);return DE=function(){return e},e}function FE(){var e=Object(oa.a)(["\n  fragment FullTestSetFolder on TestSetFolder {\n    id\n    createdAt\n    updatedAt\n    name\n    path\n    globFilter\n    testSet {\n      id\n      name\n    }\n  }\n"]);return FE=function(){return e},e}var LE=a(43).hasAnyPermission,VE=Object(da.a)(FE()),ME=Object(da.a)(DE(),VE),BE=Object(da.a)(_E(),VE),UE=Object(da.a)(NE(),VE),WE=Object(da.a)(jE()),HE=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"hasWritePermission",value:function(){var e=this.props.user;return LE(e,["TESTSETS_CREATE","TESTSETS_UPDATE"])}},{key:"validate",value:function(e){return{}}},{key:"renderForm",value:function(e,t){var a=this,n=this.props,r=n.setAlertSuccessMessage,s=n.setAlertErrorMessage,o=n.history;return i.a.createElement(h.c,{mutation:e.id?UE:BE,onCompleted:function(e){o.push("/testsets/view/".concat(t)),r("Shared Folder ready for use")},onError:function(e){s("Shared Folder registration failed",e)},refetchQueries:[{query:Fl,variables:{testSetId:t}},{query:kl},{query:Rl,variables:{id:t}}]},function(n,o){o.loading,o.error;return i.a.createElement(Bn.b,{onSubmit:function(a){e.id?n({variables:{id:a.id,testSetFolder:{name:a.name,path:a.path,globFilter:a.globFilter||null}}}):n({variables:{testSetFolder:{name:a.name,path:a.path,globFilter:a.globFilter||null,testSet:{connect:{id:t}}}}})},initialValues:e,validate:a.validate,render:function(n){var o=n.handleSubmit,l=(n.reset,n.submitting),c=n.pristine,u=n.invalid;n.values;return i.a.createElement("form",{onSubmit:o},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"name",component:Is,label:"Folder Name",validate:Ms,disabled:!a.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"path",component:Is,label:"Absolute Folder Path",validate:Ms,disabled:!a.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"globFilter",component:Is,label:'Optional "glob" filename filter',helperText:'Botium Box uses "glob" style filename filters to restrict the set of read files, for example "**/*.en.txt"',disabled:!a.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},a.hasWritePermission()&&i.a.createElement(yt,{type:"submit",disabled:l||c||u,color:"primary"},i.a.createElement(bm.a,null),"Save"),e.id&&a.hasWritePermission()&&i.a.createElement(h.c,{mutation:WE,onCompleted:function(e){a.props.history.push("/testsets/view/"+t),r("Shared Folder unregistered")},onError:function(e){s("Shared Folder unregistration failed",e)},refetchQueries:[{query:Fl,variables:{testSetId:t}}]},function(t,a){a.loading,a.error;return i.a.createElement(yt,{color:"danger",onClick:function(){t({variables:{id:e.id}})}},i.a.createElement(Dm.a,null),"Unregister Shared Folder")}),i.a.createElement(Ue.a,{to:"/testsets/view/".concat(t)},i.a.createElement(yt,null,i.a.createElement(Lm.a,null),"Cancel")))))}})})}},{key:"render",value:function(){var e=this,t=this.props.match;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12,md:12},t.params&&t.params.id&&i.a.createElement(h.d,{query:ME,variables:{id:t.params.id}},function(t){var a=t.loading,n=t.error,r=t.data;return a?i.a.createElement("p",null,"Loading..."):n?i.a.createElement(Dn,{err:n}):e.renderForm(r.testsetfolder,r.testsetfolder.testSet.id)}),(!t.params||!t.params.id)&&this.renderForm({gitbranch:"master"},t.params.testSetId)))}}]),t}(i.a.Component),GE=Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()($p)(HE));function zE(){var e=Object(oa.a)(["\n  mutation DeleteTestSetExcel($id: ID!) {\n    deleteTestSetExcel(id: $id)\n  }\n"]);return zE=function(){return e},e}function $E(){var e=Object(oa.a)(["\n  mutation UpdateTestSetExcel(\n    $id: ID!\n    $testSetExcel: TestSetExcelUpdateInput!\n  ) {\n    updateTestSetExcel(id: $id, testSetExcel: $testSetExcel) {\n      ...FullTestSetExcel\n    }\n  }\n  ","\n"]);return $E=function(){return e},e}function qE(){var e=Object(oa.a)(["\n  mutation CreateTestSetExcel($testSetExcel: TestSetExcelCreateInput!) {\n    createTestSetExcel(testSetExcel: $testSetExcel) {\n      ...FullTestSetExcel\n    }\n  }\n  ","\n"]);return qE=function(){return e},e}function KE(){var e=Object(oa.a)(["\n  query TestSetExcelQuery($id: ID!) {\n    testsetexcel(id: $id) {\n      ...FullTestSetExcel\n    }\n  }\n  ","\n"]);return KE=function(){return e},e}function JE(){var e=Object(oa.a)(["\n  fragment FullTestSetExcel on TestSetExcel {\n    id\n    createdAt\n    updatedAt\n    name\n    filename\n    testSet {\n      id\n      name\n    }\n  }\n"]);return JE=function(){return e},e}var XE=a(43).hasAnyPermission,QE=Object(da.a)(JE()),YE=Object(da.a)(KE(),QE),ZE=Object(da.a)(qE(),QE),eb=Object(da.a)($E(),QE),tb=Object(da.a)(zE()),ab=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={filecontent:null},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"hasWritePermission",value:function(){var e=this.props.user;return XE(e,["TESTSETS_CREATE","TESTSETS_UPDATE"])}},{key:"validate",value:function(e){return{}}},{key:"renderForm",value:function(e,t){var a=this,n=this.props,r=n.token,s=n.setAlertSuccessMessage,o=n.setAlertErrorMessage,l=n.history;return i.a.createElement(h.c,{mutation:e.id?eb:ZE,onCompleted:function(e){l.push("/testsets/view/".concat(t)),s("Excel ready for use")},onError:function(e){o("Excel registration failed",e)},refetchQueries:[{query:Fl,variables:{testSetId:t}},{query:kl},{query:Rl,variables:{id:t}}]},function(n,l){l.loading,l.error;return i.a.createElement(Bn.b,{onSubmit:function(a){e.id?n({variables:{id:a.id,testSetExcel:{name:a.name,filename:a.filename,filecontent:a.filecontent}}}):n({variables:{testSetExcel:{name:a.name,filename:a.filename,filecontent:a.filecontent,testSet:{connect:{id:t}}}}})},initialValues:e,validate:a.validate,render:function(n){var l=n.handleSubmit,c=n.submitting,u=n.pristine,m=(n.invalid,n.values),d=n.form.change;return i.a.createElement("form",{onSubmit:l},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"name",component:Is,label:"Excel Name",validate:Ms,disabled:!a.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"filename",component:Is,label:"Filename",disabled:!0}),e.id&&i.a.createElement("a",{href:wt.api.base+"/uploads/excel/"+e.id+"?token="+r},"Download")),a.hasWritePermission()&&i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"fileupload",component:Ls,label:"Select/Drop new Botium Excel File",values:m,change:d,validate:!e.id&&Ms,onFileLoaded:function(e,t){d("filename",e),d("filecontent",t)}}),i.a.createElement(or,null,"Depending on your database backend, there may be size restrictions for uploaded files."))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},a.hasWritePermission()&&i.a.createElement(yt,{type:"submit",disabled:c||u,color:"primary"},i.a.createElement(bm.a,null),"Save"),e.id&&a.hasWritePermission()&&i.a.createElement(h.c,{mutation:tb,onCompleted:function(e){a.props.history.push("/testsets/view/"+t),s("Excel unregistered")},onError:function(e){o("Excel unregistration failed",e)},refetchQueries:[{query:Fl,variables:{testSetId:t}}]},function(t,a){a.loading,a.error;return i.a.createElement(yt,{color:"danger",onClick:function(){t({variables:{id:e.id}})}},i.a.createElement(Dm.a,null),"Unregister Shared Excel")}),i.a.createElement(Ue.a,{to:"/testsets/view/".concat(t)},i.a.createElement(yt,null,i.a.createElement(Lm.a,null),"Cancel")))))}})})}},{key:"render",value:function(){var e=this,t=this.props.match;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12,md:12},t.params&&t.params.id&&i.a.createElement(h.d,{query:YE,variables:{id:t.params.id}},function(t){var a=t.loading,n=t.error,r=t.data;return a?i.a.createElement("p",null,"Loading..."):n?i.a.createElement(Dn,{err:n}):e.renderForm(r.testsetexcel,r.testsetexcel.testSet.id)}),(!t.params||!t.params.id)&&this.renderForm({},t.params.testSetId)))}}]),t}(i.a.Component),nb=Object(c.b)(function(e){return{token:e.token.token,user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()($p)(ab)),rb=a(43),sb=rb.hasPermission,ib=rb.hasAnyPermission,ob=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={advancedExpanded:!1,excelExpanded:!1,showCloneDialog:!1,showExportToFolderDialog:!1,selectedFolder:null,showExportToGitDialog:!1,selectedRepository:null,exportAnchorEl:null,showImportFromZipDialog:!1,importAnchorEl:null},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"hasWritePermission",value:function(){var e=this.props.user;return ib(e,["TESTSETS_CREATE","TESTSETS_UPDATE"])}},{key:"renderDependenciesSelection",value:function(){var e=this;return i.a.createElement(h.d,{query:kl},function(t){var a=t.loading,n=t.error,r=t.data;return a?i.a.createElement("p",null,"Loading..."):n?i.a.createElement(Dn,{err:n}):i.a.createElement(Bn.a,{name:"dependencies",component:Ds,label:"Select Dependencies",suggestions:r&&r.testsets,numsuggestions:30,keyFunc:function(e){return e.id},labelFunc:function(e){return e.name},disabled:!e.hasWritePermission()})})}},{key:"renderForm",value:function(e){var t=this,a=this.state,n=a.advancedExpanded,r=a.excelExpanded,s=this.props,o=s.setAlertSuccessMessage,l=s.setAlertErrorMessage,c=s.history,u=s.user;return i.a.createElement(h.c,{mutation:e.id?Nl:jl,onCompleted:function(e){e.updateTestSet?o("Test Set updated"):e.createTestSet&&(o("Test Set registered"),c.push("/testsets/view/".concat(e.createTestSet.id)))},onError:function(e){l("Test Set update failed",e)},refetchQueries:[{query:kl},{query:Ts}]},function(a,s){s.loading,s.error;return i.a.createElement(Bn.b,{mutators:Object(Ee.a)({},zd.a),onSubmit:function(t){e.id?a({variables:{id:t.id,testSet:{name:t.name,description:t.description||null,tags:{set:t.tags},useMatchingMode:t.useMatchingMode,expandConvos:t.expandConvos,expandConvosMode:t.expandConvosMode,expandConvosModeRandomCount:t.expandConvosModeRandomCount,expandUtterancesToConvos:t.expandUtterancesToConvos,expandUtterancesIncomprehension:t.expandUtterancesIncomprehension||null,useScriptingMemory:t.useScriptingMemory,useScriptingMemoryMatchingMode:t.useScriptingMemoryMatchingMode,expandScriptingMemory:t.expandScriptingMemory,normalizeText:t.normalizeText,excelHasConvos:t.excelHasConvos,excelHasPartialConvos:t.excelHasPartialConvos,excelHasUtterances:t.excelHasUtterances,excelWorksheetsConvos:t.excelWorksheetsConvos||null,excelWorksheetsPartialConvos:t.excelWorksheetsPartialConvos||null,excelWorksheetsUtterances:t.excelWorksheetsUtterances||null,excelStartRow:t.excelStartRow,excelStartCol:t.excelStartCol,selectionType:t.selectionType,dependencies:{set:(t.dependencies||[]).map(function(e){return{id:e.id}})}}}}):a({variables:{testSet:{name:t.name,description:t.description||null,tags:{set:t.tags},useMatchingMode:t.useMatchingMode,expandConvos:t.expandConvos,expandConvosMode:t.expandConvosMode,expandConvosModeRandomCount:t.expandConvosModeRandomCount,expandUtterancesToConvos:t.expandUtterancesToConvos,expandUtterancesIncomprehension:t.expandUtterancesIncomprehension||null,useScriptingMemory:t.useScriptingMemory,useScriptingMemoryMatchingMode:t.useScriptingMemoryMatchingMode,expandScriptingMemory:t.expandScriptingMemory,normalizeText:t.normalizeText,excelHasConvos:t.excelHasConvos,excelHasPartialConvos:t.excelHasPartialConvos,excelHasUtterances:t.excelHasUtterances,excelWorksheetsConvos:t.excelWorksheetsConvos||null,excelWorksheetsPartialConvos:t.excelWorksheetsPartialConvos||null,excelWorksheetsUtterances:t.excelWorksheetsUtterances||null,excelStartRow:t.excelStartRow,excelStartCol:t.excelStartCol,selectionType:t.selectionType,dependencies:{connect:(t.dependencies||[]).map(function(e){return{id:e.id}})}}}})},initialValues:e,render:function(a){var s=a.handleSubmit,m=a.mutators,d=(m.push,m.pop,a.reset,a.submitting),p=a.pristine,E=a.invalid,b=a.values;return i.a.createElement("form",{onSubmit:s},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"name",component:Is,label:"Test Set Name",validate:Ms,disabled:!t.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"tags",component:Os,label:"Tags",disabled:!t.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"description",component:ws,label:"Test Set Description",rows:3,disabled:!t.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(bc.a,{expanded:n,onChange:function(){return t.setState({advancedExpanded:!n})}},i.a.createElement(Sc.a,{expandIcon:i.a.createElement(va.a,null)},n?"Hide":"Show"," Advanced Scripting Settings"),i.a.createElement(gc.a,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(at.a,null),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:6},i.a.createElement(Bn.a,{name:"useMatchingMode",component:_s,label:"Text Matching mode",disabled:!t.hasWritePermission()},i.a.createElement(Ge.a,{key:"null",value:null}),i.a.createElement(Ge.a,{key:"MATCHING_MODE_REGEXP",value:"MATCHING_MODE_REGEXP"},"Use regular expressions"),i.a.createElement(Ge.a,{key:"MATCHING_MODE_INCLUDE",value:"MATCHING_MODE_INCLUDE"},"Substring matching"),i.a.createElement(Ge.a,{key:"MATCHING_MODE_INCLUDELOWERCASE",value:"MATCHING_MODE_INCLUDELOWERCASE"},"Substring matching (ignore case)"))),i.a.createElement(Ca,{xs:6},i.a.createElement(Bn.a,{name:"normalizeText",component:js,label:"Normalize Text before Matching",type:"checkbox",disabled:!t.hasWritePermission()}),i.a.createElement(or,null,'Enable this option so all texts are "normalized" before matching (cleaned by HTML tags, multiple spaces, line breaks etc)'))),i.a.createElement(at.a,null),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"expandConvos",component:js,label:"Expand Conversations",type:"checkbox",disabled:!t.hasWritePermission()}),i.a.createElement(or,null,"Enable this option if your Test Set contains utterances files to be merged with the convo files.")),b.expandConvos&&i.a.createElement(Ca,{xs:12,sm:3},i.a.createElement(Bn.a,{name:"expandConvosMode",component:_s,label:"Convo Expansion Mode",disabled:!t.hasWritePermission()},i.a.createElement(Ge.a,{key:"null",value:null}),i.a.createElement(Ge.a,{key:"UTTEXPANSION_MODE_ALL",value:"UTTEXPANSION_MODE_ALL"},"Use all utterances"),i.a.createElement(Ge.a,{key:"UTTEXPANSION_MODE_FIRST",value:"UTTEXPANSION_MODE_FIRST"},"Use first utterance"),i.a.createElement(Ge.a,{key:"UTTEXPANSION_MODE_RANDOM",value:"UTTEXPANSION_MODE_RANDOM"},"Randomly select utterances"))),b.expandConvos&&"UTTEXPANSION_MODE_RANDOM"===b.expandConvosMode&&i.a.createElement(Ca,{xs:12,sm:3},i.a.createElement(Bn.a,{name:"expandConvosModeRandomCount",component:Ps,label:"Number of utterances to select",parse:parseInt,validate:Hs(1)}))),i.a.createElement(at.a,null),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:6},i.a.createElement(Bn.a,{name:"expandUtterancesToConvos",component:js,label:"Expand Utterances to Conversations",type:"checkbox",disabled:!t.hasWritePermission()}),i.a.createElement(or,null,"Enable this option if your Test Set contains only utterances files to be treated as 2-step-conversations.")),i.a.createElement(Ca,{xs:6},i.a.createElement(Bn.a,{name:"expandUtterancesIncomprehension",component:Is,label:"Incomprehension Utterance",disabled:!b.expandUtterancesToConvos||!t.hasWritePermission()}))),i.a.createElement(at.a,null),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"useScriptingMemory",component:js,label:"Enable Scripting Memory",type:"checkbox",disabled:!t.hasWritePermission()}),i.a.createElement(or,null,"Enable this option to enable the BotiumScript scripting memory (variable extraction and expansion).")),b.useScriptingMemory&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:12,sm:3},i.a.createElement(Bn.a,{name:"useScriptingMemoryMatchingMode",component:_s,label:"Scripting Memory Matching Mode",disabled:!t.hasWritePermission()},i.a.createElement(Ge.a,{key:"null",value:null}),i.a.createElement(Ge.a,{key:"MATCHING_MODE_NON_WHITESPACE",value:"MATCHING_MODE_NON_WHITESPACE"},"Capture every non whitespace character"),i.a.createElement(Ge.a,{key:"MATCHING_MODE_WORD",value:"MATCHING_MODE_WORD"},"Capture word characters only"))),i.a.createElement(Ca,{xs:12,sm:3},i.a.createElement(Bn.a,{name:"expandScriptingMemory",component:js,label:"Expand Scripting Memory",type:"checkbox",disabled:!t.hasWritePermission()}),i.a.createElement(or,null,"Enable this option if your Test Set contains scripting memory files to be expanded with the convo files.")))))))))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(bc.a,{expanded:r,onChange:function(){return t.setState({excelExpanded:!r})}},i.a.createElement(Sc.a,{expandIcon:i.a.createElement(va.a,null)},r?"Hide":"Show"," Excel Format Settings"),i.a.createElement(gc.a,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"excelHasConvos",component:js,label:"Excel contains convos",type:"checkbox",disabled:!t.hasWritePermission()}),i.a.createElement(or,null,"Enable this option if this Excel file contains convos.")),i.a.createElement(Ca,{xs:12,sm:8},i.a.createElement(Bn.a,{name:"excelWorksheetsConvos",component:Is,label:"Worksheets containing convos (leave empty for all), comma separated",disabled:!b.excelHasConvos||!t.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"excelHasPartialConvos",component:js,label:"Excel contains partial convos",type:"checkbox",disabled:!t.hasWritePermission()}),i.a.createElement(or,null,"Enable this option if this Excel file contains partial convos.")),i.a.createElement(Ca,{xs:12,sm:8},i.a.createElement(Bn.a,{name:"excelWorksheetsPartialConvos",component:Is,label:"Worksheets containing partial convos, comma separated",disabled:!b.excelHasPartialConvos||!t.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"excelHasUtterances",component:js,label:"Excel contains utterances",type:"checkbox",disabled:!t.hasWritePermission()}),i.a.createElement(or,null,"Enable this option if this Excel file contains utterances.")),i.a.createElement(Ca,{xs:12,sm:8},i.a.createElement(Bn.a,{name:"excelWorksheetsUtterances",component:Is,label:"Worksheets containing utterances, comma separated",disabled:!b.excelHasUtterances||!t.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:6,sm:4},i.a.createElement(Bn.a,{name:"excelStartRow",component:Ps,label:"Starting Row Number",parse:parseInt,validate:Ks(Hs(1)),helperText:"Excel row number to start searching (starting at 1) - 2 means that there is a header row",disabled:!t.hasWritePermission()})),i.a.createElement(Ca,{xs:6,sm:8},i.a.createElement(Bn.a,{name:"excelStartCol",component:Ps,label:"Starting Column Number",parse:parseInt,validate:Ks(Hs(1)),helperText:"Excel column number to start searching (starting at 1)",disabled:!t.hasWritePermission()}))))))))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"selectionType",component:_s,label:"Content Selection Type",disabled:!t.hasWritePermission()},i.a.createElement(Ge.a,{key:"SELECTION_TYPE_LOCAL_AND_REMOTE",value:"SELECTION_TYPE_LOCAL_AND_REMOTE"},"Use Local and Remote Repositories"),i.a.createElement(Ge.a,{key:"SELECTION_TYPE_LOCAL_ONLY",value:"SELECTION_TYPE_LOCAL_ONLY"},"Use Local Repository only"),i.a.createElement(Ge.a,{key:"SELECTION_TYPE_REMOTE_ONLY",value:"SELECTION_TYPE_REMOTE_ONLY"},"Use Remote Repositories only")),i.a.createElement(or,null,"Select what repositories, local or remote, to use when running tests with this test set.")),i.a.createElement(Ca,{xs:12,sm:6},t.renderDependenciesSelection(),i.a.createElement(or,null,"When running tests with this test set, all test sets in this list are loaded as well."))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},t.hasWritePermission()&&i.a.createElement(yt,{type:"submit",disabled:d||p||E,color:"primary"},i.a.createElement(bm.a,null),"Save"),e.id&&sb(u,"TESTSETS_CREATE")&&t.renderCloneDialog(e),e.id&&sb(u,"TESTSETS_CREATE")&&i.a.createElement(h.c,{mutation:Bl,onCompleted:function(e){o("Test Set cloned"),c.push("/testsets/view/".concat(e.cloneTestSet.id))},onError:function(e){l("Test Set cloning failed",e)},refetchQueries:function(){return[{query:kl}]}},function(a,n){n.loading,n.error;return i.a.createElement(yt,{onClick:function(){"premium"===wt.buildTarget?t.setState({showCloneDialog:!0}):"basic"===wt.buildTarget&&a({variables:{id:e.id,options:{humanifiersToExecute:[],percentToHumanify:0}}})}},i.a.createElement(Zp.a,null),"Clone Test Set")}),t.hasWritePermission()&&i.a.createElement(Ue.a,{to:"/testsets/list"},i.a.createElement(yt,null,i.a.createElement(Lm.a,null),"Cancel")))))}})})}},{key:"renderLocalSourcesTab",value:function(e){var t=this,a=this.props.token,n=this.state,r=n.exportAnchorEl,s=n.importAnchorEl;return i.a.createElement(h.d,{query:Fl,variables:{testSetId:e}},function(n){var o=n.loading,l=n.error,c=n.data;return o?i.a.createElement("p",null,"Loading..."):l?i.a.createElement(Dn,{err:l}):i.a.createElement(O.a,null,i.a.createElement(C.a,{path:"/testsets/view/:testSetId/registerscript",component:fE}),i.a.createElement(C.a,{path:"/testsets/view/:testSetId/viewscript/:id",component:fE}),i.a.createElement(C.a,{path:"/testsets/view/:testSetId/registerexcel",component:nb}),i.a.createElement(C.a,{path:"/testsets/view/:testSetId/viewexcel/:id",component:nb}),i.a.createElement(C.a,{path:"/testsets/view/:testSetId"},i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},t.hasWritePermission()&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ue.a,{to:"/testsets/view/"+e+"/registerscript"},i.a.createElement(yt,null,i.a.createElement(Ap.a,null),"Write new Test Script")),i.a.createElement(Ue.a,{to:"/testsets/view/"+e+"/registerexcel"},i.a.createElement(yt,null,i.a.createElement(Mm.a,null),"Upload Botium Excel File"))),i.a.createElement(yt,{onClick:function(e){return t.setState({exportAnchorEl:e.currentTarget})}},i.a.createElement(dp.a,null),"Export Local Repository ..."),i.a.createElement(yt,{onClick:function(e){return t.setState({importAnchorEl:e.currentTarget})}},i.a.createElement(dp.a,null),"Import to Local Repository ..."),i.a.createElement(Qp.a,{anchorEl:r,open:Boolean(r),onClose:function(){return t.setState({exportAnchorEl:null})}},i.a.createElement("a",{href:"".concat(wt.api.base,"/testset/").concat(e,"?token=").concat(a),rel:"noopener noreferrer",target:"_blank",style:{textDecoration:"none"}},i.a.createElement(Ge.a,{key:"zip"},"... as single ZIP file")),t.hasWritePermission()&&c.testsetrepositories&&c.testsetrepositories.map(function(e){return i.a.createElement(Ge.a,{key:e.id,onClick:function(){return t.setState({showExportToGitDialog:!0,selectedRepository:e})}},"... to Git Repository ",e.name)}),t.hasWritePermission()&&c.testsetfolders&&c.testsetfolders.map(function(e){return i.a.createElement(Ge.a,{key:e.id,onClick:function(){return t.setState({showExportToFolderDialog:!0,selectedFolder:e})}},"... to Shared Folder ",e.name)})),i.a.createElement(Qp.a,{anchorEl:s,open:Boolean(s),onClose:function(){return t.setState({importAnchorEl:null})}},i.a.createElement(Ge.a,{key:"zip_import",onClick:function(){return t.setState({showImportFromZipDialog:!0})}},"... from single ZIP file"))),t.hasWritePermission()&&i.a.createElement(i.a.Fragment,null,t.renderExportToFolderDialog(e),t.renderExportToGitDialog(e),t.renderImportFromZipDialog(e))),(c.testsetscripts&&c.testsetscripts.length>0||c.testsetexcels&&c.testsetexcels.length>0||c.testsetfolders&&c.testsetfolders.length>0)&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(hn,{name:"".concat(e,"_sources"),tableData:c.testsetscripts.map(function(t){return[{value:"Test Script",href:"/testsets/view/"+e+"/viewscript/"+t.id},"".concat(t.name," (").concat(t.scriptType,")")]}).concat(c.testsetexcels.map(function(t){return[{value:"Excel File",href:"/testsets/view/"+e+"/viewexcel/"+t.id},"".concat(t.name,', "').concat(t.filename,'"')]}))}))))))})}},{key:"renderRemoteSourcesTab",value:function(e){var t=this;return i.a.createElement(h.d,{query:Fl,variables:{testSetId:e}},function(a){var n=a.loading,r=a.error,s=a.data;return n?i.a.createElement("p",null,"Loading..."):r?i.a.createElement(Dn,{err:r}):i.a.createElement(O.a,null,i.a.createElement(C.a,{path:"/testsets/view/:testSetId/registerrepository",component:RE}),i.a.createElement(C.a,{path:"/testsets/view/:testSetId/viewrepository/:id",component:RE}),i.a.createElement(C.a,{path:"/testsets/view/:testSetId/registerfolder",component:GE}),i.a.createElement(C.a,{path:"/testsets/view/:testSetId/viewfolder/:id",component:GE}),i.a.createElement(C.a,{path:"/testsets/view/:testSetId"},i.a.createElement(i.a.Fragment,null,t.hasWritePermission()&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},"premium"===wt.buildTarget&&i.a.createElement(Ue.a,{to:"/testsets/view/"+e+"/registerrepository"},i.a.createElement(yt,null,i.a.createElement(lp.a,null),"Register Git Repository")),"basic"===wt.buildTarget&&i.a.createElement(yt,{disabled:!0},i.a.createElement(lp.a,null),"Register Git Repository"),i.a.createElement(Ue.a,{to:"/testsets/view/"+e+"/registerfolder"},i.a.createElement(yt,null,i.a.createElement(tE.a,null),"Register Shared Folder")))),(s.testsetrepositories&&s.testsetrepositories.length>0||s.testsetfolders&&s.testsetfolders.length>0)&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(hn,{name:"".concat(e,"_sources"),tableData:s.testsetrepositories.map(function(t){return[{value:"Git Repository",href:"/testsets/view/"+e+"/viewrepository/"+t.id},"".concat(t.name,", ").concat(t.giturl).concat(t.gitdir?"/"+t.gitdir:"",', Branch "').concat(t.gitbranch,'" ').concat(t.globFilter?', Filter "'+t.globFilter+'"':"")]}).concat(s.testsetfolders.map(function(t){return[{value:"Shared Folder",href:"/testsets/view/"+e+"/viewfolder/"+t.id},"".concat(t.name,', Path "').concat(t.path,'" ').concat(t.globFilter?', Filter "'+t.globFilter+'"':"")]}))}))))))})}},{key:"renderTestProjectsTab",value:function(e){var t=this.props,a=t.setAlertSuccessMessage,n=t.setAlertErrorMessage;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement("h3",null,"Test Projects"),i.a.createElement(h.d,{query:Ll,variables:{testSetId:e}},function(t){var r=t.loading,s=t.error,o=t.data,l=t.refetch;return s?i.a.createElement(Dn,{err:s}):i.a.createElement(hn,{name:"TestSet_".concat(e,"_TestProjects"),tableHeaderColor:"primary",tableHead:["Name","","Tags","Chatbot","Test Sets","Device Sets"],pageLoading:r,tableData:o&&o.testprojects&&o.testprojects.map(function(t){return[{value:t.name,href:"/testprojects/view/"+t.id},function(){return i.a.createElement(h.c,{mutation:to,onCompleted:function(e){a("Test session started ...")},onError:function(e){n("Test session failed",e)},refetchQueries:function(t){var a=t.data;return[{query:Ai},{query:Vl,variables:{testSetId:e}},{query:Ru,variables:{chatbotId:a.startTestProject.id}}]}},function(e,a){a.loading,a.error;return i.a.createElement(me.a,{onClick:function(){e({variables:{id:t.id}})}},i.a.createElement(ip.a,null))})},t.tags,{value:t.chatbot.name,href:"/chatbots/view/"+t.chatbot.id},t.testSets.map(function(e){return e.name}),t.deviceSets&&t.deviceSets.map(function(e){return e.name})]}),onRefresh:function(){return l()}})})),i.a.createElement(Ca,{xs:12},i.a.createElement("h3",null,"Test Results"),i.a.createElement(h.d,{query:Vl,variables:{testSetId:e}},function(t){var a=t.loading,n=t.error,r=t.data,s=t.refetch;return n?i.a.createElement(Dn,{err:n}):i.a.createElement(hn,{name:"TestSet_".concat(e,"_TestSessions"),tableHeaderColor:"primary",tableHead:["","","Name","Date","Tags","Chatbot","Test Sets","Test Project"],pageLoading:a,tableData:r&&r.testsessions&&r.testsessions.map(function(e){return[function(){return i.a.createElement(Li,{testSession:e})},function(){return i.a.createElement(Mi,{testSession:e})},{value:e.name,href:"/testsessions/view/"+e.id},function(){return i.a.createElement(_n,null,e.createdAt)},e.tags,{value:e.chatbot.name,href:"/chatbots/view/"+e.chatbot.id},e.testSets.map(function(e){return e.name}),e.testProject&&{value:e.testProject.name,href:"/testprojects/view/"+e.testProject.id}]}),onRefresh:function(){return s()}})}))))}},{key:"renderCloneDialog",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=a.history;return i.a.createElement(h.c,{mutation:Bl,onCompleted:function(e){t.setState({showCloneDialog:!1}),n("Test Set cloned"),s.push("/testsets/view/".concat(e.cloneTestSet.id))},onError:function(e){r("Test Set cloning failed",e)},refetchQueries:function(){return[{query:kl}]}},function(a,n){var r=n.loading;n.error;return i.a.createElement(Bn.b,{onSubmit:function(t){a({variables:{id:e.id,options:{name:t.name,output:t.output,humanifiersToExecute:t.cloneHumanifiers,percentToHumanify:t.clonePercentToHumanify/100}}})},validate:function(e){return{}},initialValues:{name:"Copy of ".concat(e.name),output:"FOLDER",cloneHumanifiers:[],clonePercentToHumanify:"0"},render:function(e){var a,n=e.handleSubmit;e.reset,e.submitting,e.pristine,e.values;return i.a.createElement(cl,{open:t.state.showCloneDialog,onCancel:function(){return t.setState({showCloneDialog:!1})},onOk:function(){return n()},isWorking:r,title:"Clone Test Set"},i.a.createElement("form",{onSubmit:n},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"name",component:Is,label:"Test Set Name",validate:Ms})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"output",component:_s,label:"Script Output Location",validate:Ms},i.a.createElement(Ge.a,{key:"LOCAL",value:"LOCAL"},"Local Repository"),i.a.createElement(Ge.a,{key:"FOLDER",value:"FOLDER"},"Shared Folder (in default location)"))),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,'The Test Set can be mutated with various algorithms to make the the Botium test cases to appear more "human" - add common typographic errors, add "sausage fingers", add some emojis, ...'),i.a.createElement(h.d,{query:Ml},function(e){var t=e.loading,a=e.error,n=e.data;return t?i.a.createElement(ca.a,{size:50}):a?i.a.createElement(Dn,{err:a}):i.a.createElement(Bn.a,{name:"cloneHumanifiers",component:_s,label:"Select Humanification Algorithm(s)",multiple:!0,keyValueMap:n&&n.clonetestsetoptions.humanifiers.reduce(function(e,t){return e[t]=t,e},{})},n&&n.clonetestsetoptions.humanifiers.map(function(e){return i.a.createElement(Ge.a,{key:e,value:e},e)}))})),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"All the humanification algorithms will only be applied to utterances, not convo files. You can set a percentage of how many of the utterances will undergo the humanification here."),i.a.createElement(Bn.a,{name:"clonePercentToHumanify",component:Ps,label:"Percentage to Humanify (0-100)",parse:parseInt,validate:Ks(Ms,Hs(0),(a=100,function(e){return!e||isNaN(e)||e<=a?void 0:"Should be equal or smaller than ".concat(a)}))})))))}})})}},{key:"renderExportToFolderDialog",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=this.state.selectedFolder;return i.a.createElement(h.c,{mutation:Wl,onCompleted:function(e){t.setState({showExportToFolderDialog:!1,exportAnchorEl:null}),n("Local Repository exported to Shared Folder ".concat(s.name))},onError:function(e){var a=t.state.selectedFolder;r("Local Repository export to Shared Folder ".concat(a.name," failed"),e)}},function(a,n){var r=n.loading;n.error;return i.a.createElement(Bn.b,{onSubmit:function(t){a({variables:{id:e,options:{id:s.id,subdirectory:t.subdirectory}}})},render:function(e){var a=e.handleSubmit;e.reset,e.submitting,e.pristine,e.values;return i.a.createElement(cl,{open:t.state.showExportToFolderDialog,onCancel:function(){return t.setState({showExportToFolderDialog:!1,exportAnchorEl:null})},onOk:function(){return a()},isWorking:r,title:"Export Local Repository to Shared Folder ".concat(s&&s.name)},i.a.createElement("form",{onSubmit:a},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},"A copy of all scripts from the local repository will be written to the shared folder. You can select a subdirectory below (will be created if not existing)."),i.a.createElement(Ca,{xs:12},i.a.createElement(Pa,null,i.a.createElement("b",null,"Attention:")," all existing scripts will be overwritten!")),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"subdirectory",component:Is,label:"Subdirectory (optional)"})))))}})})}},{key:"renderExportToGitDialog",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=this.state.selectedRepository;return i.a.createElement(h.c,{mutation:Ul,onCompleted:function(e){t.setState({showExportToGitDialog:!1,exportAnchorEl:null}),n("Local Repository exported to Git Repository ".concat(s.name))},onError:function(e){r("Local Repository export to Git Repository ".concat(s.name," failed"),e)}},function(a,n){var r=n.loading;n.error;return i.a.createElement(Bn.b,{onSubmit:function(t){a({variables:{id:e,options:{id:s.id,gitbranch:t.gitbranch,gituser:t.gituser,gitpassword:t.gitpassword,gitcomment:t.gitcomment}}})},initialValues:{gitcomment:"Botium Box Checkin"},render:function(e){var a=e.handleSubmit;e.reset,e.submitting,e.pristine,e.values;return i.a.createElement(cl,{open:t.state.showExportToGitDialog,onCancel:function(){return t.setState({showExportToGitDialog:!1,exportAnchorEl:null})},onOk:function(){return a()},isWorking:r,title:"Export Local Repository to Git Repository ".concat(s&&s.name)},i.a.createElement("form",{onSubmit:a},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},"A copy of all scripts from the local repository will be committed and pushed to the Git Repository. You can select a Git branch for your commit below (will be created if not existing). Otherwise the default configured branch will be used."),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"gitbranch",component:Is,label:"Git Branch (optional)"}),i.a.createElement(or,null,"if not left empty, a separate branch based on the configured branch ",i.a.createElement("i",null,s&&s.gitbranch)," will be created")),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"gituser",component:Is,label:"Git user (optional)"}),i.a.createElement(or,null,"only if different from default configured user ",i.a.createElement("i",null,s&&s.gituser||""))),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"gitpassword",component:ks,label:"Git password (optional)"}),i.a.createElement(or,null,"only if different from default configured password")),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"gitcomment",component:Is,label:"Git Checkin Comment",validate:Ms})))))}})})}},{key:"renderImportFromZipDialog",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage;return i.a.createElement(h.c,{mutation:Hl,onCompleted:function(e){t.setState({showImportFromZipDialog:!1,importAnchorEl:null}),n("Local Repository imported from ZIP file")},onError:function(e){r("Local Repository imported from ZIP file failed",e)},refetchQueries:[{query:Fl,variables:{testSetId:e}},{query:kl},{query:Rl,variables:{id:e}}]},function(a,n){var r=n.loading;n.error;return i.a.createElement(Bn.b,{onSubmit:function(t){a({variables:{id:e,options:{filename:t.filename,filecontent:t.filecontent,overwrite:t.overwrite}}})},render:function(e){var a=e.handleSubmit,n=(e.reset,e.submitting,e.pristine,e.values),s=e.change;return i.a.createElement(cl,{open:t.state.showImportFromZipDialog,onCancel:function(){return t.setState({showImportFromZipDialog:!1,importAnchorEl:null})},onOk:function(){return a()},isWorking:r,title:"Import Local Repository from ZIP file"},i.a.createElement("form",{onSubmit:a},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"fileupload",component:Ls,label:"Select/Drop ZIP file here",values:n,change:s,validate:Ms,onFileLoaded:function(e,t){s("filename",e),s("filecontent",t)}})),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"overwrite",component:js,label:"Overwrite local repository (remove all existing test scripts)",type:"checkbox"})))))}})})}},{key:"renderStats",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=function(e){if(e)try{var t=JSON.parse(e);if(t.filename)return t.filename}catch(a){}return"Local Repository"};return i.a.createElement(h.d,{query:Rl,variables:{id:e}},function(a){var o=a.loading,l=a.error,c=a.data,u=a.refetch;return l?i.a.createElement(Dn,{err:l}):i.a.createElement(i.a.Fragment,null,c&&c.testset&&c.testset.statsUpdatedAt&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement("b",null,"Total Number of Convos: ",c&&c.testset&&c.testset.statsConvoCount),i.a.createElement("br",null),i.a.createElement("b",null,"Total Number of Partial Convos: ",c&&c.testset&&c.testset.statsPartialConvoCount),i.a.createElement("br",null),i.a.createElement("b",null,"Total Number of Utterances: ",c&&c.testset&&c.testset.statsUtterancesCount),i.a.createElement("br",null),i.a.createElement("b",null,"Total Number of Scripting Memories: ",c&&c.testset&&c.testset.statsScriptingMemoryCount),i.a.createElement("br",null),i.a.createElement("b",null,"Last Statistics Update: ",i.a.createElement(_n,null,c.testset.statsUpdatedAt)),i.a.createElement("br",null))),c&&c.testset&&c.testset.statsCompiledConvos&&c.testset.statsCompiledConvos.length>0&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(hn,{name:"".concat(e,"_stats"),tableHeaderColor:"primary",tableHead:["Test Case Convo","Description","Source","Turns"],pageLoading:o,tableData:c&&c.testset&&c.testset.statsCompiledConvos&&c.testset.statsCompiledConvos.map(function(e){return[e.name,e.description,s(e.sourceTag),e.stepCount]}),onRefresh:function(){return u()}})))),t.hasWritePermission()&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(h.c,{mutation:Dl,onCompleted:function(e){n("Test Set compiled and updated")},onError:function(e){r("Test Set compilation failed",e)},refetchQueries:[{query:kl},{query:Rl,variables:{id:e}}]},function(t,a){var n=a.loading;return i.a.createElement(yt,{onClick:function(){t({variables:{id:e}})},disabled:n},i.a.createElement(rn.a,null),!n&&"Compile Test Set and Update Statistics",n&&"Compilation running ...")}))))})}},{key:"render",value:function(){var e=this,t=this.props,a=t.setAlertSuccessMessage,n=t.setAlertErrorMessage,r=this.props,s=r.classes,o=r.match,l=r.user,c=r.history,u=-1;return["registerscript","viewscript","registerexcel","viewexcel"].map(function(e){return c.location.pathname.indexOf(e)>0}).findIndex(function(e){return e})>=0&&(u=1),["registerrepository","viewrepository","registerfolder","viewfolder"].map(function(e){return c.location.pathname.indexOf(e)>0}).findIndex(function(e){return e})>=0&&(u=2),i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Test Set ...")),i.a.createElement(Ca,{xs:12,sm:12,md:12},o.params&&o.params.id&&i.a.createElement(h.d,{query:wl,variables:{id:o.params.id}},function(t){var r=t.loading,o=t.error,c=t.data;return r?i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:s.cardTitleWhite},"Test Set ..."),i.a.createElement("p",{className:s.cardCategoryWhite},"Loading")),i.a.createElement(yn,null,i.a.createElement("p",null,"Loading..."))):o?i.a.createElement(Dn,{err:o}):(c.testset&&fo({name:c.testset.name,url:"/testsets/view/".concat(c.testset.id),type:"Test Set"}),i.a.createElement(i.a.Fragment,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,c.testset&&c.testset.name)),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:s.cardTitleWhite},"Test Set '",c.testset&&c.testset.name,"'"),i.a.createElement("p",{className:s.cardCategoryWhite},c.testset.client&&c.testset.client.name)),i.a.createElement(yn,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},e.renderForm(c.testset))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(rd,{headerColor:"info",plainTabs:!0,initialValue:u,tabs:[{tabName:"Compilation and Statistics",tabIcon:zm.a,tabContent:e.renderStats(c.testset.id)},{tabName:"Local Repository",tabIcon:lp.a,tabContent:e.renderLocalSourcesTab(c.testset.id)},{tabName:"Remote Repositories",tabIcon:nE.a,tabContent:e.renderRemoteSourcesTab(c.testset.id)},{tabName:"Test Projects",tabIcon:Ep.a,tabContent:e.renderTestProjectsTab(c.testset.id)},{tabName:"Danger Zone",tabIcon:ne.a,disabled:!sb(l,"TESTSETS_DELETE"),tabContent:sb(l,"TESTSETS_DELETE")&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(h.c,{mutation:_l,onCompleted:function(t){a("Test Set deleted"),e.props.history.push("/testsets/list")},onError:function(e){n("Test Set deletion failed",e)},refetchQueries:[{query:kl}]},function(e,t){t.loading,t.error;return i.a.createElement(yt,{color:"danger",onClick:function(){e({variables:{id:c.testset.id}})}},i.a.createElement(Dm.a,null),"Delete Test Set")})))}]})))))))))}),(!o.params||!o.params.id)&&i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:s.cardTitleWhite},"Register Test Set")),i.a.createElement(yn,null,this.renderForm({tags:[],expandConvos:!0,expandUtterancesToConvos:!1,useScriptingMemory:!0,expandScriptingMemory:!1,normalizeText:!0,excelHasConvos:!0,excelHasUtterances:!1,excelStartRow:2,excelStartCol:1,selectionType:"SELECTION_TYPE_LOCAL_AND_REMOTE",dependencies:[]})))))}}]),t}(i.a.Component),lb=Object(c.b)(function(e){return{token:e.token.token,user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()($p)(ob)),cb=a(43).hasPermission,ub=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderSuggestion",value:function(e,t,a,n){return t&&!a?i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:1},i.a.createElement("p",null,i.a.createElement(Pa,null,i.a.createElement("b",null,i.a.createElement(pe.a,null))))),i.a.createElement(Ca,{xs:11},i.a.createElement("p",null,i.a.createElement(Pa,null,i.a.createElement("b",null,e)))),n&&i.a.createElement(Ca,{xs:12},i.a.createElement(bc.a,{defaultExpanded:!0},i.a.createElement(Sc.a,{expandIcon:i.a.createElement(va.a,null)},i.a.createElement(Pa,null,"Detailempfehlungen")),i.a.createElement(gc.a,null,i.a.createElement(Pa,null,n))))):t&&a?i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:1},i.a.createElement("p",null,i.a.createElement(wa,null,i.a.createElement("b",null,i.a.createElement(ht.a,null))))),i.a.createElement(Ca,{xs:11},i.a.createElement("p",null,i.a.createElement(wa,null,i.a.createElement("b",null,e)))),n&&i.a.createElement(Ca,{xs:12},i.a.createElement(bc.a,{defaultExpanded:!1},i.a.createElement(Sc.a,{expandIcon:i.a.createElement(va.a,null)},i.a.createElement(wa,null,"Detailempfehlungen")),i.a.createElement(gc.a,null,i.a.createElement(wa,null,n))))):i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:1},i.a.createElement("p",null,i.a.createElement(or,null,i.a.createElement(Ys.a,null)))),i.a.createElement(Ca,{xs:11},i.a.createElement("p",null,i.a.createElement(or,null,e))))}},{key:"renderStartForm",value:function(){var e=this.props,t=e.setAlertSuccessMessage,a=e.setAlertErrorMessage,n=e.history,r=e.user,s=this.props.chatbotsData;return i.a.createElement(h.c,{mutation:Ri,onCompleted:function(e){n.push("/testsessions/view/".concat(e.createTestSession.id)),t("Test Session started ...")},onError:function(e){a("Test session failed",e)},refetchQueries:[{query:Ai}]},function(e,t){t.loading,t.error;return i.a.createElement(Bn.b,{onSubmit:function(t){var a={variables:{testSession:{name:"Manual GDPR Test Session - de/GDPR",status:"PENDING",tags:{set:["Manual","GDPR"]},chatbot:{connect:{id:t.chatbotId}},testSets:{connect:[{name:"de/GDPR"},{name:"de/Incomprehension"}]}}}};e(a)},initialValues:{tags:[],testSets:[],deviceSets:[],batchCount:1},render:function(e){var t=e.handleSubmit,a=(e.reset,e.submitting);e.pristine,e.values;return i.a.createElement("form",{onSubmit:t},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:6,sm:4,md:3},i.a.createElement(Bn.a,{name:"chatbotId",component:_s,label:"Select Chatbot",validate:Ms},s&&s.loading&&i.a.createElement(ca.a,{size:50}),s&&s.error&&i.a.createElement(Dn,{err:s.error}),s&&s.chatbots&&s.chatbots.map(function(e){return i.a.createElement(Ge.a,{key:e.id,value:e.id},e.name)}))),i.a.createElement(Ca,{xs:6,sm:4,md:3},i.a.createElement(yt,{type:"submit",disabled:a||!cb(r,"TESTSESSIONS_CREATE"),size:"lg",color:"primary"},i.a.createElement(bm.a,null),"Start GDPR Test Session"))))}})})}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"GDPR Test Set (german)")),i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:t.cardTitleWhite},"GDPR Test Set (german)"),i.a.createElement("p",{className:t.cardCategoryWhite},"Check GDPR Compliance")),i.a.createElement(yn,null,i.a.createElement("p",null,"Entstanden in Kooperation mit ",i.a.createElement("a",{href:"https://geistwert.at/",target:"_blank",rel:"noopener noreferrer"},"GEISTWERT\u2122"),", dem Spezialisten f\xfcr GDPR/DSGVO im deutschsprachigen Raum."),i.a.createElement("p",null,"Bitte beantworten Sie die gestellten Fragen, und Sie erhalten Empfehlungen zum Erreichen der GDPR/DSGVO Compliance mit Ihrem Chatbot."),i.a.createElement("p",null,i.a.createElement("i",null,'Disclaimer: Der Test kann ausschlie\xdflich Datenschutz und Marketing "Red Flags" aufzeigen, aber selbst bei positivem Durchlaufen des Tests ',i.a.createElement("b",null,"keine Compliance best\xe4tigen"),".")),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement("h3",null,"Schritt 1) \xdcberpr\xfcfen wie Ihr Chatbot auf Datenschutz-Fragen reagiert"))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},this.renderStartForm())),i.a.createElement(Bn.b,{onSubmit:function(){},render:function(t){var a=t.values;return i.a.createElement("form",null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement("h3",null,"Schritt 2) GDPR/DSGVO Fragen zu Ihrem Chatbot"))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"dseExists",component:js,label:"1.) Ist zu Ihrem Chatbot eine Datenschutzerkl\xe4rung (DSE) vorhanden?",type:"checkbox"})),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn zu Ihrem Chatbot eine Datenschutzerkl\xe4rung (DSE) vorhanden ist."))),a.dseExists&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"dseAvailable",component:js,label:"Ist die Datenschutzerkl\xe4rung (DSE) vor der Erfassung von personenbezogenen Daten und fr\xfchestm\xf6glich bei Nutzung Ihres Chatbots zug\xe4nglich ?",type:"checkbox"})),i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn die Datenschutzerkl\xe4rung (DSE) laut Fragestellung zug\xe4nglich ist."))),a.dseExists&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"dseComplete",component:js,label:"Enth\xe4lt die Datenschutzerkl\xe4rung (DSE) alle Informationen laut DSGVO, Art. 13, Buchstabe f ?",type:"checkbox"})),i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn die Datenschutzerkl\xe4rung (DSE) alle Informationen laut DSGVO, Art. 13, Buchstabe f, enth\xe4lt."))),a.dseExists&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"datenErhoben",component:js,label:"2.) Werden von Ihrem Chatbot personenbezogene Daten au\xdfer der IP-Adresse erhoben ?",type:"checkbox",disabled:!a.dseExists})),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn von Ihrem Chatbot au\xdfer der IP-Adresse weitere personenbezogene Daten erhoben werden."))),a.dseExists&&a.datenErhoben&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"datenErhobenSecurity",component:js,label:"Ist angemessene Datensicherheit gew\xe4hrleistet (zB verschl\xfcsselte Kommunikation) ?",type:"checkbox"})),i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn angemessene Datensicherheit gew\xe4hrleistet ist."))),a.dseExists&&a.datenErhoben&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"datenErhobenServiceRequired",component:js,label:"Ist die Erhebung der personenbezogenen Daten f\xfcr die Service-Erbringung zwingend notwendig ?",type:"checkbox"})),i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn die Erhebung der personenbezogenen Daten f\xfcr die Service-Erbringung zwingend notwendig ist."))),a.datenErhobenServiceRequired&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(Bn.a,{name:"datenErhobenServiceRequiredDSE",component:js,label:"Ist dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt ?",type:"checkbox"})),i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt ist."))),!a.datenErhobenServiceRequired&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(Bn.a,{name:"datenErhobenContractRequired",component:js,label:"Ist die Erhebung der personenbezogenen Daten f\xfcr die Vertragserf\xfcllung zwingend notwendig ?",type:"checkbox"})),i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn die Erhebung der personenbezogenen Daten f\xfcr die Vertragserf\xfcllung zwingend notwendig ist."))),a.datenErhobenContractRequired&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:3}),i.a.createElement(Ca,{xs:9},i.a.createElement(Bn.a,{name:"datenErhobenContractRequiredDSE",component:js,label:"Ist dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt ?",type:"checkbox"})),i.a.createElement(Ca,{xs:3}),i.a.createElement(Ca,{xs:9},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt ist."))),!a.datenErhobenContractRequired&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:3}),i.a.createElement(Ca,{xs:9},i.a.createElement(Bn.a,{name:"datenErhobenEinwilligung",component:js,label:"Wird von Ihrem Chatbot eine informierte (einschlie\xdflich Info \xfcber jederzeitige Widerruflichkeit), konkrete Einwilligung eingeholt ?",type:"checkbox"})),i.a.createElement(Ca,{xs:3}),i.a.createElement(Ca,{xs:9},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn von Ihrem Chatbot eine informierte, konkrete Einwilligung eingeholt wird."))))),a.dseExists&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"datenAusgabe",component:js,label:"3.) Werden von Ihrem Chatbot personenbezogene Daten ausgegeben ?",type:"checkbox",disabled:!a.dseExists})),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn von Ihrem Chatbot personenbezogene Daten ausgegeben werden."))),a.dseExists&&a.datenAusgabe&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"datenAusgabeSecurity",component:js,label:"Ist angemessene Datensicherheit gew\xe4hrleistet (zB verschl\xfcsselte Kommunikation) ?",type:"checkbox"})),i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn angemessene Datensicherheit gew\xe4hrleistet ist."))),a.dseExists&&a.datenAusgabe&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"datenAusgabeVerification",component:js,label:"Wird vor der Datenausgabe die Identit\xe4t des Abfragenden durch Ihren Chatbot verifiziert ?",type:"checkbox"})),i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn avor der Datenausgabe die Identit\xe4t des Abfragenden durch Ihren Chatbot verifiziert wird."))),a.dseExists&&a.datenAusgabe&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"datenAusgabeServiceRequired",component:js,label:"Ist die Ausgabe der personenbezogenen Daten f\xfcr die Service-Erbringung zwingend notwendig ?",type:"checkbox"})),i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn die Ausgabe der personenbezogenen Daten f\xfcr die Service-Erbringung zwingend notwendig ist."))),a.datenAusgabeServiceRequired&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(Bn.a,{name:"datenAusgabeServiceRequiredDSE",component:js,label:"Ist dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt ?",type:"checkbox"})),i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt ist."))),!a.datenAusgabeServiceRequired&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(Bn.a,{name:"datenAusgabeContractRequired",component:js,label:"Ist die Ausgabe der personenbezogenen Daten f\xfcr die Vertragserf\xfcllung zwingend notwendig ?",type:"checkbox"})),i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn die Ausgabe der personenbezogenen Daten f\xfcr die Vertragserf\xfcllung zwingend notwendig ist."))),a.datenAusgabeContractRequired&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:3}),i.a.createElement(Ca,{xs:9},i.a.createElement(Bn.a,{name:"datenAusgabeContractRequiredDSE",component:js,label:"Ist dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt ?",type:"checkbox"})),i.a.createElement(Ca,{xs:3}),i.a.createElement(Ca,{xs:9},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt ist."))),!a.datenAusgabeContractRequired&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:3}),i.a.createElement(Ca,{xs:9},i.a.createElement(Bn.a,{name:"datenAusgabeEinwilligung",component:js,label:"Wird von Ihrem Chatbot eine informierte (einschlie\xdflich Info \xfcber jederzeitige Widerruflichkeit), konkrete Einwilligung eingeholt ?",type:"checkbox"})),i.a.createElement(Ca,{xs:3}),i.a.createElement(Ca,{xs:9},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn von Ihrem Chatbot eine informierte, konkrete Einwilligung eingeholt wird."))))),a.dseExists&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"datenAnalyse",component:js,label:"4.) Werden von Ihrem Chatbot personenbezogene Daten analysiert oder f\xfcr weitere Zwecke verarbeitet ?",type:"checkbox",disabled:!a.dseExists})),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn von Ihrem Chatbot personenbezogene Daten analysiert oder f\xfcr weitere Zwecke verarbeitet werden."))),a.dseExists&&a.datenAnalyse&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"datenAnalyseSecurity",component:js,label:"Ist angemessene Datensicherheit gew\xe4hrleistet (zB verschl\xfcsselte Kommunikation) ?",type:"checkbox"})),i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn angemessene Datensicherheit gew\xe4hrleistet ist."))),a.dseExists&&a.datenAnalyse&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"datenAnalyseServiceRequired",component:js,label:"Ist die Analyse der personenbezogenen Daten f\xfcr die Service-Erbringung zwingend notwendig ?",type:"checkbox"})),i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn die Analyse der personenbezogenen Daten f\xfcr die Service-Erbringung zwingend notwendig ist."))),a.datenAnalyseServiceRequired&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(Bn.a,{name:"datenAnalyseServiceRequiredDSE",component:js,label:"Ist dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt ?",type:"checkbox"})),i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt ist."))),!a.datenAnalyseServiceRequired&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(Bn.a,{name:"datenAnalyseContractRequired",component:js,label:"Ist die Analyse der personenbezogenen Daten f\xfcr die Vertragserf\xfcllung zwingend notwendig ?",type:"checkbox"})),i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn die Analyse der personenbezogenen Daten f\xfcr die Vertragserf\xfcllung zwingend notwendig ist."))),a.datenAnalyseContractRequired&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:3}),i.a.createElement(Ca,{xs:9},i.a.createElement(Bn.a,{name:"datenAnalyseContractRequiredDSE",component:js,label:"Ist dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt ?",type:"checkbox"})),i.a.createElement(Ca,{xs:3}),i.a.createElement(Ca,{xs:9},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt ist."))),!a.datenAnalyseContractRequired&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:3}),i.a.createElement(Ca,{xs:9},i.a.createElement(Bn.a,{name:"datenAnalyseEinwilligung",component:js,label:"Wird von Ihrem Chatbot eine informierte (einschlie\xdflich Info \xfcber jederzeitige Widerruflichkeit), konkrete Einwilligung eingeholt ?",type:"checkbox"})),i.a.createElement(Ca,{xs:3}),i.a.createElement(Ca,{xs:9},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn von Ihrem Chatbot eine informierte, konkrete Einwilligung eingeholt wird."))))),a.dseExists&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"datenProfiling",component:js,label:"5.) Werden von Ihrem Chatbot Entscheidungen getroffen (zb durch Profiling), welche rechtliche Wirkung gegen\xfcber den Nutzern entfaltet oder sie in \xe4hnlicher Weise erheblich beeintr\xe4chtigt ?",type:"checkbox",disabled:!a.dseExists})),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn von Ihrem Chatbot Entscheidungen wie in der Fragestellung getroffen werden."))),a.dseExists&&a.datenProfiling&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"datenProfilingContract",component:js,label:"Sind solche Entscheidungen f\xfcr den Abschluss oder die Erf\xfcllung eines Vertrags zwischen der betroffenen Person und Ihnen bzw Ihrem Chatbot zwingend erforderlich ?",type:"checkbox"}))),a.dseExists&&a.datenProfiling&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"datenProfilingLegal",component:js,label:"Unterliegen Sie oder Ihr Chatbot Rechtsvorschriften, laut denen solche Entscheidungen zul\xe4ssig sind ?",type:"checkbox"}))),a.dseExists&&a.datenProfiling&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"datenProfilingEinwilligung",component:js,label:"Wird von Ihrem Chatbot eine informierte (einschlie\xdflich Info \xfcber jederzeitige Widerruflichkeit), konkrete Einwilligung eingeholt ?",type:"checkbox"}))),a.dseExists&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"datenForward",component:js,label:"6.) Werden von Ihrem Chatbot personenbezogene Daten an Dritte \xfcbermittelt ?",type:"checkbox",disabled:!a.dseExists})),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn von Ihrem Chatbot personenbezogene Daten an Dritte \xfcbermittelt werden."))),a.dseExists&&a.datenForward&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"datenForwardAuftrag",component:js,label:"Geschieht dies ausschlie\xdflich zur Verarbeitung im Rahmen der obigen zul\xe4ssigen Verarbeitung (Auftragsverarbeitervertrag) ?",type:"checkbox"}))),a.dseExists&&a.datenForward&&!a.datenForwardAuftrag&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(Bn.a,{name:"datenForwardEinwilligung",component:js,label:"Wird von Ihrem Chatbot eine informierte (einschlie\xdflich Info \xfcber jederzeitige Widerruflichkeit), konkrete Einwilligung eingeholt ?",type:"checkbox"})),i.a.createElement(Ca,{xs:2}),i.a.createElement(Ca,{xs:10},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn von Ihrem Chatbot eine informierte, konkrete Einwilligung eingeholt wird."))),a.dseExists&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"datenWerbung",component:js,label:"7.) Werden von Ihrem Chatbot Werbenachrichten (im weitesten Sinne) an Kunden gesendet?",type:"checkbox",disabled:!a.dseExists})),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn von Ihrem Chatbot Werbenachrichten am Kunden gesendet werden."))),a.dseExists&&a.datenWerbung&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(Bn.a,{name:"datenWerbungEinwilligung",component:js,label:"Wird von Ihrem Chatbot eine informierte (einschlie\xdflich Info \xfcber jederzeitige Widerruflichkeit), konkrete Einwilligung eingeholt ?",type:"checkbox"})),i.a.createElement(Ca,{xs:1}),i.a.createElement(Ca,{xs:11},i.a.createElement(or,null,"Aktivieren Sie diese Option, wenn von Ihrem Chatbot eine informierte, konkrete Einwilligung eingeholt wird."))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement("h3",null,"Schritt 3) Auswertung und Empfehlungen")),e.renderSuggestion("Da zumindest die IP-Adresse (als i.d.R. personenbezogenes Datum) verarbeitet wird, bedarf es jedenfalls einer Datenschutzerkl\xe4rung (DSE)!",!0,a.dseExists),a.dseExists&&e.renderSuggestion("Machen Sie die Datenschutzerkl\xe4rung (DSE) vor der Erfassung von personenbezogenen Daten und fr\xfchestm\xf6glich bei Nutzung Ihres Chatbots zug\xe4nglich!",!0,a.dseAvailable),a.dseExists&&e.renderSuggestion("Die Datenschutzerkl\xe4rung (DSE) muss alle Informationen laut DSGVO, Art. 13, Buchstabe f enthalten.",!0,a.dseComplete,i.a.createElement(i.a.Fragment,null,"Die Datenschutzerkl\xe4rung (DSE) muss alle Informationen laut DSGVO, Art. 13, Buchstabe f enthalten, zumindest:",i.a.createElement("ul",null,i.a.createElement("li",null,"den Namen und die Kontaktdaten des Verantwortlichen"),i.a.createElement("li",null,"die Zwecke, f\xfcr die die personenbezogenen Daten verarbeitet werden sollen, sowie die Rechtsgrundlage f\xfcr die Verarbeitung"),i.a.createElement("li",null,"die Empf\xe4nger der personenbezogenen Daten"),i.a.createElement("li",null,"die Dauer, f\xfcr die die personenbezogenen Daten gespeichert werden oder, falls dies nicht m\xf6glich ist, die Kriterien f\xfcr die Festlegung dieser Dauer"),i.a.createElement("li",null,"das Bestehen eines Rechts auf Auskunft seitens des Verantwortlichen \xfcber die betreffenden personenbezogenen Daten sowie auf Berichtigung oder L\xf6schung oder auf Einschr\xe4nkung der Verarbeitung oder eines Widerspruchsrechts gegen die Verarbeitung sowie des Rechts auf Daten\xfcbertragbarkeit; und das Bestehen eines Beschwerderechts bei einer Aufsichtsbeh\xf6rde"),i.a.createElement("li",null,"ob die Bereitstellung der personenbezogenen Daten gesetzlich oder vertraglich vorgeschrieben oder f\xfcr einen Vertragsabschluss erforderlich ist, ob die betroffene Person verpflichtet ist, die personenbezogenen Daten bereitzustellen, und welche m\xf6gliche Folgen die Nichtbereitstellung h\xe4tte")),'wenn Daten "automatisch oder bei Dritten erhoben" (also nicht vom Nutzer eingegeben werden):',i.a.createElement("ul",null,i.a.createElement("li",null,"die Kategorien personenbezogener Daten, die verarbeitet werden"),i.a.createElement("li",null,"aus welcher Quelle die personenbezogenen Daten stammen und gegebenenfalls ob sie aus \xf6ffentlich zug\xe4nglichen Quellen stammen.")))),a.dseExists&&!a.datenErhoben&&e.renderSuggestion("Da die IP-Adresse f\xfcr Chatbots technisch notwendig ist, darf diese jedenfalls (zum Chatbot-Betrieb) verarbeitet werden.",!0,!0),a.dseExists&&a.datenErhoben&&e.renderSuggestion("Bei der Erhebung personenbezogener Daten muss angemessene Datensicherheit gew\xe4hrleistet sein (zB verschl\xfcsselte Kommunikation).",!0,a.datenErhobenSecurity),a.dseExists&&a.datenErhoben&&a.datenErhobenServiceRequired&&e.renderSuggestion("Die Erhebung personenbezogener Daten zur Service-Erbringung ist zul\xe4ssig, wenn dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt wird.",!0,a.datenErhobenServiceRequiredDSE),a.dseExists&&a.datenErhoben&&!a.datenErhobenServiceRequired&&a.datenErhobenContractRequired&&e.renderSuggestion("Die Erhebung personenbezogener Daten zur Vertragserf\xfcllung ist zul\xe4ssig, wenn dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt wird.",!0,a.datenErhobenContractRequiredDSE),a.dseExists&&a.datenErhoben&&!a.datenErhobenServiceRequired&&!a.datenErhobenContractRequired&&e.renderSuggestion("Die Erhebung personenbezogener Daten zur Vertragserf\xfcllung ist bis zum Widerruf zul\xe4ssig, wenn durch Ihren Chatbot eine informierte, konkrete Einwilligung eingeholt wird.",!0,a.datenErhobenEinwilligung),a.dseExists&&!a.datenAusgabe&&e.renderSuggestion("Von Ihrem Chatbot werden keine personenbezogenen Daten ausgegeben.",!0,!0),a.dseExists&&a.datenAusgabe&&e.renderSuggestion("Bei der Ausgabe personenbezogener Daten muss angemessene Datensicherheit gew\xe4hrleistet sein (zB verschl\xfcsselte Kommunikation).",!0,a.datenAusgabeSecurity),a.dseExists&&a.datenAusgabe&&e.renderSuggestion("Bei der Ausgabe personenbezogener Daten muss die Identit\xe4t des Abfragenden durch Ihren Chatbot verifiziert werden.",!0,a.datenAusgabeVerification),a.dseExists&&a.datenAusgabe&&a.datenAusgabeServiceRequired&&e.renderSuggestion("Die Ausgabe personenbezogener Daten zur Service-Erbringung ist zul\xe4ssig, wenn dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt wird.",!0,a.datenAusgabeServiceRequiredDSE),a.dseExists&&a.datenAusgabe&&!a.datenAusgabeServiceRequired&&a.datenAusgabeContractRequired&&e.renderSuggestion("Die Ausgabe personenbezogener Daten zur Vertragserf\xfcllung ist zul\xe4ssig, wenn dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt wird.",!0,a.datenAusgabeContractRequiredDSE),a.dseExists&&a.datenAusgabe&&!a.datenAusgabeServiceRequired&&!a.datenAusgabeContractRequired&&e.renderSuggestion("Die Ausgabe personenbezogener Daten zur Vertragserf\xfcllung ist bis zum Widerruf zul\xe4ssig, wenn durch Ihren Chatbot eine informierte, konkrete Einwilligung eingeholt wird.",!0,a.datenAusgabeEinwilligung),a.dseExists&&!a.datenAnalyse&&e.renderSuggestion("Von Ihrem Chatbot werden keine personenbezogenen Daten analysiert oder f\xfcr weitere Zwecke verarbeitet.",!0,!0),a.dseExists&&a.datenAnalyse&&e.renderSuggestion("Bei der Analyse personenbezogener Daten muss angemessene Datensicherheit gew\xe4hrleistet sein (zB verschl\xfcsselte Kommunikation).",!0,a.datenAnalyseSecurity),a.dseExists&&a.datenAnalyse&&a.datenAnalyseServiceRequired&&e.renderSuggestion("Die Analyse personenbezogener Daten zur Service-Erbringung ist zul\xe4ssig, wenn dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt wird.",!0,a.datenAnalyseServiceRequiredDSE),a.dseExists&&a.datenAnalyse&&!a.datenAnalyseServiceRequired&&a.datenAnalyseContractRequired&&e.renderSuggestion("Die Analyse personenbezogener Daten zur Vertragserf\xfcllung ist zul\xe4ssig, wenn dies in der Datenschutzerkl\xe4rung (DSE) abgedeckt wird.",!0,a.datenAnalyseContractRequiredDSE),a.dseExists&&a.datenAnalyse&&!a.datenAnalyseServiceRequired&&!a.datenAnalyseContractRequired&&e.renderSuggestion("Die Analyse personenbezogener Daten zur Vertragserf\xfcllung ist bis zum Widerruf zul\xe4ssig, wenn durch Ihren Chatbot eine informierte, konkrete Einwilligung eingeholt wird.",!0,a.datenAnalyseEinwilligung),a.dseExists&&!a.datenProfiling&&e.renderSuggestion("Von Ihrem Chatbot werden keine Entscheidungen getroffen (zb durch Profiling), welche rechtliche Wirkung gegen\xfcber den Nutzern entfaltet oder sie in \xe4hnlicher Weise erheblich beeintr\xe4chtigt.",!0,!0),a.dseExists&&a.datenProfiling&&e.renderSuggestion("Von Ihrem Chatbot werden Entscheidungen getroffen (zb durch Profiling), welche rechtliche Wirkung gegen\xfcber den Nutzern entfaltet oder sie in \xe4hnlicher Weise erheblich beeintr\xe4chtigt.",!0,a.datenProfilingContract||a.datenProfilingLegal||a.datenProfilingEinwilligung,i.a.createElement(i.a.Fragment,null,"Von Ihrem Chatbot werden Entscheidungen getroffen (zb durch Profiling), welche rechtliche Wirkung gegen\xfcber den Nutzern entfaltet oder sie in \xe4hnlicher Weise erheblich beeintr\xe4chtigt (etwa Ablehnung von Vertragsabschl\xfcssen, automatische K\xfcndigung oder dergleichen).",i.a.createElement("br",null),"Unter ",i.a.createElement("i",null,"Profiling")," versteht sich jede Art der automatisierten Verarbeitung personenbezogener Daten, die darin besteht, dass diese verwendet werden, um bestimmte pers\xf6nliche Aspekte, die sich auf eine nat\xfcrliche Person beziehen, zu bewerten, insbesondere um Aspekte bez\xfcglich Arbeitsleistung, wirtschaftliche Lage, Gesundheit, pers\xf6nliche Vorlieben, Interessen, Zuverl\xe4ssigkeit, Verhalten, Aufenthaltsort oder Ortswechsel dieser nat\xfcrlichen Person zu analysieren oder vorherzusagen.",i.a.createElement("br",null),"Dies ist zul\xe4ssig, wenn:",i.a.createElement("ul",null,i.a.createElement("li",null,"solche Entscheidungen f\xfcr den Abschluss oder die Erf\xfcllung eines Vertrags zwischen der betroffenen Person und dem Verantwortlichen des Chatbots zwingend erforderlich ist"),i.a.createElement("li",null,"oder aufgrund von Rechtsvorschriften, denen der Verantwortliche unterliegt, dies zul\xe4ssig ist"),i.a.createElement("li",null,"oder die ausdr\xfcckliche Einwilligung des Nutzers vorliegt")),"Selbst bei Zul\xe4ssigkeit muss es f\xfcr den Nutzer die M\xf6glichkeit der Erwirkung des Eingreifens einer Person seitens des Verantwortlichen geben, sodass der Nutzer den eigenen Standpunkts darlegen und die Entscheidung anfechten kann.")),a.dseExists&&!a.datenForward&&e.renderSuggestion("Von Ihrem Chatbot werden keine personenbezogenen Daten an Dritte \xfcbermittelt.",!0,!0),a.dseExists&&a.datenForward&&e.renderSuggestion("Von Ihrem Chatbot werden personenbezogene Daten an Dritte \xfcbermittelt.",!0,a.datenForwardAuftrag||a.datenForwardEinwilligung,i.a.createElement(i.a.Fragment,null,"Von Ihrem Chatbot werden personenbezogene Daten an Dritte \xfcbermittelt. Dies ist zul\xe4ssig, wenn:",i.a.createElement("ul",null,i.a.createElement("li",null,"dies ausschlie\xdflich zur Verarbeitung im Rahmen der obigen zul\xe4ssigen Verarbeitung (Auftragsverarbeitervertrag) geschieht"),i.a.createElement("li",null,"oder die ausdr\xfcckliche Einwilligung des Nutzers vorliegt")))),a.dseExists&&!a.datenWerbung&&e.renderSuggestion("Von Ihrem Chatbot werden keine Werbenachrichten an Kunden gesendet.",!0,!0),a.dseExists&&a.datenWerbung&&e.renderSuggestion("Von Ihrem Chatbot werden Werbenachrichten an Kunden gesendet.",!0,a.datenWerbungEinwilligung,i.a.createElement(i.a.Fragment,null,"Von Ihrem Chatbot werden Werbenachrichten an Kunden gesendet. Dies ist zul\xe4ssig, wenn:",i.a.createElement("ul",null,i.a.createElement("li",null,"die ausdr\xfcckliche Einwilligung des Nutzers vorliegt"))))))}})))))}}]),t}(i.a.Component),mb=Object(h.f)(te()($p),Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t}),Object(h.g)(Ou,{props:function(e){return{chatbotsData:e.data}}}))(ub),db=a(372),pb=a.n(db),Eb=Object(Ee.a)({},ai),bb=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Device Sets")),i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:e.cardTitleWhite},"Device Sets"),i.a.createElement("p",{className:e.cardCategoryWhite},"Listing all your device collections")),i.a.createElement(yn,null,i.a.createElement(h.d,{query:Hu,notifyOnNetworkStatusChange:!0},function(e){var t=e.loading,a=e.error,n=e.data,r=e.refetch;return a?i.a.createElement(Dn,{err:a}):i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Description","Provider","Tags","Active"],pageLoading:t,tableData:n&&n.devicesets&&n.devicesets.map(function(e){return[{value:e.name,href:"/devicesets/view/"+e.id},{value:e.description,href:"/devicesets/view/"+e.id},e.provider.name,e.tags,"".concat(e.devices.length," Device(s)")]}),onRefresh:function(){return r()}}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Ue.a,{to:"/devicesets/register"},i.a.createElement(yt,{color:"primary"},i.a.createElement(pb.a,null),"Register new Device Set")))))})))))}}]),t}(i.a.Component),hb=te()(Eb)(bb),gb=a(43),fb=gb.hasPermission,Sb=gb.hasAnyPermission,vb=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"hasWritePermission",value:function(){var e=this.props.user;return Sb(e,["DEVICESETS_CREATE","DEVICESETS_UPDATE"])}},{key:"renderDeviceProviderSelection",value:function(e){var t=this;return i.a.createElement(h.d,{query:ls},function(a){var n=a.loading,r=a.error,s=a.data;return n?i.a.createElement("p",null,"Loading..."):r?i.a.createElement(Dn,{err:r}):i.a.createElement(Bn.a,{name:"provider.id",component:_s,label:"Device Provider",formControlProps:{disabled:!!e.id},validate:Ms,disabled:!t.hasWritePermission()},s&&s.deviceproviders&&s.deviceproviders.map(function(e){return i.a.createElement(Ge.a,{key:e.id,value:e.id},e.name)}))})}},{key:"renderDeviceSelection",value:function(e,t){var a=this;if(t&&t.id)return i.a.createElement(h.d,{query:Gu,variables:{provider:t.id}},function(e){var t=e.loading,n=e.error,r=e.data;return t?i.a.createElement("p",null,"Loading..."):n?i.a.createElement(Dn,{err:n}):i.a.createElement(Bn.a,{name:"devices",component:Ds,label:"Select Device(s)",suggestions:r&&r.availabledevices,numsuggestions:30,keyFunc:function(e){return e.name},labelFunc:function(e){return e.name},disabled:!a.hasWritePermission()})})}},{key:"renderForm",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=a.history,o=a.user;return i.a.createElement(h.c,{mutation:e.id?$u:zu,onCompleted:function(e){e.updateDeviceSet?n("Device Set updated"):e.createDeviceSet&&(n("Device Set registered"),s.push("/devicesets/view/".concat(e.createDeviceSet.id)))},onError:function(e){r("Device Set update failed",e)},refetchQueries:[{query:Hu},{query:Ts}]},function(a,s){s.loading,s.error;return i.a.createElement(Bn.b,{onSubmit:function(t){var n={name:t.name,description:t.description||null,tags:{set:t.tags},provider:{connect:{id:t.provider.id}},devices:{create:t.devices&&t.devices.map(function(e){if(e.value){var t=JSON.parse(e.value);return{name:e.name,type:t.type,capabilities:JSON.stringify(t.capabilities)}}return{name:e.name,type:e.type,capabilities:e.capabilities}})}};e.id&&(n.devices.delete=e.devices.map(function(e){return{id:e.id}})),e.id?a({variables:{id:e.id,deviceSet:n}}):a({variables:{deviceSet:n}})},initialValues:e,render:function(a){var s=a.handleSubmit,l=(a.eset,a.submitting),c=a.pristine,u=a.invalid,m=a.values;return i.a.createElement("form",{onSubmit:s},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"name",component:Is,label:"Device Set Name",validate:Ms,disabled:!t.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"tags",component:Os,label:"Tags",disabled:!t.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"description",component:ws,label:"Device Set Description",rows:3,disabled:!t.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},t.renderDeviceProviderSelection(e)),i.a.createElement(Ca,{xs:12,sm:8},t.renderDeviceSelection(e,m.provider))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},t.hasWritePermission()&&i.a.createElement(yt,{type:"submit",disabled:l||c||u,color:"primary"},i.a.createElement(bm.a,null),"Save"),e.id&&fb(o,"DEVICESETS_DELETE")&&i.a.createElement(h.c,{mutation:qu,onCompleted:function(e){n("Device Set deleted"),t.props.history.push("/devicesets/list")},onError:function(e){r("Device Set deletion failed",e)},refetchQueries:[{query:Hu}]},function(t,a){a.loading,a.error;return i.a.createElement(yt,{color:"danger",onClick:function(){t({variables:{id:e.id}})}},i.a.createElement(Dm.a,null),"Delete Device Set")}),t.hasWritePermission()&&i.a.createElement(Ue.a,{to:"/devicesets/list"},i.a.createElement(yt,null,i.a.createElement(Lm.a,null),"Cancel")))))}})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.match;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Device Set ...")),i.a.createElement(Ca,{xs:12},i.a.createElement(fn,null,n.params&&n.params.id&&i.a.createElement(h.d,{query:Uu,variables:{id:n.params.id}},function(t){var n=t.loading,r=t.error,s=t.data;return n?i.a.createElement(i.a.Fragment,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:a.cardTitleWhite},"Device Set ..."),i.a.createElement("p",{className:a.cardCategoryWhite},"Loading")),i.a.createElement(yn,null,i.a.createElement("p",null,"Loading..."))):r?i.a.createElement(Dn,{err:r}):i.a.createElement(i.a.Fragment,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,s.deviceset&&s.deviceset.name)),i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:a.cardTitleWhite},"Device Set '",s.deviceset&&s.deviceset.name,"'"),i.a.createElement("p",{className:a.cardCategoryWhite},"Edit")),i.a.createElement(yn,null,e.renderForm(s.deviceset)))}),(!n.params||!n.params.id)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:a.cardTitleWhite},"Register Device Set")),i.a.createElement(yn,null,this.renderForm({tags:[],devices:[]}))))))}}]),t}(i.a.Component),Tb=Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(Eb)(vb)),yb=Object(Ee.a)({},ai,ka),xb=a(43).hasPermission,Ob=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Test Projects")),i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:t.cardTitleWhite},"Botium Test Projects"),i.a.createElement("p",{className:t.cardCategoryWhite},"Listing all Botium Test Projects")),i.a.createElement(yn,null,i.a.createElement(h.d,{query:Ji,notifyOnNetworkStatusChange:!0},function(e){var t=e.loading,n=e.error,r=e.data,s=e.refetch;return n?i.a.createElement(Dn,{err:n}):i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Tags","Chatbot","Test Sets","Device Sets"],pageLoading:t,tableData:r&&r.testprojects&&r.testprojects.map(function(e){return[{value:e.name,href:"/testprojects/view/"+e.id},e.tags,{value:e.chatbot.name,href:"/chatbots/view/"+e.chatbot.id},e.testSets.map(function(e){return e.name}),e.deviceSets&&e.deviceSets.map(function(e){return e.name})]}),onRefresh:function(){return s()}}))),xb(a,"TESTPROJECTS_CREATE")&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Ue.a,{to:"/quickstart"},i.a.createElement(yt,{color:"primary"},i.a.createElement(Ep.a,null),"Register new Test Project")))))})))))}}]),t}(i.a.Component),Cb=Object(c.b)(function(e){return{user:e.token.user}})(te()(yb)(Ob)),Ab=a(373),kb=a.n(Ab),Ib=a(374),Pb=a.n(Ib),wb=a(43),Rb=wb.hasPermission,jb=wb.hasAnyPermission,Nb=["GET","POST","PUT"],_b=[{key:"json",name:"JSON (*.json)"},{key:"junit",name:"JUnit XML (*.xml)"},{key:"csv",name:"CSV/Excel (*.csv)"}],Db=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).state={trigger:{tags:[],buildId:"",apikey:"",reporter:"json",callbackUrl:"",callbackMethod:"POST",wait:!1,showCloneDialog:!0}},a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"hasWritePermission",value:function(){var e=this.props.user;return jb(e,["TESTPROJECTS_CREATE","TESTPROJECTS_UPDATE"])}},{key:"renderChatbots",value:function(e){var t=e.loading,a=e.error,n=e.chatbots;return t?i.a.createElement("p",null,"Loading"):a?i.a.createElement(Dn,{err:a}):(n&&(n.forEach(function(e){return e.connector=(e.capabilities.find(function(e){return"CONTAINERMODE"===e.name})||{}).stringValue}),this.chatbots=n.filter(function(e){return e.connector})),i.a.createElement(i.a.Fragment,null,n&&i.a.createElement(Bn.a,{name:"chatbot.id",component:_s,label:"Chatbot"},n.map(function(e){return i.a.createElement(Ge.a,{key:e.id,value:e.id},e.name)}))))}},{key:"renderTestSets",value:function(e){var t=e.loading,a=e.error,n=e.testsets;return t?i.a.createElement("p",null,"Loading"):a?i.a.createElement(Dn,{err:a}):n?i.a.createElement(Bn.a,{name:"testSets",component:Ds,label:"Select Test Set(s)",suggestions:n,numsuggestions:20,keyFunc:function(e){return e.id},labelFunc:function(e){return e.name},validate:Ms}):i.a.createElement("p",null,"No Test Sets")}},{key:"renderDeviceSets",value:function(e){var t=e.loading,a=e.error,n=e.devicesets;return t?i.a.createElement("p",null,"Loading"):a?i.a.createElement(Dn,{err:a}):n?i.a.createElement(Bn.a,{name:"deviceSets",component:Ds,label:"Select Device Set(s) (optionally)",suggestions:n,numsuggestions:20,keyFunc:function(e){return e.id},labelFunc:function(e){return e.name}}):i.a.createElement("p",null,"No Device Sets")}},{key:"renderCloneDialog",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=a.history,o=this.props,l=o.chatbotsData,c=o.testSetsData,u=o.deviceSetsData;return i.a.createElement(h.c,{mutation:Yi,onCompleted:function(e){t.setState({showCloneDialog:!1}),n("Test Set cloned"),s.push("/testprojects/view/".concat(e.createTestProject.id))},onError:function(e){r("Test Project cloning failed",e)},refetchQueries:function(){return[{query:Ji}]}},function(a,n){var r=n.loading;n.error;return i.a.createElement(Bn.b,{onSubmit:function(e){var t={name:e.name,code:e.code,securityCheck:e.securityCheck,description:e.description,batchCount:e.batchCount,bail:e.bail,tags:{set:e.tags},client:e.client,chatbot:{connect:{id:e.chatbot.id}},testSets:{connect:e.testSets&&e.testSets.map(function(e){return{id:e.id}})},deviceSets:{connect:e.deviceSets&&e.deviceSets.map(function(e){return{id:e.id}})},registeredComponents:{connect:e.registeredComponents&&e.registeredComponents.map(function(e){return{id:e.id}})},capabilities:{connect:e.capabilities&&e.capabilities.map(function(e){return{id:e.id}})}};e.agent&&e.agent.id&&(t.agent={connect:{id:e.agent.id}}),a({variables:{testProject:t}})},initialValues:Object.assign({},e,{name:"Copy of ".concat(e.name)}),render:function(e){var a=e.handleSubmit;e.reset,e.submitting,e.pristine,e.values;return i.a.createElement(cl,{open:!!t.state.showCloneDialog,onCancel:function(){return t.setState({showCloneDialog:!1})},onOk:function(){return a()},isWorking:r,title:"Clone Test Project"},i.a.createElement("form",{onSubmit:a},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(Bn.a,{name:"name",component:Is,label:"Test Project Name",validate:Ms,disabled:!t.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:12},t.renderChatbots(l)),i.a.createElement(Ca,{xs:12,sm:12},t.renderTestSets(c)),i.a.createElement(Ca,{xs:12,sm:12},t.renderDeviceSets(u)))))}})})}},{key:"renderTrigger",value:function(e,t){var a=this,n=this.state.trigger;return i.a.createElement(h.d,{query:as},function(t){t.loading,t.error;var r=t.data,s=r&&r.apikeys||[],o=n.apikey||s.length>0&&s[0].key||"SELECT_API_KEY",l=wt.api.ext,c="".concat(l,"/triggerbuild/").concat(e.code,"?APIKEY=").concat(o),u="",m=c,d=[];n.buildId&&(c+="&BUILDID=".concat(n.buildId),d.push("--buildid ".concat(n.buildId)),u="".concat(l,"/build/").concat(n.buildId,"?APIKEY=").concat(o)),n.wait&&(c+="&WAIT=1",u&&(u+="&WAIT=1")),n.tags&&n.tags.length>0&&(c+="&".concat(n.tags.map(function(e){return"TAG=".concat(e)}).join("&")),d.push(" --tags ".concat(n.tags.join(" "),"  --"))),n.reporter&&(c+="&REPORTER=".concat(n.reporter),u&&(u+="&REPORTER=".concat(n.reporter))),n.callbackUrl&&(c+="&CALLBACKURL=".concat(encodeURIComponent(n.callbackUrl),"&CALLBACKMETHOD=").concat(n.callbackMethod),u&&(u+="&CALLBACKURL=".concat(encodeURIComponent(n.callbackUrl),"&CALLBACKMETHOD=").concat(n.callbackMethod)),m+="&CALLBACKURL=".concat(encodeURIComponent(n.callbackUrl),"&CALLBACKMETHOD=").concat(n.callbackMethod));var p="botium-cli box xunit --reporter-options output=junit.xml --webhook ".concat(m," ").concat(d.join(" "));return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement("h3",null,"Step 1/3: Enter Build Server Integration Scripts Parameters")),i.a.createElement(Ca,{xs:12,sm:4},_s({input:{value:o,onChange:function(e){return a.setState({trigger:Object(Ee.a)({},n,{apikey:e.target.value})})},children:s.map(function(e){return i.a.createElement(Ge.a,{key:e.key,value:e.key},e.name)})},label:"API Key",helperText:"API Key to use in your requests"})),i.a.createElement(Ca,{xs:12,sm:4},Is({input:{onChange:function(e){return a.setState({trigger:Object(Ee.a)({},n,{buildId:e.target.value})})},value:n.buildId},label:"Build Id",helperText:"Build Identifier to name your Test Results"})),i.a.createElement(Ca,{xs:12,sm:4},Os({input:{name:"BuildTags",onChange:function(e){return a.setState({trigger:Object(Ee.a)({},n,{tags:e})})},value:n.tags},label:"Build Tags",helperText:"Build Tags to attach to the Test Results"})),i.a.createElement(Ca,{xs:12,sm:4},_s({input:{value:n.reporter,onChange:function(e){return a.setState({trigger:Object(Ee.a)({},n,{reporter:e.target.value})})},children:_b.map(function(e){return i.a.createElement(Ge.a,{key:e.key,value:e.key},e.name)})},label:"Output Format",helperText:"File format to use for the test results"})),i.a.createElement(Ca,{xs:12,sm:4},Is({input:{onChange:function(e){return a.setState({trigger:Object(Ee.a)({},n,{callbackUrl:e.target.value})})},value:n.callbackUrl},label:"Callback URL",helperText:"HTTP(S) endpoint to use for the callback"})),i.a.createElement(Ca,{xs:12,sm:4},_s({input:{value:n.callbackMethod,onChange:function(e){return a.setState({trigger:Object(Ee.a)({},n,{callbackMethod:e.target.value})})},children:Nb.map(function(e){return i.a.createElement(Ge.a,{key:e,value:e},e)})},label:"Callback Method",helperText:"HTTP(S) Method to use for the callback"})),i.a.createElement(Ca,{xs:12,sm:4},js({input:{onChange:function(e){return a.setState({trigger:Object(Ee.a)({},n,{wait:e.target.checked})})},checked:n.wait},label:"Wait with HTTP(S) response until test session completed"})),i.a.createElement(Ca,{xs:12},i.a.createElement("h3",null,"Step 2/3: Generated Build Server Integration Scripts (Use Copy & Paste)")),i.a.createElement(Ca,{xs:12},i.a.createElement(rd,{name:"TestProject_".concat(e.id,"_Trigger"),headerColor:"info",tabs:[{tabName:"HTTP(S) Webhook Link",tabContent:i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},ws({input:{value:c,readOnly:!0},label:"Start Test Project Link",helperText:"Use this link to trigger the Botium Test Project from any CI pipeline",rows:2})),i.a.createElement(Ca,{xs:12},ws({input:{value:u,readOnly:!0},label:"Status Link",helperText:"Use this link to get the status and result for the Botium Test Project (Build Id required)",rows:2})))},{tabName:"Botium CLI",tabContent:i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},ws({input:{value:p,readOnly:!0},label:"Botium CLI command line",helperText:"Command line to run when using the Botium CLI (standalone or integrated into a CI pipeline)",rows:2})))},{tabName:"cURL command line",tabContent:i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},ws({input:{value:"curl "+c,readOnly:!0},label:"Start Test Project with cURL",helperText:"Command line to run when using cURL (standalone or integrated into a CI pipeline) to trigger the Botium Test Project",rows:2})),i.a.createElement(Ca,{xs:12},ws({input:{value:u,readOnly:!0},label:"Get Status with cURL",helperText:"Command line to get the status and result for the Botium Test Project (Build Id required)",rows:2})))},{tabName:"Build your own",tabContent:i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement("b",null,"HTTP(S) Endpoint - Start Test Project:")," ","".concat(l,"/triggerbuild/").concat(e.code)),i.a.createElement(Ca,{xs:12},i.a.createElement("b",null,"HTTP(S) Endpoint - Status Check:")," ","".concat(l,"/build/_BUILDID_")),i.a.createElement(Ca,{xs:12},i.a.createElement("em",null,"All parameters can be handed over to the webhook either:"),i.a.createElement("ul",null,i.a.createElement("li",null,'As HTTP query parameter ("...&PARAMNAME=VALUE...")'),i.a.createElement("li",null,"As JSON body part attribute (Request Body: ","{",' ..."PARAMNAME": "VALUE"...',"}",")"),i.a.createElement("li",null,'As HTTP header with prefix "X-BOTIUM-" ("X-BOTIUM-PARAMNAME": "VALUE")'))),i.a.createElement(Ca,{xs:12},i.a.createElement("b",null,"APIKEY:")," mandatory - ",i.a.createElement(Ue.a,{to:"/settings/apikeys"},"An active ApiKey")),i.a.createElement(Ca,{xs:12},i.a.createElement("b",null,"BUILDID:")," optional at start, mandatory at status check - Build Identifier to name your Test Results, you can choose your own"),i.a.createElement(Ca,{xs:12},i.a.createElement("b",null,"TAG:")," optional, multiple - Build Tags to attach to the Test Results"),i.a.createElement(Ca,{xs:12},i.a.createElement("b",null,"REPORTER:")," optional - File format to use for the test results (json, junit, csv)"),i.a.createElement(Ca,{xs:12},i.a.createElement("b",null,"CALLBACKURL:")," optional - HTTP(S) endpoint to use for the callback"),i.a.createElement(Ca,{xs:12},i.a.createElement("b",null,"CALLBACKMETHOD:")," optional - HTTP(S) Method to use for the callback"),i.a.createElement(Ca,{xs:12},i.a.createElement("b",null,"WAIT:")," optional - 1 (wait until complete) or 0 (run in background)"))}]})),i.a.createElement(Ca,{xs:12},i.a.createElement("h3",null,"Step 3/3: Configure your Build Server")),i.a.createElement(Ca,{xs:12},"Please consult your Build Server documentation on how to integrate either HTTP(S)-Calls or command line scripts into the build pipeline."))})}},{key:"renderTestResults",value:function(e){var t=this.props,a=t.setAlertSuccessMessage,n=t.setAlertErrorMessage,r=t.history,s=t.user;return i.a.createElement(i.a.Fragment,null,Rb(s,"TESTSESSIONS_CREATE")&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(h.c,{mutation:to,onCompleted:function(e){a("Test session started ...");var t=e.startTestProject.id;r.push("/testsessions/view/"+t)},onError:function(e){n("Test session failed",e)},refetchQueries:[{query:Ai}]},function(t,a){a.loading,a.error;return i.a.createElement(yt,{onClick:function(){t({variables:{id:e.id}})}},i.a.createElement(ip.a,null),"Start Test Session now")}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:Ai,variables:{where:{testProject:{id:e.id}},skip:0,first:0},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0},function(t){var a=t.loading,n=t.error,r=t.fetchMore,s=t.data;return n?i.a.createElement(Dn,{err:n}):i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["","","Name","Date","Tags"],pageLoading:a,tableData:s&&s.testsessions&&s.testsessions.map(function(e){return[function(){return i.a.createElement(Li,{testSession:e})},function(){return i.a.createElement(Mi,{testSession:e})},{value:e.name,href:"/testsessions/view/"+e.id},function(){return i.a.createElement(_n,null,e.createdAt)},e.tags]}),onPageChange:function(t,a){r({variables:{where:{testProject:{id:e.id}},skip:t,first:a},updateQuery:function(e,t){var a=t.fetchMoreResult;return a||e}})}})}))))}},{key:"renderPerformanceTestResults",value:function(e){var t=e.testproject,a=e.submitting,n=e.form,r=e.conditional,s=e.values,o=this.props.user;return i.a.createElement(i.a.Fragment,null,Rb(o,"PERFORMANCETESTSESSIONS_CREATE")&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"performanceTest_Type",component:_s,label:"Start new Performance Test Session",disabled:"basic"===wt.buildTarget||!this.hasWritePermission()},i.a.createElement(Ge.a,{key:"",value:""}),i.a.createElement(Ge.a,{key:"load",value:"load"},"Botium Load Test (generate constant load)"),i.a.createElement(Ge.a,{key:"stress",value:"stress"},"Botium Stress Test (generate increasing load)"),i.a.createElement(Ge.a,{key:"advanced",value:"advanced"},"Advanced mode (detailed parameter settings)"))),i.a.createElement(Ca,{xs:12,sm:6}),i.a.createElement(Ca,{xs:12},"load"===s.performanceTest_Type&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(at.a,null),i.a.createElement(Ia,null,"A load test is a planned test to perform a specified number of requests to your chatbot in order to test the functionality of the chatbot under specific levels of simultaneous requests. Botium generated constant load by repeating the selected test set convos for each step (10 sec).")),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_tickMaxTimeMinutes",component:Ps,label:"Load Test Duration (in minutes)",validate:r.decorateValidator(Ks(Hs(1),Ms),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()}),i.a.createElement(or,null,"Enter the duration for the load test. Depending on the other settings (especially if your chatbot is not able to handle the load) it can take significantly longer.")),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_tickRepeatInitial",component:Ps,label:"Test Set Multiplicator",validate:r.decorateValidator(Hs(1),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()}),i.a.createElement(or,null,"For each load test step, the selected test set convos are repeated by the given multiplicator.")),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_parallelConvoCount",component:Ps,label:"Maximum Parallel Users",validate:r.decorateValidator(Ks(Hs(1),Ms),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()}),i.a.createElement(or,null,"Enter the maximum number of parallel users you want to test."))),"stress"===s.performanceTest_Type&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(at.a,null),i.a.createElement(Ia,null,"A stress test is a test designed to increase the number of simultaneous requests on a chatbot past a point where performance is degraded, possibly even to the point of complete failure. Botium generated increasing load by adding additional test set convos for each step (10 sec).")),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_tickMaxTimeMinutes",component:Ps,label:"Stress Test Duration (in minutes)",validate:r.decorateValidator(Ks(Hs(1),Ms),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()}),i.a.createElement(or,null,"Enter the duration for the stress test. Depending on the other settings (especially if your chatbot is not able to handle the load) it can take significantly longer.")),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_tickRepeatInitial",component:Ps,label:"Test Set Multiplicator",validate:r.decorateValidator(Hs(1),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()}),i.a.createElement(or,null,"For each load test step, the selected test set convos are repeated by the given multiplicator.")),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_tickRepeatPerTick",component:Ps,label:"Increase Test Set Multiplicator",validate:r.decorateValidator(Hs(1),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()}),i.a.createElement(or,null,"For each load test step, the test set multiplicator is increased.")),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_parallelConvoCount",component:Ps,label:"Maximum Parallel Users",validate:r.decorateValidator(Ks(Hs(1),Ms),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()}),i.a.createElement(or,null,"Enter the maximum number of parallel users you want to test."))),"advanced"===s.performanceTest_Type&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_tickMaxTimeMinutes",component:Ps,label:"Test Duration (in minutes)",validate:r.decorateValidator(Ks(Hs(1),Ms),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_tickTimeSeconds",component:Ps,label:"Test Step Duration (seconds)",validate:r.decorateValidator(Ks(Hs(1),Ms),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_parallelJobCount",component:Ps,label:"Parallel Jobs Count",validate:r.decorateValidator(Ks(Hs(1),Ms),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_tickRepeatInitial",component:Ps,label:"Test Set Multiplicator",validate:r.decorateValidator(Hs(1),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_tickRepeatPerTick",component:Ps,label:"Increase Test Set Multiplicator",validate:r.decorateValidator(Hs(1),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_parallelConvoCount",component:Ps,label:"Parallel Convo Count",validate:r.decorateValidator(Ks(Hs(1),Ms),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"performanceTest_dataDensitySeconds",component:Ps,label:"Data density (seconds)",validate:r.decorateValidator(Hs(1),"CONTEXT_PERFORMANCE_TEST"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!this.hasWritePermission()})))),s.performanceTest_Type&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:12},i.a.createElement(at.a,null),i.a.createElement(ti,null,"A Performance Test Session generated heavy load on your Chatbot infrastructure. If you are using a paid service provider charging by total number of requests, there possibly will be significant costs involved! Use with care!")),i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{type:"submit",disabled:a,onClick:function(){n.change("context","CONTEXT_PERFORMANCE_TEST")}},i.a.createElement(ip.a,null),"Start Performance Test")))),Rb(o,"PERFORMANCETESTSESSIONS_SELECT")&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:po,variables:{where:{testProject:{id:t.id}},skip:0,first:0},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0},function(e){var a=e.loading,n=e.error,r=e.fetchMore,s=e.data;return n?i.a.createElement(Dn,{err:n}):i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Date","Tags","Status"],pageLoading:a,tableData:s&&s.performancetestsessionssimplifiedwithstatus&&s.performancetestsessionssimplifiedwithstatus.map(function(e){return[{value:e.name,href:"/performancetestsessions/view/"+e.id},function(){return i.a.createElement(_n,null,e.createdAt)},e.tags,e.status]}),onPageChange:function(e,a){r({variables:{where:{testProject:{id:t.id}},skip:e,first:a},updateQuery:function(e,t){var a=t.fetchMoreResult;return a||e}})}})}))))}},{key:"renderForm",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=a.history,o=a.user,l=a.agentsData,c=a.registeredComponentsData,u=Object.assign({},e,{performanceTest_Type:"",performanceTest_parallelConvoCount:10,performanceTest_parallelJobCount:1,performanceTest_tickRepeatInitial:1,performanceTest_tickRepeatPerTick:1,performanceTest_dataDensitySeconds:10,performanceTest_tickMaxTimeMinutes:30,performanceTest_tickTimeSeconds:10});return i.a.createElement(h.c,{mutation:Zi,onCompleted:function(e){n("Test Project updated")},onError:function(e){r("Test Project update failed",e)},refetchQueries:[{query:Ji},{query:Ts}]},function(a,m){m.loading,m.error;return i.a.createElement(h.c,{mutation:ao,onCompleted:function(e){n("Performance test started");var t=e.createPerformanceTestSession;s.push("/performancetestsessions/view/"+t)},onError:function(e){r("Performance test failed",e)},refetchQueries:[{query:po}]},function(m,d){d.loading,d.error;return i.a.createElement(Bn.b,{mutators:Object(Ee.a)({},zd.a),onSubmit:function(t){if("CONTEXT_MAIN"===t.context){var n=lu(t.capabilities,e.capabilities),r={variables:{id:t.id,testProject:{name:t.name,description:t.description||null,tags:{set:t.tags},securityCheck:t.securityCheck,batchCount:t.batchCount||null,bail:!!t.bail,capabilities:n}}};t.agent&&t.agent.id?r.variables.testProject.agent={connect:{id:t.agent.id}}:e.agent&&(r.variables.testProject.agent={disconnect:!0}),r.variables.testProject.registeredComponents={set:(t.registeredComponents||[]).map(function(e){return{id:e.id}})},a(r)}else{if("CONTEXT_PERFORMANCE_TEST"!==t.context||!t.performanceTest_Type)throw Error("illegal state");var s={};"load"===t.performanceTest_Type?Object.assign(s,{name:"Load Test for ".concat(t.name),description:"Load Test for ".concat(t.name,", Duration: ").concat(t.performanceTest_tickMaxTimeMinutes,"min, Multiplicator: ").concat(t.performanceTest_tickRepeatInitial,", ").concat(t.performanceTest_parallelConvoCount," parallel users"),parallelConvoCount:t.performanceTest_parallelConvoCount,parallelJobCount:1,tickRepeatInitial:t.performanceTest_tickRepeatInitial,tickRepeatPerTick:0,tickMaxTime:60*t.performanceTest_tickMaxTimeMinutes*1e3,tickTime:1e4,dataDensity:1e4,tags:{set:(t.tags||[]).concat("Load Test")}}):"stress"===t.performanceTest_Type?Object.assign(s,{name:"Stress Test for ".concat(t.name),description:"Stress Test for ".concat(t.name,", Duration: ").concat(t.performanceTest_tickMaxTimeMinutes,"min, Multiplicator: ").concat(t.performanceTest_tickRepeatInitial,", increased by ").concat(t.performanceTest_tickRepeatPerTick,", ").concat(t.performanceTest_parallelConvoCount," parallel users"),parallelConvoCount:t.performanceTest_parallelConvoCount,parallelJobCount:1,tickRepeatInitial:t.performanceTest_tickRepeatInitial,tickRepeatPerTick:t.performanceTest_tickRepeatPerTick,tickMaxTime:60*t.performanceTest_tickMaxTimeMinutes*1e3,tickTime:1e4,dataDensity:1e4,tags:{set:(t.tags||[]).concat("Stress Test")}}):"advanced"===t.performanceTest_Type&&Object.assign(s,{name:"Performance Test for ".concat(t.name),description:"Performance Test for ".concat(t.name),parallelConvoCount:t.performanceTest_parallelConvoCount,parallelJobCount:t.performanceTest_parallelJobCount,tickRepeatInitial:t.performanceTest_tickRepeatInitial,tickRepeatPerTick:t.performanceTest_tickRepeatPerTick,tickMaxTime:60*t.performanceTest_tickMaxTimeMinutes*1e3,tickTime:1e3*t.performanceTest_tickTimeSeconds,dataDensity:1e3*t.performanceTest_dataDensitySeconds,tags:{set:(t.tags||[]).concat("Performance Test")}}),m({variables:{testProjectId:e.id,options:s}})}},initialValues:u,render:function(a){var u=a.handleSubmit,m=a.form,d=a.submitting,p=a.pristine,E=a.values,b=m.mutators,g=b.push,f=b.pop,S=m.change,v=new Vs("context");return i.a.createElement("form",{onSubmit:u},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"name",component:Is,label:"Test Project Name",validate:v.decorateValidator(Ms,"CONTEXT_MAIN"),disabled:!t.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"tags",component:Os,label:"Tags",disabled:!t.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:10},i.a.createElement(Bn.a,{name:"description",component:ws,label:"Test Project Description",rows:3,disabled:!t.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:2},i.a.createElement(Bn.a,{name:"securityCheck",component:js,label:"Security check",type:"checkbox",disabled:"basic"===wt.buildTarget||!t.hasWritePermission()}))),i.a.createElement(rd,{name:"TestProject_".concat(e.id),headerColor:"info",plainTabs:!0,tabs:[{tabName:"Latest Test Results",tabIcon:kb.a,disabled:!Rb(o,"TESTSESSIONS_SELECT"),tabContent:Rb(o,"TESTSESSIONS_SELECT")&&t.renderTestResults(e)},{tabName:"Performance tests",tabIcon:Pb.a,disabled:!Rb(o,"PERMISSIONTESTSESSIONS_SELECT"),tabContent:Rb(o,"PERMISSIONTESTSESSIONS_SELECT")&&t.renderPerformanceTestResults({testproject:e,submitting:d,form:m,conditional:v,values:E})},{tabName:"Build Server Integration",tabIcon:up.a,disabled:!Rb(o,"TESTSESSIONS_CREATE"),tabContent:Rb(o,"TESTSESSIONS_CREATE")&&t.renderTrigger(e,S)},{tabName:"Settings",tabIcon:Rd.a,tabContent:i.a.createElement(i.a.Fragment,null,i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"batchCount",component:Ps,label:"Parallel Jobs Count",validate:v.decorateValidator(Hs(1),"CONTEXT_MAIN"),parse:parseInt,format:void 0,disabled:"basic"===wt.buildTarget||!t.hasWritePermission()})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"agent.id",component:_s,label:"Botium Agent",disabled:"basic"===wt.buildTarget||!t.hasWritePermission()},l&&l.loading&&i.a.createElement(ca.a,{size:20}),l&&l.error&&i.a.createElement(Dn,{err:l.error}),l&&l.agents&&i.a.createElement(Ge.a,{key:"",value:""}),l&&l.agents&&l.agents.map(function(e){return i.a.createElement(Ge.a,{key:e.id,value:e.id},e.name)}))),i.a.createElement(Ca,{xs:12,sm:4},c&&c.loading&&i.a.createElement(ca.a,{size:50}),c&&c.error&&i.a.createElement(Dn,{err:c.error}),c&&c.registeredcomponents&&i.a.createElement(Bn.a,{name:"registeredComponents",component:Ds,label:"Involved Registered Component(s)",suggestions:c.registeredcomponents,numsuggestions:20,keyFunc:function(e){return e.id},labelFunc:function(e){return e.ref},disabled:!t.hasWritePermission()}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},Fs({input:{},label:"Chatbot Under Test",children:i.a.createElement(i.a.Fragment,null,i.a.createElement(Ue.a,{to:"/chatbots/view/".concat(e.chatbot.id)},i.a.createElement(_a.a,{label:e.chatbot.name,clickable:!0})))})),i.a.createElement(Ca,{xs:12,sm:4},Fs({input:{},label:"Involved Test Sets",children:i.a.createElement(i.a.Fragment,null,e.testSets.map(function(e){return i.a.createElement(Ue.a,{key:e.id,to:"/testsets/view/".concat(e.id)},i.a.createElement(_a.a,{label:e.name,clickable:!0}))}))})),i.a.createElement(Ca,{xs:12,sm:4},Fs({input:{},label:"Involved Device Sets",children:i.a.createElement(i.a.Fragment,null,e.deviceSets.map(function(e){return i.a.createElement(Ue.a,{key:e.id,to:"/devicesets/view/".concat(e.id)},i.a.createElement(_a.a,{label:e.name,clickable:!0}))}))}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"bail",component:js,label:"Bail after first test failure",disabled:!t.hasWritePermission(),type:"checkbox"}))))},{tabName:"Capabilities",tabIcon:Gd.a,tabContent:i.a.createElement(Ko,{push:g,pop:f,field:"capabilities",disabled:!t.hasWritePermission()})},{tabName:"Danger Zone",tabIcon:ne.a,disabled:!Rb(o,"TESTPROJECTS_DELETE"),tabContent:Rb(o,"TESTPROJECTS_DELETE")&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(h.c,{mutation:eo,onCompleted:function(e){n("Test Project deleted"),s.push("/testprojects/list")},onError:function(e){r("Test Project deletion failed",e)},refetchQueries:[{query:Ji}]},function(t,a){a.loading,a.error;return i.a.createElement(yt,{color:"danger",onClick:function(){t({variables:{id:e.id}})}},i.a.createElement(Dm.a,null),"Delete Test Project (Test Results won't be affected)")})))}]}),t.renderCloneDialog(e),t.hasWritePermission()&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{type:"submit",disabled:d||p,color:"primary",onClick:function(){m.change("context","CONTEXT_MAIN")}},i.a.createElement(bm.a,null),"Save"),i.a.createElement(yt,{onClick:function(){t.setState({showCloneDialog:!0})},disabled:!t.hasWritePermission()},i.a.createElement(Zp.a,null),"Clone Test Project"),i.a.createElement(Ue.a,{to:"/testprojects/list"},i.a.createElement(yt,null,i.a.createElement(Lm.a,null),"Cancel")))))}})})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.match;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Test Project ...")),i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(fn,null,n.params&&n.params.id&&i.a.createElement(h.d,{query:Qi,variables:{id:n.params.id}},function(t){var n=t.loading,r=t.error,s=t.data;return n?i.a.createElement(i.a.Fragment,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:a.cardTitleWhite},"Test Project ..."),i.a.createElement("p",{className:a.cardCategoryWhite},"Loading")),i.a.createElement(yn,null,i.a.createElement("p",null,"Loading..."))):r?i.a.createElement(Dn,{err:r}):(s.testproject&&fo({name:s.testproject.name,url:"/testprojects/view/".concat(s.testproject.id),type:"Test Project"}),"undefined"===typeof s.testproject.securityCheck&&(s.testproject.securityCheck=!1),i.a.createElement(i.a.Fragment,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,s.testproject&&s.testproject.name)),i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:a.cardTitleWhite},"Test Project '",s.testproject&&s.testproject.name,"'"),i.a.createElement("p",{className:a.cardCategoryWhite},s.testproject.client&&s.testproject.client.name)),i.a.createElement(yn,null,e.renderForm(s.testproject))))}))))}}]),t}(i.a.Component),Fb=Object(h.f)(te()(yb),Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t}),Object(h.g)(ym,{props:function(e){return{agentsData:e.data}}}),Object(h.g)(Es,{props:function(e){return{registeredComponentsData:e.data}}}),Object(h.g)(Ou,{props:function(e){return{chatbotsData:e.data}}}),Object(h.g)(kl,{props:function(e){return{testSetsData:e.data}}}),Object(h.g)(Hu,{props:function(e){return{deviceSetsData:e.data}}}))(Db),Lb=a(86),Vb=a.n(Lb),Mb=a(375),Bb=a.n(Mb),Ub=a(376),Wb=a.n(Ub),Hb=Object(Ee.a)({},ai),Gb=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderForm",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=a.history,o=this.props,l=o.userRolesData,c=o.clientsData;return i.a.createElement(h.c,{mutation:e.id?Yr:Qr,onCompleted:function(e){e.updateUser?(n("User updated"),s.push("/settings")):e.createUser&&(n("User registered"),s.push("/settings"))},onError:function(e){r("User udpate failed.",e)},refetchQueries:[{query:qr}]},function(a,s){s.loading,s.error;return i.a.createElement(Bn.b,{onSubmit:function(t){console.log(t.roles),e.id?a({variables:{id:e.id,user:{name:t.name,email:t.email,password:t.password,roles:{set:(t.roles||[]).map(function(e){return{id:e.id}})},clients:{set:(t.clients||[]).map(function(e){return{id:e.id}})}}}}):a({variables:{user:{name:t.name,email:t.email,password:t.password,roles:{connect:(t.roles||[]).map(function(e){return{id:e.id}})},clients:{connect:(t.clients||[]).map(function(e){return{id:e.id}})}}}})},initialValues:e,render:function(a){var s=a.handleSubmit,o=(a.reset,a.submitting),u=a.pristine,m=a.invalid;a.values;return i.a.createElement("form",{onSubmit:s},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"name",component:Is,label:"User Name",validate:Ms})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"email",component:Is,label:"Email Address",validate:Ms})),i.a.createElement(Ca,{xs:12},l&&l.loading&&i.a.createElement(ca.a,{size:50}),l&&l.error&&i.a.createElement(Dn,{err:l.error}),l&&l.userroles&&i.a.createElement(Bn.a,{name:"roles",component:Ds,label:"Select Role(s)",suggestions:l.userroles,numsuggestions:20,keyFunc:function(e){return e.id},labelFunc:function(e){return e.name},validate:Ms})),i.a.createElement(Ca,{xs:12},c&&c.loading&&i.a.createElement(ca.a,{size:50}),c&&c.error&&i.a.createElement(Dn,{err:c.error}),c&&c.clients&&i.a.createElement(Bn.a,{name:"clients",component:Ds,label:"Select Client(s)",suggestions:c.clients,numsuggestions:20,keyFunc:function(e){return e.id},labelFunc:function(e){return e.name},validate:Ms})),e.id&&i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"password",component:ks,label:"Enter new password (optional)"})),!e.id&&i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"password",component:ks,label:"Password",validate:Ms}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{type:"submit",disabled:o||u||m,color:"primary"},i.a.createElement(bm.a,null),"Save"),e.id&&i.a.createElement(h.c,{mutation:Zr,onCompleted:function(a){n('User "'.concat(e.name,'" deleted')),t.props.history.push("/settings")},onError:function(e){r("User deletion failed.",e)},refetchQueries:[{query:qr}]},function(t,a){a.loading,a.error;return i.a.createElement(yt,{color:"danger",onClick:function(){t({variables:{id:e.id}})}},i.a.createElement(Dm.a,null),"Delete User")}),i.a.createElement(Ue.a,{to:"/settings"},i.a.createElement(yt,null,i.a.createElement(Lm.a,null),"Cancel")))))}})})}},{key:"render",value:function(){var e=this,t=this.props.match;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},t.params&&t.params.id&&i.a.createElement(h.d,{query:$r,variables:{id:t.params.id}},function(t){var a=t.loading,n=t.error,r=t.data;return a?i.a.createElement("p",null,"Loading..."):n?i.a.createElement(Dn,{err:n}):e.renderForm(r.user)}),(!t.params||!t.params.id)&&this.renderForm({roles:[],clients:[]})))}}]),t}(i.a.Component),zb=Object(h.f)(te()(Hb),Object(c.b)(function(e){return e},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t}),Object(h.g)(Kr,{props:function(e){return{userRolesData:e.data}}}),Object(h.g)(Jr,{props:function(e){return{clientsData:e.data}}}))(Gb),$b=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:qr,notifyOnNetworkStatusChange:!0},function(e){var t=e.loading,a=e.error,n=e.data,r=e.refetch;return a?i.a.createElement(Dn,{err:a}):i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Email","Creation Date","Roles","Clients"],pageLoading:t,tableData:n&&n.users&&n.users.map(function(e){return[{value:e.name,href:"/settings/users/view/"+e.id},e.email,function(){return i.a.createElement(_n,{format:"L"},e.createdAt)},e.roles&&e.roles.map(function(e){return e.name}),e.clients&&e.clients.map(function(e){return e.name})]}),onRefresh:function(){return r()}})),i.a.createElement(Ca,{xs:12},i.a.createElement(Ue.a,{to:"/settings/users/register"},i.a.createElement(yt,{color:"primary"},i.a.createElement(Vb.a,null),"Register new user"))),i.a.createElement(Ca,{xs:12},i.a.createElement(O.a,null,i.a.createElement(C.a,{path:"/settings/users/view/:id",component:zb}),i.a.createElement(C.a,{path:"/settings/users/register",component:zb}))))})))}}]),t}(i.a.Component),qb=Object(We.a)(Object(c.b)(function(e){return e},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(Hb)($b))),Kb=a(43),Jb=Kb.permissionTypes,Xb=Kb.hasPermission,Qb=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderForm",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=a.history,o=a.user,l=this.props.clientsData;return i.a.createElement(h.c,{mutation:e.id?rs:ns,onCompleted:function(e){e.updateApiKey?(n("API Key updated"),s.push("/settings")):e.createApiKey&&(n("API Key registered"),s.push("/settings"))},onError:function(e){r("API Key update failed",e)},refetchQueries:[{query:as}]},function(a,s){s.loading,s.error;return i.a.createElement(Bn.b,{onSubmit:function(t){e.id?a({variables:{id:e.id,apiKey:{name:t.name,validFrom:t.validFrom,validTo:t.validTo,clients:{set:(t.clients||[]).map(function(e){return{id:e.id}})},permissions:{set:t.permissions||[]}}}}):a({variables:{apiKey:{name:t.name,key:"",validFrom:t.validFrom,validTo:t.validTo,clients:{connect:(t.clients||[]).map(function(e){return{id:e.id}})},permissions:{set:t.permissions||[]}}}})},initialValues:e,render:function(a){var s=a.handleSubmit,c=(a.reset,a.submitting),u=a.pristine,m=a.invalid;a.values;return i.a.createElement("form",{onSubmit:s},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"name",component:Is,label:"API Key Name",validate:Ms,disabled:!Xb(o,"APIKEYS_MANAGE")}))),e.id&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"key",component:Is,label:"Api Key",disabled:!0}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"validFrom",component:Is,format:Cs,parse:As,label:"Valid From",type:"date",disabled:!Xb(o,"APIKEYS_MANAGE")})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"validTo",component:Is,format:Cs,parse:As,label:"Valid To",type:"date",disabled:!Xb(o,"APIKEYS_MANAGE")})),i.a.createElement(Ca,{xs:12},l&&l.loading&&i.a.createElement(ca.a,{size:50}),l&&l.error&&i.a.createElement(Dn,{err:l.error}),l&&l.clients&&i.a.createElement(Bn.a,{name:"clients",component:Ds,label:"Select Client(s)",suggestions:l.clients,numsuggestions:20,keyFunc:function(e){return e.id},labelFunc:function(e){return e.name},disabled:!Xb(o,"APIKEYS_MANAGE")})),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"permissions",component:Ds,label:"Select Permissions(s)",suggestions:Object.keys(Jb),numsuggestions:20,keyFunc:function(e){return e},labelFunc:function(e){return e},addFunc:function(e){return e},disabled:!Xb(o,"APIKEYS_MANAGE")}))),Xb(o,"APIKEYS_MANAGE")&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{type:"submit",disabled:c||u||m,color:"primary"},i.a.createElement(bm.a,null),"Save"),e.id&&i.a.createElement(h.c,{mutation:ss,onCompleted:function(e){n("API Key deleted"),t.props.history.push("/settings")},onError:function(e){r("API Key deletion failed",e)},refetchQueries:[{query:as}]},function(t,a){a.loading,a.error;return i.a.createElement(yt,{color:"danger",onClick:function(){t({variables:{id:e.id}})}},i.a.createElement(Dm.a,null),"Delete API Key")}),i.a.createElement(Ue.a,{to:"/settings"},i.a.createElement(yt,null,i.a.createElement(Lm.a,null),"Cancel")))))}})})}},{key:"render",value:function(){var e=this,t=this.props.match;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},t.params&&t.params.id&&i.a.createElement(h.d,{query:ts,variables:{id:t.params.id}},function(t){var a=t.loading,n=t.error,r=t.data;return a?i.a.createElement("p",null,"Loading..."):n?i.a.createElement(Dn,{err:n}):e.renderForm(r.apikey)}),(!t.params||!t.params.id)&&this.renderForm({clients:[]})))}}]),t}(i.a.Component),Yb=Object(h.f)(te()(Hb),Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t}),Object(h.g)(Jr,{props:function(e){return{clientsData:e.data}}}))(Qb),Zb=a(43).hasPermission,eh=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.user;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:as,notifyOnNetworkStatusChange:!0},function(t){var a=t.loading,n=t.error,r=t.data,s=t.refetch;return n?i.a.createElement(Dn,{err:n}):i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Validity Start","Validity End","Clients"],pageLoading:a,tableData:r&&r.apikeys&&r.apikeys.map(function(e){return[{value:e.name,href:"/settings/apikeys/view/"+e.id},function(){return e.validFrom&&i.a.createElement(_n,{format:"L"},e.validFrom)},function(){return e.validTo&&i.a.createElement(_n,{format:"L"},e.validTo)},e.clients&&e.clients.map(function(e){return e.name})]}),onRefresh:function(){return s()}})),Zb(e,"APIKEYS_MANAGE")&&i.a.createElement(Ca,{xs:12},i.a.createElement(Ue.a,{to:"/settings/apikeys/register"},i.a.createElement(yt,{color:"primary"},i.a.createElement(Vb.a,null),"Register new API Key"))),i.a.createElement(Ca,{xs:12},i.a.createElement(O.a,null,i.a.createElement(C.a,{path:"/settings/apikeys/view/:id",component:Yb}),i.a.createElement(C.a,{path:"/settings/apikeys/register",component:Yb}))))})))}}]),t}(i.a.Component),th=Object(We.a)(Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(Hb)(eh))),ah=a(43).hasPermission,nh=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderForm",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=a.history,o=a.user;return i.a.createElement(h.c,{mutation:e.id?us:cs,onCompleted:function(e){e.updateDeviceProvider?(n("Device Provider updated"),s.push("/settings")):e.createDeviceProvider&&(n("Device Provider registered"),s.push("/settings"))},onError:function(e){r("Device Provider update failed",e)},refetchQueries:[{query:ls}]},function(a,s){s.loading,s.error;return i.a.createElement(Bn.b,{onSubmit:function(t){var n={name:t.name,type:t.type,url:t.url,username:t.username};t.password&&t.password.length>0&&(n.password=t.password),e.id?a({variables:{id:e.id,deviceProvider:n}}):a({variables:{deviceProvider:n}})},initialValues:e,render:function(a){var s=a.handleSubmit,l=(a.reset,a.submitting),c=a.pristine,u=a.invalid,m=a.values,d="SAUCELABS"===m.type||"TESTOBJECTS"===m.type||"EXPERITEST"===m.type||"LOCALSELENIUM"===m.type,p="SAUCELABS"===m.type,E="SAUCELABS"===m.type||"TESTOBJECTS"===m.type||"EXPERITEST"===m.type;return i.a.createElement("form",{onSubmit:s},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"name",component:Is,label:"Device Provider Name",validate:Ms,disabled:!ah(o,"DEVICEPROVIDERS_MANAGE")}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"type",component:_s,label:"Device Provider",formControlProps:{disabled:!ah(o,"DEVICEPROVIDERS_MANAGE")||!!e.id},validate:Ms},(e.id||"premium"===wt.buildTarget)&&i.a.createElement(Ge.a,{key:"SAUCELABS",value:"SAUCELABS"},"Saucelabs.com"),(e.id||"premium"===wt.buildTarget)&&i.a.createElement(Ge.a,{key:"TESTOBJECTS",value:"TESTOBJECTS"},"Saucelabs.com Real Device Cloud"),(e.id||"premium"===wt.buildTarget)&&i.a.createElement(Ge.a,{key:"EXPERITEST",value:"EXPERITEST"},"experitest Desktop & Real Device Browsers"),i.a.createElement(Ge.a,{key:"LOCALSELENIUM",value:"LOCALSELENIUM"},"Local Selenium"),e.id&&i.a.createElement(Ge.a,{key:"INTEGRATED",value:"INTEGRATED"},"Integrated PhantomJS")))),d&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"url",component:Is,label:"Selenium Endpoint",validate:Ks(Ms,qs),disabled:!ah(o,"DEVICEPROVIDERS_MANAGE")}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:4,sm:2},i.a.createElement(Bn.a,{name:"username",component:Is,label:"Selenium Username",validate:p&&Ms,disabled:!ah(o,"DEVICEPROVIDERS_MANAGE")})),e.id&&ah(o,"DEVICEPROVIDERS_MANAGE")&&i.a.createElement(Ca,{xs:8,sm:4},i.a.createElement(Bn.a,{name:"password",component:ks,label:"Enter new Password/Access Key (optional)"})),!e.id&&i.a.createElement(Ca,{xs:8,sm:4},i.a.createElement(Bn.a,{name:"password",component:ks,label:"Password/Access Key",validate:E&&Ms}))),ah(o,"DEVICEPROVIDERS_MANAGE")&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{type:"submit",disabled:l||c||u,color:"primary"},i.a.createElement(bm.a,null),"Save"),e.id&&i.a.createElement(h.c,{mutation:ms,onCompleted:function(e){n("Device Provider deleted"),t.props.history.push("/settings")},onError:function(e){r("Device Provider deletion failed",e)},refetchQueries:[{query:ls}]},function(t,a){a.loading,a.error;return i.a.createElement(yt,{color:"danger",onClick:function(){t({variables:{id:e.id}})}},i.a.createElement(Dm.a,null),"Delete Device Provider")}),i.a.createElement(Ue.a,{to:"/settings"},i.a.createElement(yt,null,i.a.createElement(Lm.a,null),"Cancel")))))}})})}},{key:"render",value:function(){var e=this,t=this.props.match;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},t.params&&t.params.id&&i.a.createElement(h.d,{query:os,variables:{id:t.params.id}},function(t){var a=t.loading,n=t.error,r=t.data;return a?i.a.createElement("p",null,"Loading..."):n?i.a.createElement(Dn,{err:n}):e.renderForm(r.deviceprovider)}),(!t.params||!t.params.id)&&this.renderForm({type:"LOCALSELENIUM"})))}}]),t}(i.a.Component),rh=Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(Hb)(nh)),sh=a(43).hasPermission,ih=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.user;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:ls,notifyOnNetworkStatusChange:!0},function(t){var a=t.loading,n=t.error,r=t.data,s=t.refetch;return n?i.a.createElement(Dn,{err:n}):i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Type","Url"],pageLoading:a,tableData:r&&r.deviceproviders&&r.deviceproviders.map(function(e){return[{value:e.name,href:"/settings/deviceproviders/view/"+e.id},e.type,e.url]}),onRefresh:function(){return s()}})),sh(e,"DEVICEPROVIDERS_MANAGE")&&i.a.createElement(Ca,{xs:12},i.a.createElement(Ue.a,{to:"/settings/deviceproviders/register"},i.a.createElement(yt,{color:"primary"},i.a.createElement(Vb.a,null),"Register new Device Provider"))),i.a.createElement(Ca,{xs:12},i.a.createElement(O.a,null,i.a.createElement(C.a,{path:"/settings/deviceproviders/view/:id",component:rh}),i.a.createElement(C.a,{path:"/settings/deviceproviders/register",component:rh}))))})))}}]),t}(i.a.Component),oh=Object(We.a)(Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(Hb)(ih))),lh=a(43).hasPermission,ch=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderForm",value:function(e){var t=this,a=this.props,n=a.setAlertSuccessMessage,r=a.setAlertErrorMessage,s=a.history,o=a.user;return i.a.createElement(h.c,{mutation:e.id?hs:bs,onCompleted:function(e){e.updateRegisteredComponent?(n("Registered component updated"),s.push("/settings")):e.createApiKey&&(n("Component registered"),s.push("/settings"))},onError:function(e){r("Registered component update failed",e)},refetchQueries:[{query:Es}]},function(a,s){s.loading,s.error;return i.a.createElement(Bn.b,{onSubmit:function(t){e.id?a({variables:{id:e.id,registeredComponent:{name:t.name,type:t.type,default:t.default,description:t.description||null,src:t.src,ref:t.ref,args:t.args||null,global:t.global}}}):a({variables:{registeredComponent:{name:t.name,type:t.type,default:t.default,description:t.description||null,src:t.src,ref:t.ref,args:t.args||null,global:t.global}}})},initialValues:e,render:function(a){var s=a.handleSubmit,l=(a.reset,a.submitting),c=a.pristine,u=a.invalid;a.values;return i.a.createElement("form",{onSubmit:s},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"name",component:Is,label:"Component Name",validate:Ms,disabled:!lh(o,"REGISTEREDCOMPONENTS_MANAGE")})),i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Bn.a,{name:"type",component:_s,label:"Component Type",validate:Ms,disabled:!lh(o,"REGISTEREDCOMPONENTS_MANAGE")},i.a.createElement(Ge.a,{key:"ASSERTER",value:"ASSERTER"},"Test Case Asserter"),i.a.createElement(Ge.a,{key:"LOGICHOOK",value:"LOGICHOOK"},"Logic Hook"),i.a.createElement(Ge.a,{key:"USERINPUT",value:"USERINPUT"},"User Input Simulation")))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"default",component:js,label:"Include in Default Component Set",type:"checkbox",disabled:!lh(o,"REGISTEREDCOMPONENTS_MANAGE")}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:4},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"ref",component:Is,label:"Component Ref Code",validate:Ms,helperText:"Reference code to be used in test cases for this component",disabled:!lh(o,"REGISTEREDCOMPONENTS_MANAGE")})),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"src",component:Is,label:"Component Source",validate:Ms,helperText:"Identify source to load component from (NPM-Package, Javascript file)",disabled:!lh(o,"REGISTEREDCOMPONENTS_MANAGE")})),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"global",component:js,label:"Register as global scripting component",type:"checkbox",disabled:!lh(o,"REGISTEREDCOMPONENTS_MANAGE")})))),i.a.createElement(Ca,{xs:12,sm:8},i.a.createElement(Bn.a,{name:"description",component:ws,label:"Component Description",rows:8,disabled:!lh(o,"REGISTEREDCOMPONENTS_MANAGE")}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"args",component:ws,label:"Component Configuration (JSON-formatted)",rows:10,format:Ns,validate:Gs,disabled:!lh(o,"REGISTEREDCOMPONENTS_MANAGE")}))),lh(o,"REGISTEREDCOMPONENTS_MANAGE")&&i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{type:"submit",disabled:l||c||u,color:"primary"},i.a.createElement(bm.a,null),"Save"),e.id&&i.a.createElement(h.c,{mutation:gs,onCompleted:function(e){n("Component unregistered"),t.props.history.push("/settings")},onError:function(e){r("Component unregistration failed",e)},refetchQueries:[{query:ps}]},function(t,a){a.loading,a.error;return i.a.createElement(yt,{color:"danger",onClick:function(){t({variables:{id:e.id}})}},i.a.createElement(Dm.a,null),"Unregister component")}),i.a.createElement(Ue.a,{to:"/settings"},i.a.createElement(yt,null,i.a.createElement(Lm.a,null),"Cancel")))))}})})}},{key:"render",value:function(){var e=this,t=this.props.match;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},t.params&&t.params.id&&i.a.createElement(h.d,{query:ps,variables:{id:t.params.id}},function(t){var a=t.loading,n=t.error,r=t.data;return a?i.a.createElement("p",null,"Loading..."):n?i.a.createElement(Dn,{err:n}):e.renderForm(r.registeredcomponent)}),(!t.params||!t.params.id)&&this.renderForm({})))}}]),t}(i.a.Component),uh=Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(Hb)(ch)),mh=a(43).hasPermission,dh=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.user;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:Es,notifyOnNetworkStatusChange:!0},function(t){var a=t.loading,n=t.error,r=t.data,s=t.refetch;return n?i.a.createElement(Dn,{err:n}):i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(hn,{tableHeaderColor:"primary",tableHead:["Name","Type","Default Component Set","Global","Description"],pageLoading:a,tableData:r&&r.registeredcomponents&&r.registeredcomponents.map(function(e){return[{value:e.name,href:"/settings/registeredcomponents/view/"+e.id},e.type,e.default,e.global,e.description]}),onRefresh:function(){return s()}})),mh(e,"REGISTEREDCOMPONENTS_MANAGE")&&i.a.createElement(Ca,{xs:12},i.a.createElement(Ue.a,{to:"/settings/registeredcomponents/register"},i.a.createElement(yt,{color:"primary"},i.a.createElement(Vb.a,null),"Register new component"))),i.a.createElement(Ca,{xs:12},i.a.createElement(O.a,null,i.a.createElement(C.a,{path:"/settings/registeredcomponents/view/:id",component:uh}),i.a.createElement(C.a,{path:"/settings/registeredcomponents/register",component:uh}))))})))}}]),t}(i.a.Component),ph=Object(We.a)(Object(c.b)(function(e){return{user:e.token.user}},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(Hb)(dh))),Eh=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"renderForm",value:function(e){var t=this.props,a=t.setAlertSuccessMessage,n=t.setAlertErrorMessage;return i.a.createElement(h.c,{mutation:vs,onCompleted:function(e){a("System Settings updated")},onError:function(e){n("System Settings update failed",e)},refetchQueries:[{query:Ss}]},function(t,a){a.loading,a.error;return i.a.createElement(Bn.b,{onSubmit:function(e){t({variables:{systemSettings:{cleanupJobIntervalMinutes:e.cleanupJobIntervalMinutes,keepTestCaseSuccessScreenshotsDays:e.keepTestCaseSuccessScreenshotsDays,keepTestCaseSuccessConversationDays:e.keepTestCaseSuccessConversationDays,keepTestCaseFailedScreenshotsDays:e.keepTestCaseFailedScreenshotsDays,keepTestCaseFailedConversationDays:e.keepTestCaseFailedConversationDays}}})},initialValues:e,render:function(e){var t=e.handleSubmit,a=(e.reset,e.submitting),n=e.pristine,r=e.invalid;e.values;return i.a.createElement("form",{onSubmit:t},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"cleanupJobIntervalMinutes",component:Ps,label:"Cleanup Job Schedule Interval (in minutes)"}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"keepTestCaseSuccessScreenshotsDays",component:Ps,label:"Keep screenshots of successful Test Cases  (in days)",parse:parseInt})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"keepTestCaseFailedScreenshotsDays",component:Ps,label:"Keep screenshots of failed Test Cases  (in days)",parse:parseInt}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"keepTestCaseSuccessConversationDays",component:Ps,label:"Keep details of successful Test Cases  (in days)",parse:parseInt})),i.a.createElement(Ca,{xs:12,sm:6},i.a.createElement(Bn.a,{name:"keepTestCaseFailedConversationDays",component:Ps,label:"Keep details of failed Test Cases  (in days)",parse:parseInt}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{type:"submit",disabled:a||n||r,color:"primary"},i.a.createElement(bm.a,null),"Save"))))}})})}},{key:"render",value:function(){var e=this;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(h.d,{query:Ss},function(t){var a=t.loading,n=t.error,r=t.data;return a?i.a.createElement("p",null,"Loading..."):n?i.a.createElement(Dn,{err:n}):e.renderForm(r.systemsettings)})))}}]),t}(i.a.Component),bh=Object(c.b)(function(e){return e},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(Hb)(Eh)),hh=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},"Build Target: ",wt.buildTarget),i.a.createElement(Ca,{xs:12},"Build Branch: ",wt.buildBranch),i.a.createElement(Ca,{xs:12},"Build Revision: ",wt.buildRevision),i.a.createElement(Ca,{xs:12},"Build Date: ",wt.buildDate),i.a.createElement(h.d,{query:Xr},function(e){e.loading;var t=e.error,a=e.data;e.refetch;return t?i.a.createElement(Ca,{xs:12},i.a.createElement(Dn,{err:t})):a&&a.license?i.a.createElement(i.a.Fragment,null,i.a.createElement(Ca,{xs:12},"Licensed Edition: ",a.license.edition),i.a.createElement(Ca,{xs:12},"License Validity: ",a.license.validity&&i.a.createElement(_n,{format:"ll"},a.license.validity),!a.license.validity&&"no restrictions"),i.a.createElement(Ca,{xs:12},"License Operability: ",a.license.operability&&i.a.createElement(_n,{format:"ll"},a.license.operability),!a.license.operability&&"no restrictions")):i.a.createElement(Ca,{xs:12},"No license found")}))}}]),t}(i.a.Component),gh=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.setAlertSuccessMessage,a=e.setAlertErrorMessage;return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(h.c,{mutation:ys,onCompleted:function(e){t("File imported")},onError:function(e){a("File import failed",e)}},function(e,n){n.loading,n.error;return i.a.createElement(Bn.b,{onSubmit:function(t){e({variables:{prismaFile:t.filecontent}})},render:function(e){var n=e.handleSubmit,r=e.form.change,s=e.reset,o=e.submitting,l=e.pristine,c=e.invalid,u=e.values;return i.a.createElement("form",{onSubmit:function(){var e=Object(kc.a)(Ac.a.mark(function e(t){return Ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:s();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(Bn.a,{name:"fileupload",component:Ls,label:"Select/Drop Botium Box Import File (*.ndf, *.json) or Zip Archive (*.zip)",values:u,change:r,validate:Ms,onFileLoaded:function(e,n){if(e.endsWith(".json")||e.endsWith(".ndf"))try{var s=JSON.parse(atob(n));r("filename",e),r("filecontent",JSON.stringify(s)),t("Read JSON from file ".concat(e))}catch(i){a("Reading JSON from file ".concat(e," failed"),i),r("fileupload",null)}else e.endsWith(".zip")?(r("filename",e),r("filecontent",n)):(a("Only *.ndf, *.json and *.zip files allowed"),r("fileupload",null))}}),i.a.createElement(or,null,"Depending on your database backend, there may be size restrictions for uploaded files."))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{type:"submit",disabled:o||l||c,color:"primary"},i.a.createElement(bm.a,null),"Import from File"))))}})})),i.a.createElement(Ca,{xs:12},i.a.createElement(h.c,{mutation:xs,onCompleted:function(e){t("File imported")},onError:function(e){a("File import failed",e)}},function(e,t){t.loading,t.error;return i.a.createElement(Bn.b,{onSubmit:function(t){e({variables:{prismaUrl:t.prismaUrl}})},render:function(e){var t=e.handleSubmit,a=(e.form.change,e.reset),n=e.submitting,r=e.pristine,s=e.invalid;e.values;return i.a.createElement("form",{onSubmit:function(){var e=Object(kc.a)(Ac.a.mark(function e(n){return Ac.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:a();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12},i.a.createElement(Bn.a,{name:"prismaUrl",component:Is,label:"Or enter HTTP URL to download the file to import from",validate:Ks(qs,Ms)}))),i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{type:"submit",disabled:n||r||s,color:"primary"},i.a.createElement(bm.a,null),"Import from URL"))))}})})))}}]),t}(i.a.Component),fh=Object(c.b)(function(e){return e},{setAlertSuccessMessage:Nt,setAlertErrorMessage:_t})(te()(Hb)(gh)),Sh=a(43),vh=Sh.hasPermission,Th=Sh.hasAnyPermission,yh=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.user;return i.a.createElement(Aa,null,i.a.createElement(X.Helmet,null,i.a.createElement("title",null,"Settings")),i.a.createElement(Ca,{xs:12},i.a.createElement(rd,{headerColor:"info",tabs:[{tabName:"Version",tabIcon:up.a,tabContent:i.a.createElement(hh,null),locationPrefix:"/settings/version"},{tabName:"User Management",tabIcon:rt.a,disabled:!vh(e,"USERS_MANAGE"),tabContent:i.a.createElement(qb,null),locationPrefix:"/settings/users"},{tabName:"API Keys Managment",tabIcon:Vb.a,disabled:!Th(e,["APIKEYS_SELECT","APIKEYS_MANAGE"]),tabContent:i.a.createElement(th,null),locationPrefix:"/settings/apikeys"},{tabName:"Device Providers",tabIcon:Bb.a,disabled:!Th(e,["DEVICEPROVIDERS_SELECT","DEVICEPROVIDERS_MANAGE"]),tabContent:i.a.createElement(oh,null),locationPrefix:"/settings/deviceproviders"},{tabName:"Registered Components",tabIcon:Wb.a,disabled:!Th(e,["REGISTEREDCOMPONENTS_SELECT","REGISTEREDCOMPONENTS_MANAGE"]),tabContent:i.a.createElement(ph,null),locationPrefix:"/settings/registeredcomponents"},{tabName:"System Settings",tabIcon:Rd.a,disabled:!vh(e,"SYSTEMSETTINGS_MANAGE"),tabContent:i.a.createElement(bh,null),locationPrefix:"/settings/system"},{tabName:"Import",tabIcon:dp.a,disabled:!vh(e,"IMPORT_PRISMA"),tabContent:i.a.createElement(fh,null),locationPrefix:"/settings/import"}]})))}}]),t}(i.a.Component),xh=Object(c.b)(function(e){return{token:e.token.token,user:e.token.user}})(te()(Hb)(yh)),Oh=a(377),Ch=a.n(Oh),Ah=Object(Ee.a)({},ai,ka);function kh(){var e=Object(oa.a)(["\n  query AutoLoginQuery {\n    autologin {\n      token\n      user {\n        id\n        name\n        email\n        roles { id name permissions }\n        clients { id name }\n      }\n    }\n  }\n"]);return kh=function(){return e},e}function Ih(){var e=Object(oa.a)(["\n  mutation LoginMutation($email: String!, $password: String!) {\n    login(name: $email, email: $email, password: $password) {\n      token\n      user {\n        id\n        name\n        email\n        roles { id name permissions }\n        clients { id name }\n      }\n    }\n  }\n"]);return Ih=function(){return e},e}var Ph=Object(da.a)(Ih()),wh=Object(da.a)(kh()),Rh=function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.setLogin,r=this.props,s=r.setAlertSuccessMessage,o=r.history,l=Ch.a.parse(this.props.location.search).forward||"/";return i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12,sm:12,md:12},i.a.createElement(fn,null,i.a.createElement(vn,{color:"info"},i.a.createElement("h4",{className:a.cardTitleWhite},"Botium Box Login")),i.a.createElement(yn,null,i.a.createElement(h.d,{query:wh,fetchPolicy:"network-only"},function(t){var a=t.loading,r=t.error,c=t.data;return a?i.a.createElement(ca.a,{size:50}):r?i.a.createElement(Dn,{err:r}):c.autologin&&c.autologin.token?(n(c.autologin.token,c.autologin.user),s("User ".concat(c.autologin.user.name," automatically logged in ...")),o.push(l),null):e.renderLoginForm(l)})))))}},{key:"renderLoginForm",value:function(e){var t=this.props,a=t.setLogin,n=t.clearClient,r=t.client,s=this.props,o=s.setAlertSuccessMessage,l=s.setAlertErrorMessage,c=s.history;return i.a.createElement(h.c,{mutation:Ph,onCompleted:function(t){o("User ".concat(t.login.user.name," logged in ...")),a(t.login.token,t.login.user),"premium"===wt.buildTarget&&(t.login.user.clients&&0!==t.login.user.clients.length?r&&!t.login.user.clients.find(function(e){return e.id===r.id})?n():r||n():n()),c.push(e)},onError:function(e){l("Login failed!",e)}},function(e,t){t.loading,t.error;return i.a.createElement(Bn.b,{onSubmit:function(t){e({variables:{email:t.email,password:t.password}})},render:function(e){var t=e.handleSubmit,a=(e.form,e.reset,e.submitting),n=e.pristine,r=e.invalid;e.values;return i.a.createElement("form",{onSubmit:t},i.a.createElement(Aa,null,i.a.createElement(Z.a,{xsDown:!0},i.a.createElement(Ca,{sm:2,md:3})),i.a.createElement(Ca,{xs:12,sm:8,md:6},i.a.createElement(Aa,null,i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"email",component:Is,label:"Email or Username",validate:Ms})),i.a.createElement(Ca,{xs:12},i.a.createElement(Bn.a,{name:"password",component:ks,label:"Password",validate:Ms})),i.a.createElement(Ca,{xs:12},i.a.createElement(yt,{type:"submit",disabled:a||n||r,color:"primary"},"Login")),i.a.createElement(Ca,{xs:12},i.a.createElement(or,null,"Need access ? Please contact your Administrator."))))))}})})}}]),t}(i.a.Component),jh=[{path:"/login",navbarName:"Login",component:Object(c.b)(function(e){return{token:e.token.token,client:e.token.client}},function(e){return Object(y.b)({setLogin:H,setClient:z,clearClient:$,setAlertSuccessMessage:Nt,setAlertErrorMessage:_t},e)})(te()(Ah)(Rh)),sidebar:!1,unprotected:!0},{path:"/dashboard",sidebarName:"Home",navbarName:"Botium Dashboard",icon:"home",component:Ro,sidebar:!0},{path:"/quicksearch/:searchTerm",navbarName:"Botium Box Search",component:pm,sidebar:!1},{path:"/testprojects/list",sidebarName:"Test Projects",navbarName:"Test Projects",icon:"tab",component:Cb,sidebar:!0,checkPermission:"TESTPROJECTS_SELECT"},{path:"/testprojects/view/:id",navbarName:"Test Projects",component:Fb,sidebar:!1},{path:"/quickstart",sidebarName:"Quickstart",secondary:i.a.createElement(yt,{size:"sm",color:"danger"},"Start here!"),navbarName:"Quickstart",icon:"folder_special",component:Qu,sidebar:!0,checkPermission:"TESTPROJECTS_CREATE"},{path:"/testsessions/list",sidebarName:"Test Results",navbarName:"Test Results",icon:"bug_reports",component:jm,sidebar:!0,checkPermission:"TESTSESSIONS_SELECT"},{path:"/testsessions/view/:id",navbarName:"Test Results",component:Pd,sidebar:!1},{path:"/performancetestsessions/view/:id",navbarName:"Performance Test Results",component:Vd,sidebar:!1},{path:"/testsets/list",sidebarName:"Test Sets",navbarName:"Test Sets",icon:"table_chart",component:Jp,sidebar:!0,checkPermission:"TESTSETS_SELECT"},{path:"/testsets/view/gdpr",navbarName:"GDPR Test Set (german)",component:mb,sidebar:!1},{path:"/testsets/view/:id",navbarName:"Test Sets",component:lb,sidebar:!1},{path:"/testsets/register",navbarName:"Test Sets",component:lb,sidebar:!1},{path:"/testsets/view/:testSetId/register",navbarName:"Test Sets",component:fE,sidebar:!1,nested:!0},{path:"/testsets/view/:testSetId/view/:id",navbarName:"Test Sets",component:fE,sidebar:!1,nested:!0},{path:"/chatbots/list",sidebarName:"Chatbots",navbarName:"Chatbots",icon:"chat_bubble",component:ap,sidebar:!0,checkPermission:"CHATBOTS_SELECT"},{path:"/chatbots/view/:id",navbarName:"Chatbots",component:vp,sidebar:!1},{path:"/chatbots/livechat/:id",navbarName:"Live Chat",component:zp,sidebar:!1},{path:"/chatbots/register",navbarName:"Chatbots",component:vp,sidebar:!1},{path:"/devicesets/list",sidebarName:"Device Labs",navbarName:"Device Labs",icon:"device_hub",component:hb,sidebar:!0,checkPermission:"DEVICESETS_SELECT"},{path:"/devicesets/view/:id",navbarName:"Device Labs",component:Tb,sidebar:!1},{path:"/devicesets/register",navbarName:"Device Labs",component:Tb,sidebar:!1},{path:"/agents/list",sidebarName:"Botium Agents",navbarName:"Botium Agents",icon:"laptop",component:Wd,sidebar:!0,checkPermission:"AGENTS_SELECT"},{path:"/agents/view/:id",navbarName:"Botium Agents",component:Xd,sidebar:!1},{path:"/agents/register",navbarName:"Botium Agents",component:Xd,sidebar:!1},{path:"/settings",sidebarName:"Settings",navbarName:"Botium Box Settings",icon:"settings",component:xh,sidebar:!0},{href:"https://botium.atlassian.net/wiki/spaces/BOTIUM/overview",sidebarName:"Botium Wiki",navbarName:"Botium Wiki",icon:"help",sidebar:!0},{redirect:!0,path:"/",to:"/dashboard",navbarName:"Redirect"}],Nh=function(e){var t;return{wrapper:{position:"relative",top:"0",height:"100vh"},mainPanel:Object(Ee.a)((t={},Object(re.a)(t,e.breakpoints.up("md"),{width:"calc(100% - ".concat(260,"px)")}),Object(re.a)(t,"overflow","auto"),Object(re.a)(t,"position","relative"),Object(re.a)(t,"float","right"),t),be,{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),content:{marginTop:"70px",padding:"10px 5px",minHeight:"calc(100vh - 123px)"},container:he,map:{marginTop:"70px"}}},_h=a(378),Dh=a.n(_h),Fh=te()(Nh)(function(e){var t=e.component,a=e.unprotected,n=e.token,r=e.path,s=e.classes,o=Object(K.a)(e,["component","unprotected","token","path","classes"]);return a||n?i.a.createElement(C.a,Object.assign({path:r},o,{render:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Vt,o),i.a.createElement("div",{className:s.content},i.a.createElement("div",{className:s.container},i.a.createElement(t,e))),i.a.createElement(Bt,null),i.a.createElement(ia,null))}})):i.a.createElement(J.a,{path:r,to:"/login?forward=".concat(r)})}),Lh=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.state={mobileOpen:!1,showScreenWarning:!0},a.resizeFunction=a.resizeFunction.bind(Object(q.a)(Object(q.a)(a))),a.handleDrawerToggle=a.handleDrawerToggle.bind(Object(q.a)(Object(q.a)(a))),a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"resizeFunction",value:function(){window.innerWidth>=960&&this.setState({mobileOpen:!1})}},{key:"componentDidMount",value:function(){navigator.platform.indexOf("Win")>-1&&new Q.a(this.refs.mainPanel),window.addEventListener("resize",this.resizeFunction)}},{key:"componentDidUpdate",value:function(e){e.history.location.pathname!==e.location.pathname&&(this.refs.mainPanel.scrollTop=0,this.state.mobileOpen&&this.setState({mobileOpen:!1}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeFunction)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=Object(K.a)(t,["classes"]),r=this.props.token,s=this.state.showScreenWarning;return i.a.createElement("div",{className:a.wrapper},i.a.createElement(X.Helmet,{titleTemplate:"%s | Botium Box"},i.a.createElement("title",null,"Dashboard")),i.a.createElement(Z.a,{mdUp:!0,implementation:"css"},i.a.createElement(_e,{place:"tc",color:"danger",icon:ne.a,message:"Botium Box is optimized for desktop screens. Smaller screen resolutions will break the user experience.",open:s,closeNotification:function(){e.setState({showScreenWarning:!1})},close:!0})),i.a.createElement(h.d,{query:Xr},function(e){e.loading;var t=e.error,a=e.data;e.refetch;return!t&&a&&a.license?a.license.isOperable?a.license.isValid?null:i.a.createElement(_e,{place:"tc",color:"warning",icon:ne.a,message:"Botium Box License has expired, graceful shutdown period is running. Please update the Botium Box License. Your data is safe!",open:!0,close:!1}):i.a.createElement(_e,{place:"tc",color:"danger",icon:ne.a,message:"Botium Box License has expired and is over the graceful shutdown period. Please update the Botium Box License. Switching to Read-Only-Mode - your data is safe!",open:!0,close:!1}):null}),i.a.createElement(ra,Object.assign({routes:jh,logoText:"Botium Box",logo:Dh.a,handleDrawerToggle:this.handleDrawerToggle,open:this.state.mobileOpen,color:"blue"},n)),i.a.createElement("div",{className:a.mainPanel,ref:"mainPanel"},i.a.createElement(O.a,null,jh.map(function(t,a){return t.path?t.redirect?i.a.createElement(J.a,{from:t.path,to:t.to,key:a}):t.nested?null:i.a.createElement(Fh,{path:t.path,component:t.component,unprotected:t.unprotected,token:r,key:a,handleDrawerToggle:e.handleDrawerToggle,navbarName:t.navbarName}):null}))))}}]),t}(i.a.Component),Vh=Object(c.b)(function(e){return{token:e.token.token}},function(e){return Object(y.b)(n,e)})(Lh),Mh=[{path:"/",component:te()(Nh)(Vh)}],Bh=Object(A.a)(),Uh=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(v.a)(t).call(this,e))).checkToken(a.props.token),a}return Object(T.a)(t,e),Object(f.a)(t,[{key:"checkToken",value:function(e){var t=this.props.clearLogin;if(null!==e&&void 0!==e)try{P(e)&&t()}catch(a){t()}else t()}},{key:"render",value:function(){return i.a.createElement(x.a,{history:Bh},i.a.createElement(O.a,null,Mh.map(function(e,t){return i.a.createElement(C.a,{path:e.path,component:e.component,key:t})})))}}]),t}(i.a.Component),Wh=Object(c.b)(function(e){return{token:e.token.token}},function(e){return Object(y.b)({clearLogin:G},e)})(Uh),Hh=a(379),Gh=a(380),zh=a(381),$h=a.n(zh);var qh={token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(Ee.a)({},e,{token:t.payload.token,user:t.payload.user});case R:var a=Object(Ee.a)({},e);return delete a.token,delete a.user,a;case j:return Object(Ee.a)({},e,{client:t.payload.client});case N:var n=Object(Ee.a)({},e);return delete n.client,n;default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return t.payload;case D:return{};default:return e}},table:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(Ee.a)({},e,Object(re.a)({},t.payload.table,t.payload.settings));case L:if(e[t.payload.table]){var a=Object(Ee.a)({},e);return delete a[t.payload.table],a}return e;default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(Ee.a)({},e,Object(re.a)({},t.payload.section,t.payload.settings));case M:if(e[t.payload.section]){var a=Object(Ee.a)({},e);return delete a[t.payload.section],a}return e;default:return e}}},Kh=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}},Jh=function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(a)}};a(753),a(755),a(757),a(759),a(761),a(763);var Xh=function(e){var t=Object(y.a)(Gh.a,Object(Hh.createLogger)({collapsed:!0})),a=Object(y.c)(qh),n=Object.assign(e,Kh()),r=Object(y.d)(a,n,t);return r.subscribe($h()(function(){Jh(r.getState())},1e3)),r}({}),Qh=new u.a({uri:wt.graphql.uri}),Yh=new E.a(function(e,t){var a=Xh.dispatch(function(e,t){return((a=t())&&a.token||{}).token;var a}),n=Xh.dispatch(function(e,t){return((a=t())&&a.token||{}).client;var a});return e.setContext({headers:{Authorization:a?"Bearer ".concat(a):"","Botium-Box-Client":n&&n.id||""}}),t(e)}).concat(Qh),Zh=new p.a({uri:wt.graphql.ws,options:{reconnect:!0,connectionParams:function(){var e=Xh.dispatch(function(e,t){return((a=t())&&a.token||{}).token;var a}),t=Xh.dispatch(function(e,t){return((a=t())&&a.token||{}).client;var a});return{Authorization:e,BotiumBoxClient:t&&t.id}}}}),eg=Xh.dispatch(function(e,t){return((a=t())&&a.token||{}).token;var a});Xh.subscribe(function(){var e=Xh.getState(),t=e.token&&e.token.token;eg!==t&&(Zh.subscriptionClient.close(!1,!1),eg=t)});var tg=Object(E.d)(function(e){var t=e.query,a=Object(b.l)(t),n=a.kind,r=a.operation;return"OperationDefinition"===n&&"subscription"===r},Zh,Yh),ag=new m.a({link:E.a.from([tg]),cache:new d.a,connectToDevTools:!0,addTypename:!0});l.a.render(i.a.createElement(c.a,{store:Xh},i.a.createElement(h.b,{client:ag},i.a.createElement(Wh,null))),document.getElementById("root"))}},[[419,2,1]]]);